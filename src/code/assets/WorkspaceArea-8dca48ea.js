import{_ as vf,a as yf,b as gf,c as bf,r as d,w as j,d as Q,u as wf,e as hl,P as se,f as x,g as U,C as ml,B as ra,I as zr,h as pe,i as Pe,j as na,k as rt,T as vl,l as yl,m as Wt,n as gl,o as En,p as an,q as de,M as bl,s as N,t as _f,v as Of,x as Pf,y as ii,G as Ef,z as $f,A as Ue,D as K,E as ke,F as Hr,H as wl,J as oa,K as Sf,L as kf,N as Tf,O as Cf,Q as Rf,R as If,S as xf,U as jf,V as Df,W as Mf,X as i,Y as le,Z as M,$ as W,a0 as A,a1 as L,a2 as Wf,a3 as Nf,a4 as G,a5 as J,a6 as X,a7 as _l,a8 as aa,a9 as Bf,aa as ye,ab as it,ac as ia,ad as ue,ae as Af,af as Lf,ag as ne,ah as nt,ai as Vr,aj as zf,ak as Ol,al as me,am as Nt,an as Hf,ao as ca,ap as Me,aq as Pl,ar as V,as as ct,at as he,au as Vf,av as Ze,aw as Ff,ax as ee,ay as qf,az as El,aA as Uf,aB as $l,aC as Kf,aD as Zf,aE as Fr,aF as la,aG as Gf,aH as qr,aI as T,aJ as Sl,aK as ua,aL as kl,aM as sa,aN as Jf,aO as Xf,aP as Yf,aQ as fe,aR as $n,aS as ot,aT as Ur,aU as Tl,aV as Qf,aW as ed,aX as Cl,aY as td,aZ as rd,a_ as cn,a$ as nd,b0 as od,b1 as ad,b2 as id,b3 as Sn,b4 as cd,b5 as Oe,b6 as ld,b7 as ci,b8 as ud,b9 as Rl,ba as Kr,bb as kn,bc as Tn,bd as sd,be as Il,bf as Bt,bg as fd,bh as dd,bi as pd,bj as hd,bk as md,bl as vd,bm as li,bn as yd,bo as gd,bp as bd,bq as wd,br as _d,bs as ui,bt as fa,bu as Od,bv as Pd,bw as Ed,bx as At,by as xl,bz as Ge,bA as $d,bB as Sd,bC as kd,bD as vt,bE as Td,bF as Cd,bG as yt,bH as Rd,bI as Id,bJ as xd,bK as jd,bL as Dd,bM as Md,bN as Wd,bO as Nd,bP as Bd,bQ as Ad,bR as Ld,bS as zd,bT as Hd,bU as Vd,bV as Fd,bW as qd,bX as Ud,bY as jl,bZ as Kd,b_ as Zd,b$ as Gd,c0 as ge,c1 as Jd,c2 as Xd,c3 as Yd,c4 as da,c5 as Dl,c6 as pa,c7 as ha,c8 as ma,c9 as Qd,ca as ep,cb as tp,cc as rp,cd as np,ce as Ml,cf as op,cg as ap,ch as ip,ci as cp,cj as lp,ck as Wl,cl as up,cm as Nl,cn as Bl,co as sp,cp as fp,cq as dp,cr as pp,cs as hp,ct as ln,cu as mp,cv as Al,cw as vp,cx as Ll,cy as si,cz as fi,cA as yp,cB as gp,cC as bp,cD as wp,cE as _p,cF as Op}from"./index-a06b0714.js";function Pp(t){return vf(t)||yf(t)||gf(t)||bf()}var Ep=d.createContext({});const zl=Ep;var $p=function(e){var r={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],r),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],r)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}},Sp=d.forwardRef(function(e,r){var n=e.children,o=e.classes,a=e.className,c=e.defaultExpanded,l=c===void 0?!1:c,u=e.disabled,s=u===void 0?!1:u,f=e.expanded,p=e.onChange,h=e.square,m=h===void 0?!1:h,v=e.TransitionComponent,b=v===void 0?ml:v,O=e.TransitionProps,P=Q(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),g=wf({controlled:f,default:l,name:"Accordion",state:"expanded"}),$=hl(g,2),R=$[0],H=$[1],Y=d.useCallback(function(k){H(!R),p&&p(k,!R)},[R,p,H]),w=d.Children.toArray(n),y=Pp(w),E=y[0],S=y.slice(1),_=d.useMemo(function(){return{expanded:R,disabled:s,toggle:Y}},[R,s,Y]);return d.createElement(se,x({className:U(o.root,a,R&&o.expanded,s&&o.disabled,!m&&o.rounded),ref:r,square:m},P),d.createElement(zl.Provider,{value:_},E),d.createElement(b,x({in:R,timeout:"auto"},O),d.createElement("div",{"aria-labelledby":E.props.id,id:E.props["aria-controls"],role:"region"},S)))});const Hl=j($p,{name:"MuiAccordion"})(Sp);var kp=function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}},Tp=d.forwardRef(function(e,r){var n=e.classes,o=e.className,a=Q(e,["classes","className"]);return d.createElement("div",x({className:U(n.root,o),ref:r},a))});const Vl=j(kp,{name:"MuiAccordionDetails"})(Tp);var Cp=function(e){var r={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:8*6,transition:e.transitions.create(["min-height","background-color"],r),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused, &$focusVisible":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},focusVisible:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],r),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",r),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}},Rp=d.forwardRef(function(e,r){var n=e.children,o=e.classes,a=e.className,c=e.expandIcon,l=e.focusVisibleClassName,u=e.IconButtonProps,s=u===void 0?{}:u,f=e.onClick,p=Q(e,["children","classes","className","expandIcon","focusVisibleClassName","IconButtonProps","onClick"]),h=d.useContext(zl),m=h.disabled,v=m===void 0?!1:m,b=h.expanded,O=h.toggle,P=function($){O&&O($),f&&f($)};return d.createElement(ra,x({focusRipple:!1,disableRipple:!0,disabled:v,component:"div","aria-expanded":b,className:U(o.root,a,v&&o.disabled,b&&o.expanded),focusVisibleClassName:U(o.focusVisible,o.focused,l),onClick:P,ref:r},p),d.createElement("div",{className:U(o.content,b&&o.expanded)},n),c&&d.createElement(zr,x({className:U(o.expandIcon,b&&o.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},s),c))});const Fl=j(Cp,{name:"MuiAccordionSummary"})(Rp);var Ip=function(e){var r=e.palette.type==="light"?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:r,color:e.palette.getContrastText(r)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}},xp=d.forwardRef(function(e,r){var n=e.classes,o=e.className,a=e.color,c=a===void 0?"primary":a,l=e.position,u=l===void 0?"fixed":l,s=Q(e,["classes","className","color","position"]);return d.createElement(se,x({square:!0,component:"header",elevation:4,className:U(n.root,n["position".concat(pe(u))],n["color".concat(pe(c))],o,u==="fixed"&&"mui-fixed"),ref:r},s))});const Zr=j(Ip,{name:"MuiAppBar"})(xp);var jp={entering:{opacity:1},entered:{opacity:1}},Dp={enter:Pe.enteringScreen,exit:Pe.leavingScreen},Mp=d.forwardRef(function(e,r){var n=e.children,o=e.disableStrictModeCompat,a=o===void 0?!1:o,c=e.in,l=e.onEnter,u=e.onEntered,s=e.onEntering,f=e.onExit,p=e.onExited,h=e.onExiting,m=e.style,v=e.TransitionComponent,b=v===void 0?vl:v,O=e.timeout,P=O===void 0?Dp:O,g=Q(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),$=na(),R=$.unstable_strictMode&&!a,H=d.useRef(null),Y=rt(n.ref,r),w=rt(R?H:void 0,Y),y=function(I){return function(B,Z){if(I){var oe=R?[H.current,B]:[B,Z],ae=hl(oe,2),ve=ae[0],be=ae[1];be===void 0?I(ve):I(ve,be)}}},E=y(s),S=y(function(D,I){yl(D);var B=Wt({style:m,timeout:P},{mode:"enter"});D.style.webkitTransition=$.transitions.create("opacity",B),D.style.transition=$.transitions.create("opacity",B),l&&l(D,I)}),_=y(u),k=y(h),C=y(function(D){var I=Wt({style:m,timeout:P},{mode:"exit"});D.style.webkitTransition=$.transitions.create("opacity",I),D.style.transition=$.transitions.create("opacity",I),f&&f(D)}),z=y(p);return d.createElement(b,x({appear:!0,in:c,nodeRef:R?H:void 0,onEnter:S,onEntered:_,onEntering:E,onExit:C,onExited:z,onExiting:k,timeout:P},g),function(D,I){return d.cloneElement(n,x({style:x({opacity:0,visibility:D==="exited"&&!c?"hidden":void 0},jp[D],m,n.props.style),ref:w},I))})});const ql=Mp;var Wp={root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Np=d.forwardRef(function(e,r){var n=e.children,o=e.classes,a=e.className,c=e.invisible,l=c===void 0?!1:c,u=e.open,s=e.transitionDuration,f=e.TransitionComponent,p=f===void 0?ql:f,h=Q(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return d.createElement(p,x({in:u,timeout:s},h),d.createElement("div",{className:U(o.root,a,l&&o.invisible),"aria-hidden":!0,ref:r},n))});const va=j(Wp,{name:"MuiBackdrop"})(Np);var Bp={root:{overflow:"hidden"}},Ap=d.forwardRef(function(e,r){var n=e.classes,o=e.className,a=e.raised,c=a===void 0?!1:a,l=Q(e,["classes","className","raised"]);return d.createElement(se,x({className:U(n.root,o),elevation:c?8:1,ref:r},l))});const di=j(Bp,{name:"MuiCard"})(Ap);var Lp={root:{padding:16,"&:last-child":{paddingBottom:24}}},zp=d.forwardRef(function(e,r){var n=e.classes,o=e.className,a=e.component,c=a===void 0?"div":a,l=Q(e,["classes","className","component"]);return d.createElement(c,x({className:U(n.root,o),ref:r},l))});const pi=j(Lp,{name:"MuiCardContent"})(zp);function hi(t){return t.substring(2).toLowerCase()}function Hp(t){return document.documentElement.clientWidth<t.clientX||document.documentElement.clientHeight<t.clientY}function Vp(t){var e=t.children,r=t.disableReactTree,n=r===void 0?!1:r,o=t.mouseEvent,a=o===void 0?"onClick":o,c=t.onClickAway,l=t.touchEvent,u=l===void 0?"onTouchEnd":l,s=d.useRef(!1),f=d.useRef(null),p=d.useRef(!1),h=d.useRef(!1);d.useEffect(function(){return setTimeout(function(){p.current=!0},0),function(){p.current=!1}},[]);var m=d.useCallback(function(g){f.current=gl.findDOMNode(g)},[]),v=rt(e.ref,m),b=En(function(g){var $=h.current;if(h.current=!1,!(!p.current||!f.current||Hp(g))){if(s.current){s.current=!1;return}var R;if(g.composedPath)R=g.composedPath().indexOf(f.current)>-1;else{var H=an(f.current);R=!H.documentElement.contains(g.target)||f.current.contains(g.target)}!R&&(n||!$)&&c(g)}}),O=function($){return function(R){h.current=!0;var H=e.props[$];H&&H(R)}},P={ref:v};return u!==!1&&(P[u]=O(u)),d.useEffect(function(){if(u!==!1){var g=hi(u),$=an(f.current),R=function(){s.current=!0};return $.addEventListener(g,b),$.addEventListener("touchmove",R),function(){$.removeEventListener(g,b),$.removeEventListener("touchmove",R)}}},[b,u]),a!==!1&&(P[a]=O(a)),d.useEffect(function(){if(a!==!1){var g=hi(a),$=an(f.current);return $.addEventListener(g,b),function(){$.removeEventListener(g,b)}}},[b,a]),d.createElement(d.Fragment,null,d.cloneElement(e,P))}var Fp=function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":de({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":de({},e.breakpoints.down(e.breakpoints.values.sm+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":de({},e.breakpoints.down(e.breakpoints.values.md+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":de({},e.breakpoints.down(e.breakpoints.values.lg+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":de({},e.breakpoints.down(e.breakpoints.values.xl+32*2),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}},qp={enter:Pe.enteringScreen,exit:Pe.leavingScreen},Up=d.forwardRef(function(e,r){var n=e.BackdropProps,o=e.children,a=e.classes,c=e.className,l=e.disableBackdropClick,u=l===void 0?!1:l,s=e.disableEscapeKeyDown,f=s===void 0?!1:s,p=e.fullScreen,h=p===void 0?!1:p,m=e.fullWidth,v=m===void 0?!1:m,b=e.maxWidth,O=b===void 0?"sm":b,P=e.onBackdropClick,g=e.onClose,$=e.onEnter,R=e.onEntered,H=e.onEntering,Y=e.onEscapeKeyDown,w=e.onExit,y=e.onExited,E=e.onExiting,S=e.open,_=e.PaperComponent,k=_===void 0?se:_,C=e.PaperProps,z=C===void 0?{}:C,D=e.scroll,I=D===void 0?"paper":D,B=e.TransitionComponent,Z=B===void 0?ql:B,oe=e.transitionDuration,ae=oe===void 0?qp:oe,ve=e.TransitionProps,be=e["aria-describedby"],Ee=e["aria-labelledby"],xe=Q(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),we=d.useRef(),He=function($e){we.current=$e.target},Xe=function($e){$e.target===$e.currentTarget&&$e.target===we.current&&(we.current=null,P&&P($e),!u&&g&&g($e,"backdropClick"))};return d.createElement(bl,x({className:U(a.root,c),BackdropComponent:va,BackdropProps:x({transitionDuration:ae},n),closeAfterTransition:!0},u?{disableBackdropClick:u}:{},{disableEscapeKeyDown:f,onEscapeKeyDown:Y,onClose:g,open:S,ref:r},xe),d.createElement(Z,x({appear:!0,in:S,timeout:ae,onEnter:$,onEntering:H,onEntered:R,onExit:w,onExiting:E,onExited:y,role:"none presentation"},ve),d.createElement("div",{className:U(a.container,a["scroll".concat(pe(I))]),onMouseUp:Xe,onMouseDown:He},d.createElement(k,x({elevation:24,role:"dialog","aria-describedby":be,"aria-labelledby":Ee},z,{className:U(a.paper,a["paperScroll".concat(pe(I))],a["paperWidth".concat(pe(String(O)))],z.className,h&&a.paperFullScreen,v&&a.paperFullWidth)}),o))))});const We=j(Fp,{name:"MuiDialog"})(Up);var Kp={root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},Zp=d.forwardRef(function(e,r){var n=e.disableSpacing,o=n===void 0?!1:n,a=e.classes,c=e.className,l=Q(e,["disableSpacing","classes","className"]);return d.createElement("div",x({className:U(a.root,c,!o&&a.spacing),ref:r},l))});const lt=j(Kp,{name:"MuiDialogActions"})(Zp);var Gp=function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}},Jp=d.forwardRef(function(e,r){var n=e.classes,o=e.className,a=e.dividers,c=a===void 0?!1:a,l=Q(e,["classes","className","dividers"]);return d.createElement("div",x({className:U(n.root,o,c&&n.dividers),ref:r},l))});const Gr=j(Gp,{name:"MuiDialogContent"})(Jp);var Xp={root:{marginBottom:12}},Yp=d.forwardRef(function(e,r){return d.createElement(N,x({component:"p",variant:"body1",color:"textSecondary",ref:r},e))});const Qp=j(Xp,{name:"MuiDialogContentText"})(Yp);var eh={root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},th=d.forwardRef(function(e,r){var n=e.children,o=e.classes,a=e.className,c=e.disableTypography,l=c===void 0?!1:c,u=Q(e,["children","classes","className","disableTypography"]);return d.createElement("div",x({className:U(o.root,a),ref:r},u),l?n:d.createElement(N,{component:"h2",variant:"h6"},n))});const Ne=j(eh,{name:"MuiDialogTitle"})(th);function rh(t,e){var r=e.getBoundingClientRect(),n;if(e.fakeTransform)n=e.fakeTransform;else{var o=window.getComputedStyle(e);n=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}var a=0,c=0;if(n&&n!=="none"&&typeof n=="string"){var l=n.split("(")[1].split(")")[0].split(",");a=parseInt(l[4],10),c=parseInt(l[5],10)}return t==="left"?"translateX(".concat(window.innerWidth,"px) translateX(").concat(a-r.left,"px)"):t==="right"?"translateX(-".concat(r.left+r.width-a,"px)"):t==="up"?"translateY(".concat(window.innerHeight,"px) translateY(").concat(c-r.top,"px)"):"translateY(-".concat(r.top+r.height-c,"px)")}function gt(t,e){var r=rh(t,e);r&&(e.style.webkitTransform=r,e.style.transform=r)}var nh={enter:Pe.enteringScreen,exit:Pe.leavingScreen},oh=d.forwardRef(function(e,r){var n=e.children,o=e.direction,a=o===void 0?"down":o,c=e.in,l=e.onEnter,u=e.onEntered,s=e.onEntering,f=e.onExit,p=e.onExited,h=e.onExiting,m=e.style,v=e.timeout,b=v===void 0?nh:v,O=e.TransitionComponent,P=O===void 0?vl:O,g=Q(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),$=na(),R=d.useRef(null),H=d.useCallback(function(I){R.current=gl.findDOMNode(I)},[]),Y=rt(n.ref,H),w=rt(Y,r),y=function(B){return function(Z){B&&(Z===void 0?B(R.current):B(R.current,Z))}},E=y(function(I,B){gt(a,I),yl(I),l&&l(I,B)}),S=y(function(I,B){var Z=Wt({timeout:b,style:m},{mode:"enter"});I.style.webkitTransition=$.transitions.create("-webkit-transform",x({},Z,{easing:$.transitions.easing.easeOut})),I.style.transition=$.transitions.create("transform",x({},Z,{easing:$.transitions.easing.easeOut})),I.style.webkitTransform="none",I.style.transform="none",s&&s(I,B)}),_=y(u),k=y(h),C=y(function(I){var B=Wt({timeout:b,style:m},{mode:"exit"});I.style.webkitTransition=$.transitions.create("-webkit-transform",x({},B,{easing:$.transitions.easing.sharp})),I.style.transition=$.transitions.create("transform",x({},B,{easing:$.transitions.easing.sharp})),gt(a,I),f&&f(I)}),z=y(function(I){I.style.webkitTransition="",I.style.transition="",p&&p(I)}),D=d.useCallback(function(){R.current&&gt(a,R.current)},[a]);return d.useEffect(function(){if(!(c||a==="down"||a==="right")){var I=_f(function(){R.current&&gt(a,R.current)});return window.addEventListener("resize",I),function(){I.clear(),window.removeEventListener("resize",I)}}},[a,c]),d.useEffect(function(){c||D()},[c,D]),d.createElement(P,x({nodeRef:R,onEnter:E,onEntered:_,onEntering:S,onExit:C,onExited:z,onExiting:k,appear:!0,in:c,timeout:b},g),function(I,B){return d.cloneElement(n,x({ref:w,style:x({visibility:I==="exited"&&!c?"hidden":void 0},m,n.props.style)},B))})});const Ul=oh;var ah=function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}},Kl={left:"right",right:"left",top:"down",bottom:"up"};function ih(t){return["left","right"].indexOf(t)!==-1}function ch(t,e){return t.direction==="rtl"&&ih(e)?Kl[e]:e}var lh={enter:Pe.enteringScreen,exit:Pe.leavingScreen},uh=d.forwardRef(function(e,r){var n=e.anchor,o=n===void 0?"left":n,a=e.BackdropProps,c=e.children,l=e.classes,u=e.className,s=e.elevation,f=s===void 0?16:s,p=e.ModalProps;p=p===void 0?{}:p;var h=p.BackdropProps,m=Q(p,["BackdropProps"]),v=e.onClose,b=e.open,O=b===void 0?!1:b,P=e.PaperProps,g=P===void 0?{}:P,$=e.SlideProps,R=e.TransitionComponent,H=R===void 0?Ul:R,Y=e.transitionDuration,w=Y===void 0?lh:Y,y=e.variant,E=y===void 0?"temporary":y,S=Q(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),_=na(),k=d.useRef(!1);d.useEffect(function(){k.current=!0},[]);var C=ch(_,o),z=d.createElement(se,x({elevation:E==="temporary"?f:0,square:!0},g,{className:U(l.paper,l["paperAnchor".concat(pe(C))],g.className,E!=="temporary"&&l["paperAnchorDocked".concat(pe(C))])}),c);if(E==="permanent")return d.createElement("div",x({className:U(l.root,l.docked,u),ref:r},S),z);var D=d.createElement(H,x({in:O,direction:Kl[C],timeout:w,appear:k.current},$),z);return E==="persistent"?d.createElement("div",x({className:U(l.root,l.docked,u),ref:r},S),D):d.createElement(bl,x({BackdropProps:x({},a,h,{transitionDuration:w}),BackdropComponent:va,className:U(l.root,l.modal,u),open:O,onClose:v,ref:r},S,m),D)});const Zl=j(ah,{name:"MuiDrawer",flip:!1})(uh);var sh=function(e){return{root:x({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}},fh=d.forwardRef(function(e,r){var n=e.children,o=e.classes,a=e.className,c=e.color,l=c===void 0?"default":c,u=e.component,s=u===void 0?"button":u,f=e.disabled,p=f===void 0?!1:f,h=e.disableFocusRipple,m=h===void 0?!1:h,v=e.focusVisibleClassName,b=e.size,O=b===void 0?"large":b,P=e.variant,g=P===void 0?"circular":P,$=Q(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return d.createElement(ra,x({className:U(o.root,a,O!=="large"&&o["size".concat(pe(O))],p&&o.disabled,g==="extended"&&o.extended,{primary:o.primary,secondary:o.secondary,inherit:o.colorInherit}[l]),component:s,disabled:p,focusRipple:!m,focusVisibleClassName:U(o.focusVisible,v),ref:r},$),d.createElement("span",{className:o.label},n))});const Gl=j(sh,{name:"MuiFab"})(fh);var dh=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}},ph=d.forwardRef(function(e,r){e.checked;var n=e.classes,o=e.className,a=e.control,c=e.disabled;e.inputRef;var l=e.label,u=e.labelPlacement,s=u===void 0?"end":u;e.name,e.onChange,e.value;var f=Q(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"]),p=Of(),h=c;typeof h>"u"&&typeof a.props.disabled<"u"&&(h=a.props.disabled),typeof h>"u"&&p&&(h=p.disabled);var m={disabled:h};return["checked","name","onChange","value","inputRef"].forEach(function(v){typeof a.props[v]>"u"&&typeof e[v]<"u"&&(m[v]=e[v])}),d.createElement("label",x({className:U(n.root,o,s!=="end"&&n["labelPlacement".concat(pe(s))],h&&n.disabled),ref:r},f),d.cloneElement(a,m),d.createElement(N,{component:"span",className:U(n.label,h&&n.disabled)},l))});const St=j(dh,{name:"MuiFormControlLabel"})(ph);var hh=[0,1,2,3,4,5,6,7,8,9,10],mh=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function vh(t,e,r){var n={};mh.forEach(function(o){var a="grid-".concat(r,"-").concat(o);if(o===!0){n[a]={flexBasis:0,flexGrow:1,maxWidth:"100%"};return}if(o==="auto"){n[a]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};return}var c="".concat(Math.round(o/12*1e8)/1e6,"%");n[a]={flexBasis:c,flexGrow:0,maxWidth:c}}),r==="xs"?x(t,n):t[e.breakpoints.up(r)]=n}function un(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=parseFloat(t);return"".concat(r/e).concat(String(t).replace(String(r),"")||"px")}function yh(t,e){var r={};return hh.forEach(function(n){var o=t.spacing(n);o!==0&&(r["spacing-".concat(e,"-").concat(n)]={margin:"-".concat(un(o,2)),width:"calc(100% + ".concat(un(o),")"),"& > $item":{padding:un(o,2)}})}),r}var gh=function(e){return x({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},yh(e,"xs"),e.breakpoints.keys.reduce(function(r,n){return vh(r,e,n),r},{}))},bh=d.forwardRef(function(e,r){var n=e.alignContent,o=n===void 0?"stretch":n,a=e.alignItems,c=a===void 0?"stretch":a,l=e.classes,u=e.className,s=e.component,f=s===void 0?"div":s,p=e.container,h=p===void 0?!1:p,m=e.direction,v=m===void 0?"row":m,b=e.item,O=b===void 0?!1:b,P=e.justify,g=e.justifyContent,$=g===void 0?"flex-start":g,R=e.lg,H=R===void 0?!1:R,Y=e.md,w=Y===void 0?!1:Y,y=e.sm,E=y===void 0?!1:y,S=e.spacing,_=S===void 0?0:S,k=e.wrap,C=k===void 0?"wrap":k,z=e.xl,D=z===void 0?!1:z,I=e.xs,B=I===void 0?!1:I,Z=e.zeroMinWidth,oe=Z===void 0?!1:Z,ae=Q(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),ve=U(l.root,u,h&&[l.container,_!==0&&l["spacing-xs-".concat(String(_))]],O&&l.item,oe&&l.zeroMinWidth,v!=="row"&&l["direction-xs-".concat(String(v))],C!=="wrap"&&l["wrap-xs-".concat(String(C))],c!=="stretch"&&l["align-items-xs-".concat(String(c))],o!=="stretch"&&l["align-content-xs-".concat(String(o))],(P||$)!=="flex-start"&&l["justify-content-xs-".concat(String(P||$))],B!==!1&&l["grid-xs-".concat(String(B))],E!==!1&&l["grid-sm-".concat(String(E))],w!==!1&&l["grid-md-".concat(String(w))],H!==!1&&l["grid-lg-".concat(String(H))],D!==!1&&l["grid-xl-".concat(String(D))]);return d.createElement(f,x({className:ve,ref:r},ae))}),wh=j(gh,{name:"MuiGrid"})(bh);const q=wh;var _h=function(e){var r=e.palette.type==="light"?.8:.98,n=Pf(e.palette.background.default,r);return{root:x({},e.typography.body2,de({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},Oh=d.forwardRef(function(e,r){var n=e.action,o=e.classes,a=e.className,c=e.message,l=e.role,u=l===void 0?"alert":l,s=Q(e,["action","classes","className","message","role"]);return d.createElement(se,x({role:u,square:!0,elevation:6,className:U(o.root,a),ref:r},s),d.createElement("div",{className:o.message},c),n?d.createElement("div",{className:o.action},n):null)});const Ph=j(_h,{name:"MuiSnackbarContent"})(Oh);var Eh=function(e){var r={top:8},n={bottom:8},o={justifyContent:"flex-end"},a={justifyContent:"flex-start"},c={top:24},l={bottom:24},u={right:24},s={left:24},f={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:x({},r,de({},e.breakpoints.up("sm"),x({},c,f))),anchorOriginBottomCenter:x({},n,de({},e.breakpoints.up("sm"),x({},l,f))),anchorOriginTopRight:x({},r,o,de({},e.breakpoints.up("sm"),x({left:"auto"},c,u))),anchorOriginBottomRight:x({},n,o,de({},e.breakpoints.up("sm"),x({left:"auto"},l,u))),anchorOriginTopLeft:x({},r,a,de({},e.breakpoints.up("sm"),x({right:"auto"},c,s))),anchorOriginBottomLeft:x({},n,a,de({},e.breakpoints.up("sm"),x({right:"auto"},l,s)))}},$h=d.forwardRef(function(e,r){var n=e.action,o=e.anchorOrigin;o=o===void 0?{vertical:"bottom",horizontal:"center"}:o;var a=o.vertical,c=o.horizontal,l=e.autoHideDuration,u=l===void 0?null:l,s=e.children,f=e.classes,p=e.className,h=e.ClickAwayListenerProps,m=e.ContentProps,v=e.disableWindowBlurListener,b=v===void 0?!1:v,O=e.message,P=e.onClose,g=e.onEnter,$=e.onEntered,R=e.onEntering,H=e.onExit,Y=e.onExited,w=e.onExiting,y=e.onMouseEnter,E=e.onMouseLeave,S=e.open,_=e.resumeHideDuration,k=e.TransitionComponent,C=k===void 0?Ef:k,z=e.transitionDuration,D=z===void 0?{enter:Pe.enteringScreen,exit:Pe.leavingScreen}:z,I=e.TransitionProps,B=Q(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),Z=d.useRef(),oe=d.useState(!0),ae=oe[0],ve=oe[1],be=En(function(){P&&P.apply(void 0,arguments)}),Ee=En(function(Te){!P||Te==null||(clearTimeout(Z.current),Z.current=setTimeout(function(){be(null,"timeout")},Te))});d.useEffect(function(){return S&&Ee(u),function(){clearTimeout(Z.current)}},[S,u,Ee]);var xe=function(){clearTimeout(Z.current)},we=d.useCallback(function(){u!=null&&Ee(_??u*.5)},[u,_,Ee]),He=function(Ye){y&&y(Ye),xe()},Xe=function(Ye){E&&E(Ye),we()},on=function(Ye){P&&P(Ye,"clickaway")},$e=function(){ve(!0)},mf=function(){ve(!1)};return d.useEffect(function(){if(!b&&S)return window.addEventListener("focus",we),window.addEventListener("blur",xe),function(){window.removeEventListener("focus",we),window.removeEventListener("blur",xe)}},[b,we,S]),!S&&ae?null:d.createElement(Vp,x({onClickAway:on},h),d.createElement("div",x({className:U(f.root,f["anchorOrigin".concat(pe(a)).concat(pe(c))],p),onMouseEnter:He,onMouseLeave:Xe,ref:r},B),d.createElement(C,x({appear:!0,in:S,onEnter:ii(mf,g),onEntered:$,onEntering:R,onExit:H,onExited:ii($e,Y),onExiting:w,timeout:D,direction:a==="top"?"down":"up"},I),s||d.createElement(Ph,x({message:O,action:n},m)))))});const Sh=j(Eh,{flip:!1,name:"MuiSnackbar"})($h);var Jl=d.memo(function(t){var e=t.connect,r=t.src;if(typeof Image<"u"){var n=new Image;n.src=r,n.onload=function(){return e(n)}}return null});Jl.displayName="DragPreviewImage";function kh(t,e){return Rh(t)||Ch(t,e)||Th()}function Th(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Ch(t,e){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]"){var r=[],n=!0,o=!1,a=void 0;try{for(var c=t[Symbol.iterator](),l;!(n=(l=c.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(u){o=!0,a=u}finally{try{!n&&c.return!=null&&c.return()}finally{if(o)throw a}}return r}}function Rh(t){if(Array.isArray(t))return t}function Xl(t,e,r){var n=$f(t,e,r),o=kh(n,2),a=o[0],c=o[1];return Ue(function(){var u=t.getHandlerId();if(u!=null)return t.subscribeToStateChange(c,{handlerIds:[u]})},[t,c]),a}function Yl(t,e,r){var n=r.getRegistry(),o=n.addTarget(t,e);return[o,function(){return n.removeTarget(o)}]}function Ql(t,e,r){var n=r.getRegistry(),o=n.addSource(t,e);return[o,function(){return n.removeSource(o)}]}function Ih(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xh(t,e,r){return e&&mi(t.prototype,e),r&&mi(t,r),t}var sn=!1,fn=!1,eu=function(){function t(e){Ih(this,t),this.sourceId=null,this.internalMonitor=e.getMonitor()}return xh(t,[{key:"receiveHandlerId",value:function(r){this.sourceId=r}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){K(!sn,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return sn=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{sn=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;K(!fn,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return fn=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{fn=!1}}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"isDraggingSource",value:function(r){return this.internalMonitor.isDraggingSource(r)}},{key:"isOverTarget",value:function(r,n){return this.internalMonitor.isOverTarget(r,n)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(r){return this.internalMonitor.subscribeToOffsetChange(r)}},{key:"canDragSource",value:function(r){return this.internalMonitor.canDragSource(r)}},{key:"canDropOnTarget",value:function(r){return this.internalMonitor.canDropOnTarget(r)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),t}();function vi(t,e){typeof t=="function"?t(e):t.current=e}function jh(t,e){var r=t.ref;return K(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),r?d.cloneElement(t,{ref:function(o){vi(r,o),vi(e,o)}}):d.cloneElement(t,{ref:e})}function Dh(t){if(typeof t.type!="string"){var e=t.type.displayName||t.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(e," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function Mh(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!d.isValidElement(e)){var n=e;return t(n,r),n}var o=e;Dh(o);var a=r?function(c){return t(c,r)}:t;return jh(o,a)}}function tu(t){var e={};return Object.keys(t).forEach(function(r){var n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{var o=Mh(n);e[r]=function(){return o}}}),e}function kt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kt=function(r){return typeof r}:kt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kt(t)}function Cn(t){return t!==null&&kt(t)==="object"&&t.hasOwnProperty("current")}function Wh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nh(t,e,r){return e&&yi(t.prototype,e),r&&yi(t,r),t}var ru=function(){function t(e){var r=this;Wh(this,t),this.hooks=tu({dragSource:function(o,a){r.clearDragSource(),r.dragSourceOptions=a||null,Cn(o)?r.dragSourceRef=o:r.dragSourceNode=o,r.reconnectDragSource()},dragPreview:function(o,a){r.clearDragPreview(),r.dragPreviewOptions=a||null,Cn(o)?r.dragPreviewRef=o:r.dragPreviewNode=o,r.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}return Nh(t,[{key:"receiveHandlerId",value:function(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var r=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(n&&this.disconnectDragSource(),!!this.handlerId){if(!r){this.lastConnectedDragSource=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var r=this.dragPreview,n=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();this.handlerId?this.dragPreview&&n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.disconnectDragPreview(),this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions)):this.disconnectDragPreview()}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!ke(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!ke(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(r){this.dragSourceOptionsInternal=r}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(r){this.dragPreviewOptionsInternal=r}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}]),t}();function Bh(t,e){return zh(t)||Lh(t,e)||Ah()}function Ah(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Lh(t,e){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]"){var r=[],n=!0,o=!1,a=void 0;try{for(var c=t[Symbol.iterator](),l;!(n=(l=c.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(u){o=!0,a=u}finally{try{!n&&c.return!=null&&c.return()}finally{if(o)throw a}}return r}}function zh(t){if(Array.isArray(t))return t}function Tt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tt=function(r){return typeof r}:Tt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tt(t)}function Hh(){var t=Hr(),e=d.useMemo(function(){return new eu(t)},[t]),r=d.useMemo(function(){return new ru(t.getBackend())},[t]);return[e,r]}function Vh(t,e,r){var n=Hr(),o=d.useMemo(function(){return{beginDrag:function(){var c=t.current,l=c.begin,u=c.item;if(l){var s=l(e);return K(s==null||Tt(s)==="object","dragSpec.begin() must either return an object, undefined, or null"),s||u||{}}return u||{}},canDrag:function(){return typeof t.current.canDrag=="boolean"?t.current.canDrag:typeof t.current.canDrag=="function"?t.current.canDrag(e):!0},isDragging:function(c,l){var u=t.current.isDragging;return u?u(e):l===c.getSourceId()},endDrag:function(){var c=t.current.end;c&&c(e.getItem(),e),r.reconnect()}}},[]);Ue(function(){var c=Ql(t.current.item.type,o,n),l=Bh(c,2),u=l[0],s=l[1];return e.receiveHandlerId(u),r.receiveHandlerId(u),s},[])}function Fh(t,e){return Kh(t)||Uh(t,e)||qh()}function qh(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Uh(t,e){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]"){var r=[],n=!0,o=!1,a=void 0;try{for(var c=t[Symbol.iterator](),l;!(n=(l=c.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(u){o=!0,a=u}finally{try{!n&&c.return!=null&&c.return()}finally{if(o)throw a}}return r}}function Kh(t){if(Array.isArray(t))return t}function Zh(t){var e=d.useRef(t);e.current=t,K(t.item!=null,"item must be defined"),K(t.item.type!=null,"item type must be defined");var r=Hh(),n=Fh(r,2),o=n[0],a=n[1];Vh(e,o,a);var c=Xl(o,e.current.collect||function(){return{}},function(){return a.reconnect()}),l=d.useMemo(function(){return a.hooks.dragSource()},[a]),u=d.useMemo(function(){return a.hooks.dragPreview()},[a]);return Ue(function(){a.dragSourceOptions=e.current.options||null,a.reconnect()},[a]),Ue(function(){a.dragPreviewOptions=e.current.previewOptions||null,a.reconnect()},[a]),[c,l,u]}function Gh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jh(t,e,r){return e&&gi(t.prototype,e),r&&gi(t,r),t}var nu=function(){function t(e){var r=this;Gh(this,t),this.hooks=tu({dropTarget:function(o,a){r.clearDropTarget(),r.dropTargetOptions=a,Cn(o)?r.dropTargetRef=o:r.dropTargetNode=o,r.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}return Jh(t,[{key:"reconnect",value:function(){var r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();var n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!ke(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(r){this.dropTargetOptionsInternal=r}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}]),t}();function Xh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Yh(t,e,r){return e&&bi(t.prototype,e),r&&bi(t,r),t}var dn=!1,ou=function(){function t(e){Xh(this,t),this.targetId=null,this.internalMonitor=e.getMonitor()}return Yh(t,[{key:"receiveHandlerId",value:function(r){this.targetId=r}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;K(!dn,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return dn=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{dn=!1}}},{key:"isOver",value:function(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),t}();function Qh(t,e){return rm(t)||tm(t,e)||em()}function em(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function tm(t,e){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]"){var r=[],n=!0,o=!1,a=void 0;try{for(var c=t[Symbol.iterator](),l;!(n=(l=c.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(u){o=!0,a=u}finally{try{!n&&c.return!=null&&c.return()}finally{if(o)throw a}}return r}}function rm(t){if(Array.isArray(t))return t}function nm(){var t=Hr(),e=d.useMemo(function(){return new ou(t)},[t]),r=d.useMemo(function(){return new nu(t.getBackend())},[t]);return[e,r]}function om(t,e,r){var n=Hr(),o=d.useMemo(function(){return{canDrop:function(){var c=t.current.canDrop;return c?c(e.getItem(),e):!0},hover:function(){var c=t.current.hover;c&&c(e.getItem(),e)},drop:function(){var c=t.current.drop;if(c)return c(e.getItem(),e)}}},[e]);Ue(function(){var c=Yl(t.current.accept,o,n),l=Qh(c,2),u=l[0],s=l[1];return e.receiveHandlerId(u),r.receiveHandlerId(u),s},[e,r])}function am(t,e){return lm(t)||cm(t,e)||im()}function im(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function cm(t,e){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]"){var r=[],n=!0,o=!1,a=void 0;try{for(var c=t[Symbol.iterator](),l;!(n=(l=c.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(u){o=!0,a=u}finally{try{!n&&c.return!=null&&c.return()}finally{if(o)throw a}}return r}}function lm(t){if(Array.isArray(t))return t}function au(t){var e=d.useRef(t);e.current=t,K(t.accept!=null,"accept must be defined");var r=nm(),n=am(r,2),o=n[0],a=n[1];om(e,o,a);var c=Xl(o,e.current.collect||function(){return{}},function(){return a.reconnect()}),l=d.useMemo(function(){return a.hooks.dropTarget()},[a]);return Ue(function(){a.dropTargetOptions=t.options||null,a.reconnect()},[t.options]),[c,l]}function Ct(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ct=function(r){return typeof r}:Ct=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ct(t)}function wi(t){return typeof t=="function"}function iu(){}function um(t){return Ct(t)==="object"&&t!==null}function at(t){if(!um(t))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function cu(t){var e=t.current;return e==null?null:e.decoratedRef?e.decoratedRef.current:e}function sm(t){return t&&t.prototype&&typeof t.prototype.render=="function"}function fm(t){return t&&t.$$typeof&&t.$$typeof.toString()==="Symbol(react.forward_ref)"}function lu(t){return sm(t)||fm(t)}function ya(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ga(t,e,r){return e&&_i(t.prototype,e),r&&_i(t,r),t}var Rn=function(){function t(e){ya(this,t),this.isDisposed=!1,this.action=wi(e)?e:iu}return ga(t,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(r){return r&&wi(r.dispose)}},{key:"_fixup",value:function(r){return t.isDisposable(r)?r:t.empty}},{key:"create",value:function(r){return new t(r)}}]),t}();Rn.empty={dispose:iu};var dm=function(){function t(){ya(this,t),this.isDisposed=!1;for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.disposables=r}return ga(t,[{key:"add",value:function(r){this.isDisposed?r.dispose():this.disposables.push(r)}},{key:"remove",value:function(r){var n=!1;if(!this.isDisposed){var o=this.disposables.indexOf(r);o!==-1&&(n=!0,this.disposables.splice(o,1),r.dispose())}return n}},{key:"clear",value:function(){if(!this.isDisposed){for(var r=this.disposables.length,n=new Array(r),o=0;o<r;o++)n[o]=this.disposables[o];this.disposables=[];for(var a=0;a<r;a++)n[a].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var r=this.disposables.length,n=new Array(r),o=0;o<r;o++)n[o]=this.disposables[o];this.disposables=[];for(var a=0;a<r;a++)n[a].dispose()}}}]),t}(),Oi=function(){function t(){ya(this,t),this.isDisposed=!1}return ga(t,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(r){var n=this.isDisposed;if(!n){var o=this.current;this.current=r,o&&o.dispose()}n&&r&&r.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var r=this.current;this.current=void 0,r&&r.dispose()}}}]),t}();function Rt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rt=function(r){return typeof r}:Rt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rt(t)}function pm(t,e){return vm(t)||mm(t,e)||hm()}function hm(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function mm(t,e){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]"){var r=[],n=!0,o=!1,a=void 0;try{for(var c=t[Symbol.iterator](),l;!(n=(l=c.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(u){o=!0,a=u}finally{try{!n&&c.return!=null&&c.return()}finally{if(o)throw a}}return r}}function vm(t){if(Array.isArray(t))return t}function ym(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gm(t,e,r){return e&&Pi(t.prototype,e),r&&Pi(t,r),t}function bm(t,e){return e&&(Rt(e)==="object"||typeof e=="function")?e:wm(t)}function wm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function In(t){return In=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},In(t)}function _m(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xn(t,e)}function xn(t,e){return xn=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},xn(t,e)}function uu(t){var e=t.DecoratedComponent,r=t.createHandler,n=t.createMonitor,o=t.createConnector,a=t.registerHandler,c=t.containerDisplayName,l=t.getType,u=t.collect,s=t.options,f=s.arePropsEqual,p=f===void 0?ke:f,h=e,m=e.displayName||e.name||"Component",v=function(b){_m(O,b);function O(P){var g;return ym(this,O),g=bm(this,In(O).call(this,P)),g.decoratedRef=d.createRef(),g.handleChange=function(){var $=g.getCurrentState();ke($,g.state)||g.setState($)},g.disposable=new Oi,g.receiveProps(P),g.dispose(),g}return gm(O,[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return K(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(g,$){return!p(g,this.props)||!ke($,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new Oi,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(g){p(this.props,g)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(g){this.handler&&(this.handler.receiveProps(g),this.receiveType(l(g)))}},{key:"receiveType",value:function(g){if(!(!this.handlerMonitor||!this.manager||!this.handlerConnector)&&g!==this.currentType){this.currentType=g;var $=a(g,this.handler,this.manager),R=pm($,2),H=R[0],Y=R[1];this.handlerId=H,this.handlerMonitor.receiveHandlerId(H),this.handlerConnector.receiveHandlerId(H);var w=this.manager.getMonitor(),y=w.subscribeToStateChange(this.handleChange,{handlerIds:[H]});this.disposable.setDisposable(new dm(new Rn(y),new Rn(Y)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){if(!this.handlerConnector)return{};var g=u(this.handlerConnector.hooks,this.handlerMonitor,this.props);return g}},{key:"render",value:function(){var g=this;return d.createElement(oa.Consumer,null,function($){var R=$.dragDropManager;return g.receiveDragDropManager(R),typeof requestAnimationFrame<"u"&&requestAnimationFrame(function(){return g.handlerConnector.reconnect()}),d.createElement(h,Object.assign({},g.props,g.getCurrentState(),{ref:lu(h)?g.decoratedRef:null}))})}},{key:"receiveDragDropManager",value:function(g){this.manager===void 0&&(K(g!==void 0,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",m,m),g!==void 0&&(this.manager=g,this.handlerMonitor=n(g),this.handlerConnector=o(g.getBackend()),this.handler=r(this.handlerMonitor,this.decoratedRef)))}}]),O}(d.Component);return v.DecoratedComponent=e,v.displayName="".concat(c,"(").concat(m,")"),wl(v,e)}function It(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?It=function(r){return typeof r}:It=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},It(t)}function ba(t,e){return typeof t=="string"||It(t)==="symbol"||!!e&&Array.isArray(t)&&t.every(function(r){return ba(r,!1)})}function Om(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ei(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pm(t,e,r){return e&&Ei(t.prototype,e),r&&Ei(t,r),t}var $i=["canDrag","beginDrag","isDragging","endDrag"],Em=["beginDrag"],$m=function(){function t(e,r,n){var o=this;Om(this,t),this.props=null,this.beginDrag=function(){if(o.props){var a=o.spec.beginDrag(o.props,o.monitor,o.ref.current);return a}},this.spec=e,this.monitor=r,this.ref=n}return Pm(t,[{key:"receiveProps",value:function(r){this.props=r}},{key:"canDrag",value:function(){return this.props?this.spec.canDrag?this.spec.canDrag(this.props,this.monitor):!0:!1}},{key:"isDragging",value:function(r,n){return this.props?this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):n===r.getSourceId():!1}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,cu(this.ref))}}]),t}();function Sm(t){return Object.keys(t).forEach(function(e){K($i.indexOf(e)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',$i.join(", "),e),K(typeof t[e]=="function","Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",e,e,t[e])}),Em.forEach(function(e){K(typeof t[e]=="function","Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",e,e,t[e])}),function(r,n){return new $m(t,r,n)}}function km(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=t;typeof t!="function"&&(K(ba(t),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t),o=function(){return t}),K(at(e),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e);var a=Sm(e);return K(typeof r=="function",'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',r),K(at(n),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',r),function(l){return uu({containerDisplayName:"DragSource",createHandler:a,registerHandler:Ql,createConnector:function(s){return new ru(s)},createMonitor:function(s){return new eu(s)},DecoratedComponent:l,getType:o,collect:r,options:n})}}function Tm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Si(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cm(t,e,r){return e&&Si(t.prototype,e),r&&Si(t,r),t}var ki=["canDrop","hover","drop"],Rm=function(){function t(e,r,n){Tm(this,t),this.props=null,this.spec=e,this.monitor=r,this.ref=n}return Cm(t,[{key:"receiveProps",value:function(r){this.props=r}},{key:"receiveMonitor",value:function(r){this.monitor=r}},{key:"canDrop",value:function(){return this.spec.canDrop?this.spec.canDrop(this.props,this.monitor):!0}},{key:"hover",value:function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,cu(this.ref))}},{key:"drop",value:function(){if(this.spec.drop){var r=this.spec.drop(this.props,this.monitor,this.ref.current);return r}}}]),t}();function Im(t){return Object.keys(t).forEach(function(e){K(ki.indexOf(e)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',ki.join(", "),e),K(typeof t[e]=="function","Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",e,e,t[e])}),function(r,n){return new Rm(t,r,n)}}function xm(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=t;typeof t!="function"&&(K(ba(t,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t),o=function(){return t}),K(at(e),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e);var a=Im(e);return K(typeof r=="function",'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',r),K(at(n),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',r),function(l){return uu({containerDisplayName:"DropTarget",createHandler:a,registerHandler:Yl,createMonitor:function(s){return new ou(s)},createConnector:function(s){return new nu(s)},DecoratedComponent:l,getType:o,collect:r,options:n})}}function tt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tt=function(r){return typeof r}:tt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tt(t)}function jm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ti(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dm(t,e,r){return e&&Ti(t.prototype,e),r&&Ti(t,r),t}function Mm(t,e){return e&&(tt(e)==="object"||typeof e=="function")?e:Wm(t)}function Wm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jn(t){return jn=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},jn(t)}function Nm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dn(t,e)}function Dn(t,e){return Dn=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Dn(t,e)}function Bm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return K(typeof t=="function",'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",t),K(at(e),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',e),function(n){var o=n,a=e.arePropsEqual,c=a===void 0?ke:a,l=o.displayName||o.name||"Component",u=function(s){Nm(f,s);function f(){var p;return jm(this,f),p=Mm(this,jn(f).apply(this,arguments)),p.isCurrentlyMounted=!1,p.ref=d.createRef(),p.handleChange=function(){if(p.isCurrentlyMounted){var h=p.getCurrentState();ke(h,p.state)||p.setState(h)}},p}return Dm(f,[{key:"getDecoratedComponentInstance",value:function(){return K(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current}},{key:"shouldComponentUpdate",value:function(h,m){return!c(h,this.props)||!ke(m,this.state)}},{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)}},{key:"render",value:function(){var h=this;return d.createElement(oa.Consumer,null,function(m){var v=m.dragDropManager;return v===void 0||(h.receiveDragDropManager(v),!h.isCurrentlyMounted)?null:d.createElement(o,Object.assign({},h.props,h.state,{ref:lu(o)?h.ref:null}))})}},{key:"receiveDragDropManager",value:function(h){if(this.manager===void 0){this.manager=h,K(tt(h)==="object","Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",l,l);var m=this.manager.getMonitor();this.unsubscribeFromOffsetChange=m.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=m.subscribeToStateChange(this.handleChange)}}},{key:"getCurrentState",value:function(){if(!this.manager)return{};var h=this.manager.getMonitor();return t(h,this.props)}}]),f}(d.Component);return u.displayName="DragLayer(".concat(l,")"),u.DecoratedComponent=n,wl(u,n)}}const Am=Object.freeze(Object.defineProperty({__proto__:null,DndContext:oa,DndProvider:Sf,DragLayer:Bm,DragPreviewImage:Jl,DragSource:km,DropTarget:xm,createDndContext:kf,useDrag:Zh,useDragLayer:Tf,useDrop:au},Symbol.toStringTag,{value:"Module"})),Lm=Object.freeze(Object.defineProperty({__proto__:null,HTML5DragTransition:Cf,MouseTransition:Rf,Preview:If,TouchTransition:xf,createTransition:jf,default:Df},Symbol.toStringTag,{value:"Module"}));function zm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ci(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vm(n.key),n)}}function Hm(t,e,r){return e&&Ci(t.prototype,e),r&&Ci(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vm(t){var e=Fm(t,"string");return typeof e=="symbol"?e:String(e)}function Fm(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mn(t,e)}function Mn(t,e){return Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Mn(t,e)}function Um(t){var e=Gm();return function(){var n=Lt(t),o;if(e){var a=Lt(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Km(this,o)}}function Km(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zm(t)}function Zm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lt(t){return Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lt(t)}var su=function(t){qm(r,t);var e=Um(r);function r(){return zm(this,r),e.apply(this,arguments)}return Hm(r,[{key:"render",value:function(){var o=this.props,a=o.error,c=o.removeError,l=o.t,u=!Mf(a);return a?i.createElement(We,{"aria-labelledby":"error-dialog-title",id:"error-dialog",onClose:function(){return c(a.id)},open:u},i.createElement(Ne,{id:"error-dialog-title",disableTypography:!0},i.createElement(N,{variant:"h2"},l("errorDialogTitle"))),i.createElement(Gr,{disableTypography:!0},i.createElement(Qp,{variant:"body2",noWrap:!0,color:"inherit"},"".concat(a.message)),i.createElement(lt,null,i.createElement(le,{onClick:function(){return c(a.id)},variant:"contained"},l("errorDialogConfirm"))))):null}}]),r}(d.Component);su.defaultProps={error:null,removeError:function(){},t:function(e){return e}};var Jm=function(e){return{error:Wf(e)}},Xm={removeError:Nf},Ym=M(L(),A(Jm,Xm),W("ErrorDialog"));const Qm=Ym(su);var wa={},ev=J,tv=X;Object.defineProperty(wa,"__esModule",{value:!0});var _a=wa.default=void 0,rv=tv(d),nv=ev(G()),ov=(0,nv.default)(rv.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddSharp");_a=wa.default=ov;function av(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ri(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cv(n.key),n)}}function iv(t,e,r){return e&&Ri(t.prototype,e),r&&Ri(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cv(t){var e=lv(t,"string");return typeof e=="symbol"?e:String(e)}function lv(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wn(t,e)}function Wn(t,e){return Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Wn(t,e)}function sv(t){var e=pv();return function(){var n=zt(t),o;if(e){var a=zt(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fv(this,o)}}function fv(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dv(t)}function dv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pv(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zt(t){return zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zt(t)}var fu=function(t){uv(r,t);var e=sv(r);function r(){return av(this,r),e.apply(this,arguments)}return iv(r,[{key:"render",value:function(){var o=this.props,a=o.classes,c=o.t,l=o.setWorkspaceAddVisibility,u=o.isWorkspaceAddVisible,s=o.useExtendedFab;return i.createElement(_l,{title:c(u?"closeAddResourceMenu":"addResource")},i.createElement(Gl,{size:"medium",color:"primary",id:"addBtn",disableRipple:!0,"aria-label":u?c("closeAddResourceMenu"):s&&c("startHere")||c("addResource"),className:a.fab,classes:{primary:a.fabPrimary,secondary:a.fabSecondary},variant:s?"extended":"circular",onClick:function(){l(!u)}},u?i.createElement(aa,null):i.createElement(_a,null),s&&c("startHere")))}}]),r}(d.Component);fu.defaultProps={isWorkspaceAddVisible:!1,t:function(e){return e}};var hv=function(e,r){var n=r.width,o=ye(e),a=o.isWorkspaceAddVisible;return{isWorkspaceAddVisible:a,useExtendedFab:n!=="xs"&&!a&&it(e).length===0}},mv={setWorkspaceAddVisibility:ia},vv=function(e){return{fab:{margin:e.spacing(1)},fabPrimary:{"&:focus":{backgroundColor:e.palette.primary.dark}},fabSecondary:{"&:focus":{backgroundColor:e.palette.secondary.dark}}}},yv=M(L(),j(vv),Bf(),A(hv,mv),W("WorkspaceAddButton"));const gv=yv(fu);var Oa={},bv=J,wv=X;Object.defineProperty(Oa,"__esModule",{value:!0});var du=Oa.default=void 0,_v=wv(d),Ov=bv(G()),Pv=(0,Ov.default)(_v.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"FullscreenSharp");du=Oa.default=Pv;var Pa={},Ev=J,$v=X;Object.defineProperty(Pa,"__esModule",{value:!0});var pu=Pa.default=void 0,Sv=$v(d),kv=Ev(G()),Tv=(0,kv.default)(Sv.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}),"FullscreenExitSharp");pu=Pa.default=Tv;function Cv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ii(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Iv(n.key),n)}}function Rv(t,e,r){return e&&Ii(t.prototype,e),r&&Ii(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iv(t){var e=xv(t,"string");return typeof e=="symbol"?e:String(e)}function xv(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nn(t,e)}function Nn(t,e){return Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Nn(t,e)}function Dv(t){var e=Nv();return function(){var n=Ht(t),o;if(e){var a=Ht(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Mv(this,o)}}function Mv(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wv(t)}function Wv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nv(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ht(t){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ht(t)}var hu=function(t){jv(r,t);var e=Dv(r);function r(){return Cv(this,r),e.apply(this,arguments)}return Rv(r,[{key:"render",value:function(){var o=this.props,a=o.className,c=o.isFullscreenEnabled,l=o.setWorkspaceFullscreen,u=o.t;return i.createElement(ue,{className:a,"aria-label":u(c?"exitFullScreen":"workspaceFullScreen"),onClick:function(){return l(!c)}},c?i.createElement(pu,null):i.createElement(du,null))}}]),r}(d.Component);hu.defaultProps={className:void 0,isFullscreenEnabled:!1,t:function(e){return e}};var Bv=function(e){return{isFullscreenEnabled:Af(e)}},Av={setWorkspaceFullscreen:Lf},Lv=M(L(),A(Bv,Av),W("FullScreenButton"));const mu=Lv(hu);var Ea={},zv=J,Hv=X;Object.defineProperty(Ea,"__esModule",{value:!0});var vu=Ea.default=void 0,Vv=Hv(d),Fv=zv(G()),qv=(0,Fv.default)(Vv.createElement("path",{d:"M19.44 12.99l-.01.02c.04-.33.08-.67.08-1.01 0-.34-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99 0 .34.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26l-2.11-1.66zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"}),"SettingsSharp");vu=Ea.default=qv;var $a={},Uv=J,Kv=X;Object.defineProperty($a,"__esModule",{value:!0});var yu=$a.default=void 0,Zv=Kv(d),Gv=Uv(G()),Jv=(0,Gv.default)(Zv.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}),"CheckSharp");yu=$a.default=Jv;function Xv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qv(n.key),n)}}function Yv(t,e,r){return e&&xi(t.prototype,e),r&&xi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qv(t){var e=ey(t,"string");return typeof e=="symbol"?e:String(e)}function ey(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ty(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bn(t,e)}function Bn(t,e){return Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Bn(t,e)}function ry(t){var e=ay();return function(){var n=Vt(t),o;if(e){var a=Vt(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ny(this,o)}}function ny(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oy(t)}function oy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ay(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vt(t){return Vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vt(t)}var iy=function(t){ty(r,t);var e=ry(r);function r(){return Xv(this,r),e.apply(this,arguments)}return Yv(r,[{key:"render",value:function(){var o=this.props,a=o.handleClick,c=o.languages;return i.createElement(i.Fragment,null,c.map(function(l){return i.createElement(ne,{button:!l.current,key:l.locale,onClick:function(){a(l.locale)}},i.createElement(nt,null,l.current&&i.createElement(yu,null)),i.createElement(Vr,{primaryTypographyProps:{variant:"body1"}},l.label))}))}}]),r}(d.Component),cy=function(e){return{languages:zf(e)}},ly=function(e,r){var n=r.afterSelect;return{handleClick:function(a){e(Ol({language:a})),n&&n()}}};const uy=M(A(cy,ly),W("LanguageSettings"))(iy);var Sa={},sy=J,fy=X;Object.defineProperty(Sa,"__esModule",{value:!0});var gu=Sa.default=void 0,dy=fy(d),py=sy(G()),hy=(0,py.default)(dy.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z"}),"ExpandLessSharp");gu=Sa.default=hy;var ka={},my=J,vy=X;Object.defineProperty(ka,"__esModule",{value:!0});var Ta=ka.default=void 0,yy=vy(d),gy=my(G()),by=(0,gy.default)(yy.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"}),"ExpandMoreSharp");Ta=ka.default=by;var wy=["children","icon","label"];function _y(t,e){if(t==null)return{};var r=Oy(t,e),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oy(t,e){if(t==null)return{};var r={},n=Object.keys(t),o,a;for(a=0;a<n.length;a++)o=n[a],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}function Py(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ji(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$y(n.key),n)}}function Ey(t,e,r){return e&&ji(t.prototype,e),r&&ji(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $y(t){var e=Sy(t,"string");return typeof e=="symbol"?e:String(e)}function Sy(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ky(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&An(t,e)}function An(t,e){return An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},An(t,e)}function Ty(t){var e=Ry();return function(){var n=Ft(t),o;if(e){var a=Ft(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Cy(this,o)}}function Cy(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bu(t)}function bu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ry(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ft(t){return Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ft(t)}var wu=function(t){ky(r,t);var e=Ty(r);function r(n){var o;return Py(this,r),o=e.call(this,n),o.state={nestedMenuIsOpen:!1},o.handleMenuClick=o.handleMenuClick.bind(bu(o)),o}return Ey(r,[{key:"handleMenuClick",value:function(){var o=this.state.nestedMenuIsOpen;this.setState({nestedMenuIsOpen:!o})}},{key:"render",value:function(){var o=this.state.nestedMenuIsOpen,a=this.props,c=a.children,l=a.icon,u=a.label,s=_y(a,wy);return i.createElement(i.Fragment,null,i.createElement(ne,Object.assign({onClick:this.handleMenuClick,divider:o},s),l&&i.createElement(nt,null,l),i.createElement(Vr,{primaryTypographyProps:{variant:"body1"}},u),o?i.createElement(gu,null):i.createElement(Ta,null)),o&&c)}}]),r}(d.Component);wu.defaultProps={icon:null};function Iy(t){return i.createElement(me,t,i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"90",viewBox:"0 0 300 225"},i.createElement("defs",null,i.createElement("linearGradient",{id:"linear-gradient",x1:"0.5",y1:"1",x2:"0.5",gradientUnits:"objectBoundingBox"},i.createElement("stop",{offset:"0"}),i.createElement("stop",{offset:"0.14",stopOpacity:"0.631"}),i.createElement("stop",{offset:"1",stopOpacity:"0"})),i.createElement("linearGradient",{id:"linear-gradient-2",x1:"0.5",y1:"1",x2:"0.5",gradientUnits:"objectBoundingBox"},i.createElement("stop",{offset:"0",stopColor:"#fff",stopOpacity:"0"}),i.createElement("stop",{offset:"0.23",stopColor:"#fff",stopOpacity:"0.012"}),i.createElement("stop",{offset:"0.36",stopColor:"#fff",stopOpacity:"0.039"}),i.createElement("stop",{offset:"0.47",stopColor:"#fff",stopOpacity:"0.102"}),i.createElement("stop",{offset:"0.57",stopColor:"#fff",stopOpacity:"0.18"}),i.createElement("stop",{offset:"0.67",stopColor:"#fff",stopOpacity:"0.278"}),i.createElement("stop",{offset:"0.75",stopColor:"#fff",stopOpacity:"0.412"}),i.createElement("stop",{offset:"0.83",stopColor:"#fff",stopOpacity:"0.561"}),i.createElement("stop",{offset:"0.91",stopColor:"#fff",stopOpacity:"0.741"}),i.createElement("stop",{offset:"0.98",stopColor:"#fff",stopOpacity:"0.929"}),i.createElement("stop",{offset:"1",stopColor:"#fff"})),i.createElement("clipPath",{id:"clip-elastic_icon"},i.createElement("rect",{width:"300",height:"225"}))),i.createElement("g",{id:"elastic_icon","data-name":"elastic icon",clipPath:"url(#clip-elastic_icon)"},i.createElement("rect",{width:"300",height:"225",fill:"#fff"}),i.createElement("g",{id:"Rectangle_278","data-name":"Rectangle 278",transform:"translate(232 159)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},i.createElement("rect",{width:"54",height:"54",stroke:"none"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"53",height:"53",fill:"none"})),i.createElement("g",{id:"Rectangle_8","data-name":"Rectangle 8",transform:"translate(7 148)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},i.createElement("rect",{width:"70",height:"70",stroke:"none"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"69",height:"69",fill:"none"})),i.createElement("g",{id:"Rectangle_258","data-name":"Rectangle 258",transform:"translate(224 6)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},i.createElement("rect",{width:"70",height:"100",stroke:"none"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"69",height:"99",fill:"none"})),i.createElement("g",{id:"Rectangle_259","data-name":"Rectangle 259",transform:"translate(71 64)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},i.createElement("rect",{width:"115",height:"75",stroke:"none"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"114",height:"74",fill:"none"})),i.createElement("g",{id:"Rectangle_260","data-name":"Rectangle 260",transform:"translate(99 87)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},i.createElement("rect",{width:"115",height:"75",stroke:"none"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"114",height:"74",fill:"none"})),i.createElement("g",{id:"Group_689","data-name":"Group 689"},i.createElement("g",{id:"Group_687","data-name":"Group 687",transform:"translate(0 3)"},i.createElement("path",{id:"checkbox",d:"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z",transform:"translate(1.164 -1.063)",fill:"#010101",fillRule:"evenodd",opacity:"0.246"}),i.createElement("g",{id:"Path_821","data-name":"Path 821",transform:"translate(40 36)",fill:"none"},i.createElement("path",{d:"M0,0H220V147H0Z",stroke:"none"}),i.createElement("path",{d:"M 2 2 L 2 145 L 218 145 L 218 2 L 172.9869689941406 2 L 2 2 M 0 0 L 172.9869689941406 0 L 220 0 L 220 147 L 0 147 L 0 0 Z",stroke:"none",fill:"#01579b"}))),i.createElement("g",{id:"Rectangle_257","data-name":"Rectangle 257",transform:"translate(40 39)",fill:"#fff",stroke:"#01579b",strokeWidth:"2"},i.createElement("rect",{width:"20",height:"147",stroke:"none"}),i.createElement("rect",{x:"1",y:"1",width:"18",height:"145",fill:"none"})),i.createElement("g",{id:"Group_688","data-name":"Group 688",transform:"translate(-27.5 -126)"},i.createElement("circle",{id:"teal_circle","data-name":"teal circle",cx:"7.5",cy:"7.5",r:"7.5",transform:"translate(70 171)",fill:"#009688"}),i.createElement("g",{id:"Group_333","data-name":"Group 333",transform:"translate(70 171)",opacity:"0.12"},i.createElement("path",{id:"gradient_border_2","data-name":"gradient border 2",d:"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z",transform:"translate(-3403 -959)",fill:"url(#linear-gradient)"}),i.createElement("path",{id:"gradient_border_1","data-name":"gradient border 1",d:"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z",transform:"translate(-3403 -959)",fill:"url(#linear-gradient-2)"})))))))}function xy(t){return i.createElement(me,t,i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"90",viewBox:"0 0 300 225"},i.createElement("defs",null,i.createElement("linearGradient",{id:"linear-gradient",x1:"0.5",y1:"1",x2:"0.5",gradientUnits:"objectBoundingBox"},i.createElement("stop",{offset:"0"}),i.createElement("stop",{offset:"0.14",stopOpacity:"0.631"}),i.createElement("stop",{offset:"1",stopOpacity:"0"})),i.createElement("linearGradient",{id:"linear-gradient-2",x1:"0.5",y1:"1",x2:"0.5",gradientUnits:"objectBoundingBox"},i.createElement("stop",{offset:"0",stopColor:"#fff",stopOpacity:"0"}),i.createElement("stop",{offset:"0.23",stopColor:"#fff",stopOpacity:"0.012"}),i.createElement("stop",{offset:"0.36",stopColor:"#fff",stopOpacity:"0.039"}),i.createElement("stop",{offset:"0.47",stopColor:"#fff",stopOpacity:"0.102"}),i.createElement("stop",{offset:"0.57",stopColor:"#fff",stopOpacity:"0.18"}),i.createElement("stop",{offset:"0.67",stopColor:"#fff",stopOpacity:"0.278"}),i.createElement("stop",{offset:"0.75",stopColor:"#fff",stopOpacity:"0.412"}),i.createElement("stop",{offset:"0.83",stopColor:"#fff",stopOpacity:"0.561"}),i.createElement("stop",{offset:"0.91",stopColor:"#fff",stopOpacity:"0.741"}),i.createElement("stop",{offset:"0.98",stopColor:"#fff",stopOpacity:"0.929"}),i.createElement("stop",{offset:"1",stopColor:"#fff"})),i.createElement("clipPath",{id:"clip-mosaic_icon"},i.createElement("rect",{width:"300",height:"225"}))),i.createElement("g",{id:"mosaic_icon","data-name":"mosaic icon",clipPath:"url(#clip-mosaic_icon)"},i.createElement("rect",{width:"300",height:"225",fill:"#fff"}),i.createElement("path",{id:"checkbox",d:"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z",transform:"translate(1.163 1.938)",fill:"#010101",fillRule:"evenodd",opacity:"0.5"}),i.createElement("path",{id:"checkbox-2","data-name":"checkbox",d:"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z",transform:"translate(1.164 1.938)",fill:"#010101",fillRule:"evenodd",opacity:"0.246"}),i.createElement("g",{id:"Path_821","data-name":"Path 821",transform:"translate(40 39)",fill:"none"},i.createElement("path",{d:"M0,0H220V147H0Z",stroke:"none"}),i.createElement("path",{d:"M 2 2 L 2 145 L 218 145 L 218 2 L 172.9869689941406 2 L 2 2 M 0 0 L 172.9869689941406 0 L 220 0 L 220 147 L 0 147 L 0 0 Z",stroke:"none",fill:"#01579b"})),i.createElement("g",{id:"Rectangle_257","data-name":"Rectangle 257",transform:"translate(40 39)",fill:"#fff",stroke:"#01579b",strokeWidth:"2"},i.createElement("rect",{width:"20",height:"147",stroke:"none"}),i.createElement("rect",{x:"1",y:"1",width:"18",height:"145",fill:"none"})),i.createElement("g",{id:"Group_688","data-name":"Group 688",transform:"translate(-27.5 -126)"},i.createElement("circle",{id:"teal_circle","data-name":"teal circle",cx:"7.5",cy:"7.5",r:"7.5",transform:"translate(70 171)",fill:"#009688"}),i.createElement("g",{id:"Group_333","data-name":"Group 333",transform:"translate(70 171)",opacity:"0.12"},i.createElement("path",{id:"gradient_border_2","data-name":"gradient border 2",d:"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z",transform:"translate(-3403 -959)",fill:"url(#linear-gradient)"}),i.createElement("path",{id:"gradient_border_1","data-name":"gradient border 1",d:"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z",transform:"translate(-3403 -959)",fill:"url(#linear-gradient-2)"}))),i.createElement("g",{id:"Rectangle_270","data-name":"Rectangle 270",transform:"translate(60 40.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},i.createElement("rect",{width:"99",height:"72",stroke:"none"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"98",height:"71",fill:"none"})),i.createElement("g",{id:"Rectangle_271","data-name":"Rectangle 271",transform:"translate(159 40.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},i.createElement("rect",{width:"99",height:"72",stroke:"none"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"98",height:"71",fill:"none"})),i.createElement("g",{id:"Rectangle_272","data-name":"Rectangle 272",transform:"translate(192 112.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},i.createElement("rect",{width:"66",height:"71.45",stroke:"none"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"65",height:"70.45",fill:"none"})),i.createElement("g",{id:"Rectangle_284","data-name":"Rectangle 284",transform:"translate(60 112.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},i.createElement("rect",{width:"66",height:"71.45",stroke:"none"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"65",height:"70.45",fill:"none"})),i.createElement("g",{id:"Rectangle_285","data-name":"Rectangle 285",transform:"translate(126 112.647)",fill:"#88c6c3",stroke:"#707070",strokeWidth:"1",opacity:"0.747"},i.createElement("rect",{width:"66",height:"71.45",stroke:"none"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"65",height:"70.45",fill:"none"})))))}var jy=["classes","className"];function Dy(t,e){if(t==null)return{};var r=My(t,e),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function My(t,e){if(t==null)return{};var r={},n=Object.keys(t),o,a;for(a=0;a<n.length;a++)o=n[a],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}function _u(t){var e=t.classes,r=t.className,n=Dy(t,jy),o=[r,e.shadowScrollDialog].join(" ");return i.createElement(Gr,Object.assign({className:o},n))}_u.defaultProps={className:""};function Qe(t,e,r){return e=Wy(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wy(t){var e=Ny(t,"string");return typeof e=="symbol"?e:String(e)}function Ny(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var By=function(e){var r;return{shadowScrollDialog:(r={background:"linear-gradient(".concat(e.palette.background.paper," 30%, rgba(255, 255, 255, 0)), ")+"linear-gradient(rgba(255, 255, 255, 0), ".concat(e.palette.background.paper," 70%) 0 100%, ")+"radial-gradient(50% 0, farthest-side, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)), radial-gradient(50% 100%, farthest-side, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)) 0 100%,"},Qe(r,"background","linear-gradient(".concat(e.palette.background.paper," 30%, rgba(255, 255, 255, 0)), ")+"linear-gradient(rgba(255, 255, 255, 0), ".concat(e.palette.background.paper," 70%) 0 100%, ")+"radial-gradient(farthest-side at 50% 0, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)), radial-gradient(farthest-side at 50% 100%, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)) 0 100%;"),Qe(r,"backgroundAttachment","local, local, scroll, scroll"),Qe(r,"backgroundRepeat","no-repeat"),Qe(r,"backgroundSize","100% 40px, 100% 40px, 100% 14px, 100% 14px"),Qe(r,"overflowY","auto"),r)}};const qt=j(By)(_u);function Ay(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Di(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zy(n.key),n)}}function Ly(t,e,r){return e&&Di(t.prototype,e),r&&Di(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zy(t){var e=Hy(t,"string");return typeof e=="symbol"?e:String(e)}function Hy(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ln(t,e)}function Ln(t,e){return Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Ln(t,e)}function Fy(t){var e=Uy();return function(){var n=Ut(t),o;if(e){var a=Ut(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return qy(this,o)}}function qy(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ou(t)}function Ou(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ut(t){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ut(t)}var Pu=function(t){Vy(r,t);var e=Fy(r);function r(n){var o;return Ay(this,r),o=e.call(this,n),o.handleWorkspaceTypeChange=o.handleWorkspaceTypeChange.bind(Ou(o)),o}return Ly(r,[{key:"handleWorkspaceTypeChange",value:function(o){var a=this.props,c=a.handleClose,l=a.updateWorkspace;l({type:o}),c()}},{key:"render",value:function(){var o=this,a=this.props,c=a.classes,l=a.container,u=a.handleClose,s=a.open,f=a.children,p=a.t,h=a.workspaceType;return i.createElement(We,{"aria-labelledby":"workspace-selection-dialog-title",container:l,id:"workspace-selection-dialog",onClose:u,onEntered:function(v){return r.setInitialFocus(v,h)},onEscapeKeyDown:u,open:s},i.createElement(Ne,{id:"workspace-selection-dialog-title",disableTypography:!0},i.createElement(N,{variant:"h2"},p("workspaceSelectionTitle"))),i.createElement(qt,null,f,i.createElement(Nt,{classes:{root:c.list},selected:h},i.createElement(ne,{className:c.menuItem,onClick:function(){return o.handleWorkspaceTypeChange("elastic")},selected:h==="elastic",value:"elastic"},i.createElement(di,{className:c.card},i.createElement(Iy,{className:c.svgIcon,viewBox:"0 0 120 90"}),i.createElement("div",{className:c.details},i.createElement(pi,{classes:{root:c.root},className:c.content},i.createElement(N,{className:c.headline,component:"p",variant:"h3"},p("elastic")),i.createElement(N,{variant:"body1"},p("elasticDescription")))))),i.createElement(ne,{className:c.menuItem,onClick:function(){return o.handleWorkspaceTypeChange("mosaic")},selected:h==="mosaic",value:"mosaic"},i.createElement(di,{className:c.card},i.createElement(xy,{className:c.svgIcon,viewBox:"0 0 120 90"}),i.createElement("div",{className:c.details},i.createElement(pi,{className:c.content,classes:{root:c.root}},i.createElement(N,{className:c.headline,component:"p",variant:"h3"},p("mosaic")),i.createElement(N,{variant:"body1"},p("mosaicDescription")))))))))}}],[{key:"setInitialFocus",value:function(o,a){var c=o.querySelectorAll('li[value="'.concat(a,'"]'));!c||c.length===0||c[0].focus()}}]),r}(d.Component);Pu.defaultProps={children:null,container:null,open:!1,t:function(e){return e}};var Ky={updateWorkspace:Hf},Zy=function(e){return{workspaceType:ca(e)}},Gy=function(e){return{card:{backgroundColor:"transparent",borderRadius:"0",boxShadow:"0 0 transparent",display:"flex"},content:{flex:"1 0 auto"},details:{display:"flex",flexDirection:"column"},headline:{paddingBottom:"6px"},list:{"&active":{outline:"none"},"&focus":{outline:"none"},outline:"none"},media:{flex:"0 0 120px",height:"90px"},menuItem:{height:"auto",overflow:"auto",whiteSpace:"inherit"},root:{"&:last-child":{paddingBottom:"12px"},paddingBottom:0,paddingTop:0,textAlign:"left"},svgIcon:{flexShrink:0,height:"90px",width:"120px"}}},Jy=M(L(),j(Gy),A(Zy,Ky),W("WorkspaceSelectionDialog"));const Xy=Jy(Pu);var Ca={},Yy=J,Qy=X;Object.defineProperty(Ca,"__esModule",{value:!0});var Eu=Ca.default=void 0,eg=Qy(d),tg=Yy(G()),rg=(0,tg.default)(eg.createElement("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"PaletteSharp");Eu=Ca.default=rg;function ng(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ag(n.key),n)}}function og(t,e,r){return e&&Mi(t.prototype,e),r&&Mi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ag(t){var e=ig(t,"string");return typeof e=="symbol"?e:String(e)}function ig(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zn(t,e)}function zn(t,e){return zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},zn(t,e)}function lg(t){var e=sg();return function(){var n=Kt(t),o;if(e){var a=Kt(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ug(this,o)}}function ug(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $u(t)}function $u(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kt(t){return Kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kt(t)}var Su=function(t){cg(r,t);var e=lg(r);function r(n){var o;return ng(this,r),o=e.call(this,n),o.selectedItemRef=i.createRef(),o.handleThemeChange=o.handleThemeChange.bind($u(o)),o}return og(r,[{key:"handleThemeChange",value:function(o){var a=this.props,c=a.setSelectedTheme,l=a.handleClose;c(o),l()}},{key:"render",value:function(){var o=this,a=this.props,c=a.classes,l=a.handleClose,u=a.open,s=a.selectedTheme,f=a.t,p=a.themeIds;return i.createElement(We,{onClose:l,onEntered:function(m){return r.setInitialFocus(m,s)},open:u},i.createElement(Ne,{id:"change-the-dialog-title",disableTypography:!0},i.createElement(N,{variant:"h2"},f("changeTheme"))),i.createElement(Gr,{className:c.dialogContent},i.createElement(Nt,null,p.map(function(h){return i.createElement(ne,{key:h,className:c.listitem,onClick:function(){o.handleThemeChange(h)},selected:h===s,value:h},i.createElement(nt,null,i.createElement(Eu,{className:c[h]})),i.createElement(Vr,null,f(h)))}))))}}],[{key:"setInitialFocus",value:function(o,a){var c=o.querySelectorAll('li[value="'.concat(a,'"]'));!c||c.length===0||c[0].focus()}}]),r}(d.Component);Su.defaultProps={open:!1,themeIds:[]};var fg=function(e,r){return r.windowId,{setSelectedTheme:function(o){return e(Ol({selectedTheme:o}))}}},dg=function(e){return{selectedTheme:Me(e).selectedTheme,themeIds:Pl(e)}},pg=function(e){return{dark:{color:"#000000"},dialogContent:{padding:0},light:{color:"#BDBDBD"},listitem:{"&:focus":{backgroundColor:e.palette.action.focus},"&:hover":{backgroundColor:e.palette.action.hover},cursor:"pointer"}}},hg=M(L(),j(pg),A(dg,fg),W("ChangeThemeDialog"));const mg=hg(Su);function vg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gg(n.key),n)}}function yg(t,e,r){return e&&Wi(t.prototype,e),r&&Wi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gg(t){var e=bg(t,"string");return typeof e=="symbol"?e:String(e)}function bg(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hn(t,e)}function Hn(t,e){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Hn(t,e)}function _g(t){var e=Pg();return function(){var n=Zt(t),o;if(e){var a=Zt(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Og(this,o)}}function Og(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vn(t)}function Vn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zt(t){return Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zt(t)}var ku=function(t){wg(r,t);var e=_g(r);function r(n){var o;return vg(this,r),o=e.call(this,n),o.state={changeTheme:{},toggleZoom:{},workspaceSelection:{}},o.handleMenuItemClick=o.handleMenuItemClick.bind(Vn(o)),o.handleMenuItemClose=o.handleMenuItemClose.bind(Vn(o)),o}return yg(r,[{key:"handleMenuItemClick",value:function(o,a){var c={};c[o]={},c[o].open=!0,c[o].anchorEl=a.currentTarget,this.setState(c)}},{key:"handleMenuItemClose",value:function(o){var a=this;return function(c){var l={};l[o]={},l[o].open=!1,l[o].anchorEl=null,a.setState(l)}}},{key:"handleZoomToggleClick",value:function(){var o=this.props,a=o.toggleZoomControls,c=o.showZoomControls;a(!c)}},{key:"render",value:function(){var o=this,a=this.props,c=a.containerId,l=a.handleClose,u=a.anchorEl,s=a.showThemePicker,f=a.isWorkspaceAddVisible,p=a.t,h=a.showZoomControls,m=this.state,v=m.changeTheme,b=m.toggleZoom,O=m.workspaceSelection,P=document.querySelector("#".concat(c," .").concat(V("viewer")));return i.createElement(i.Fragment,null,i.createElement(ct,{id:"workspace-menu",container:P,anchorEl:u,anchorOrigin:{horizontal:"right",vertical:"top"},transformOrigin:{horizontal:"left",vertical:"top"},open:!!u,onClose:l},i.createElement(ne,{"aria-haspopup":"true",disabled:f,onClick:function($){o.handleZoomToggleClick($),l($)},"aria-owns":b.anchorEl?"toggle-zoom-menu":void 0},i.createElement(N,{variant:"body1"},p(h?"hideZoomControls":"showZoomControls"))),i.createElement(ne,{"aria-haspopup":"true",onClick:function($){o.handleMenuItemClick("workspaceSelection",$),l($)},"aria-owns":O.anchorEl?"workspace-selection":void 0},i.createElement(N,{variant:"body1"},p("selectWorkspaceMenu"))),i.createElement(wu,{label:p("language")},i.createElement(uy,{afterSelect:l})),s&&i.createElement(ne,{"aria-haspopup":"true",onClick:function($){o.handleMenuItemClick("changeTheme",$),l($)},"aria-owns":v.anchorEl?"change-theme":void 0},i.createElement(N,{variant:"body1"},p("changeTheme"))),i.createElement(he,this.props)),!!v.open&&i.createElement(mg,{container:P,handleClose:this.handleMenuItemClose("changeTheme"),open:!!v.open}),!!O.open&&i.createElement(Xy,{open:!!O.open,container:P,handleClose:this.handleMenuItemClose("workspaceSelection")}))}}]),r}(d.Component);ku.defaultProps={anchorEl:null,isWorkspaceAddVisible:!1,showThemePicker:!1,showZoomControls:!1,t:function(e){return e},toggleZoomControls:function(){}};var Eg={toggleZoomControls:Vf},$g=function(e){return{containerId:Ze(e),isWorkspaceAddVisible:ye(e).isWorkspaceAddVisible,showThemePicker:Pl(e).length>0,showZoomControls:Ff(e)}},Sg=M(L(),A($g,Eg),W("WorkspaceMenu"));const kg=Sg(ku);function Tg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ni(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rg(n.key),n)}}function Cg(t,e,r){return e&&Ni(t.prototype,e),r&&Ni(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rg(t){var e=Ig(t,"string");return typeof e=="symbol"?e:String(e)}function Ig(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fn(t,e)}function Fn(t,e){return Fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Fn(t,e)}function jg(t){var e=Mg();return function(){var n=Gt(t),o;if(e){var a=Gt(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Dg(this,o)}}function Dg(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qn(t)}function qn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gt(t)}var Tu=function(t){xg(r,t);var e=jg(r);function r(n){var o;return Tg(this,r),o=e.call(this,n),o.state={anchorEl:null},o.handleMenuClick=o.handleMenuClick.bind(qn(o)),o.handleMenuClose=o.handleMenuClose.bind(qn(o)),o}return Cg(r,[{key:"handleMenuClick",value:function(o){this.setState({anchorEl:o.currentTarget})}},{key:"handleMenuClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var o=this.props,a=o.classes,c=o.t,l=this.state.anchorEl;return i.createElement(i.Fragment,null,i.createElement(ue,{"aria-haspopup":"true","aria-label":c("workspaceMenu"),"aria-owns":l?"workspace-menu":void 0,className:ee(a.ctrlBtn,l?a.ctrlBtnSelected:null),id:"menuBtn",onClick:this.handleMenuClick},i.createElement(vu,null)),i.createElement(kg,{anchorEl:l,handleClose:this.handleMenuClose}))}}]),r}(d.Component);Tu.defaultProps={t:function(e){return e}};var Wg=function(e){return{ctrlBtn:{margin:e.spacing(1)},ctrlBtnSelected:{backgroundColor:e.palette.action.selected}}},Ng=M(L(),j(Wg),W("WorkspaceMenuButton"));const Bg=Ng(Tu);var Ra={},Ag=J,Lg=X;Object.defineProperty(Ra,"__esModule",{value:!0});var Cu=Ra.default=void 0,zg=Lg(d),Hg=Ag(G()),Vg=(0,Hg.default)(zg.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHorizSharp");Cu=Ra.default=Vg;var Ia={},Fg=J,qg=X;Object.defineProperty(Ia,"__esModule",{value:!0});var Ru=Ia.default=void 0,Ug=qg(d),Kg=Fg(G()),Zg=(0,Kg.default)(Ug.createElement("path",{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"}),"Input");Ru=Ia.default=Zg;var xa={},Gg=J,Jg=X;Object.defineProperty(xa,"__esModule",{value:!0});var Iu=xa.default=void 0,Xg=Jg(d),Yg=Gg(G()),Qg=(0,Yg.default)(Xg.createElement("path",{d:"M19 12v7H5v-7H3v9h18v-9h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z"}),"SaveAltSharp");Iu=xa.default=Qg;var Jr={},eb=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(o){t.addRange(o)}),e&&e.focus()}},tb=eb,Bi={"text/plain":"Text","text/html":"Url",default:"Text"},rb="Copy to clipboard: #{key}, Enter";function nb(t){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function ob(t,e){var r,n,o,a,c,l,u=!1;e||(e={}),r=e.debug||!1;try{o=tb(),a=document.createRange(),c=document.getSelection(),l=document.createElement("span"),l.textContent=t,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(f){if(f.stopPropagation(),e.format)if(f.preventDefault(),typeof f.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var p=Bi[e.format]||Bi.default;window.clipboardData.setData(p,t)}else f.clipboardData.clearData(),f.clipboardData.setData(e.format,t);e.onCopy&&(f.preventDefault(),e.onCopy(f.clipboardData))}),document.body.appendChild(l),a.selectNodeContents(l),c.addRange(a);var s=document.execCommand("copy");if(!s)throw new Error("copy command was unsuccessful");u=!0}catch(f){r&&console.error("unable to copy using execCommand: ",f),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),u=!0}catch(p){r&&console.error("unable to copy using clipboardData: ",p),r&&console.error("falling back to prompt"),n=nb("message"in e?e.message:rb),window.prompt(n,t)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(a):c.removeAllRanges()),l&&document.body.removeChild(l),o()}return u}var ab=ob;function Un(t){"@babel/helpers - typeof";return Un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(t)}Object.defineProperty(Jr,"__esModule",{value:!0});Jr.CopyToClipboard=void 0;var bt=xu(d),ib=xu(ab),cb=["text","onCopy","options","children"];function xu(t){return t&&t.__esModule?t:{default:t}}function Ai(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ai(Object(r),!0).forEach(function(n){ja(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ai(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lb(t,e){if(t==null)return{};var r=ub(t,e),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ub(t,e){if(t==null)return{};var r={},n=Object.keys(t),o,a;for(a=0;a<n.length;a++)o=n[a],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}function sb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fb(t,e,r){return e&&zi(t.prototype,e),r&&zi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function db(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kn(t,e)}function Kn(t,e){return Kn=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Kn(t,e)}function pb(t){var e=mb();return function(){var n=Jt(t),o;if(e){var a=Jt(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return hb(this,o)}}function hb(t,e){if(e&&(Un(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ju(t)}function ju(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jt(t){return Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Jt(t)}function ja(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Du=function(t){db(r,t);var e=pb(r);function r(){var n;sb(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=e.call.apply(e,[this].concat(a)),ja(ju(n),"onClick",function(l){var u=n.props,s=u.text,f=u.onCopy,p=u.children,h=u.options,m=bt.default.Children.only(p),v=(0,ib.default)(s,h);f&&f(s,v),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(l)}),n}return fb(r,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var a=o.children,c=lb(o,cb),l=bt.default.Children.only(a);return bt.default.cloneElement(l,Li(Li({},c),{},{onClick:this.onClick}))}}]),r}(bt.default.PureComponent);Jr.CopyToClipboard=Du;ja(Du,"defaultProps",{onCopy:void 0,options:void 0});var vb=Jr,Zn=vb.CopyToClipboard;Zn.CopyToClipboard=Zn;var yb=Zn;function gb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wb(n.key),n)}}function bb(t,e,r){return e&&Hi(t.prototype,e),r&&Hi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wb(t){var e=_b(t,"string");return typeof e=="symbol"?e:String(e)}function _b(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ob(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gn(t,e)}function Gn(t,e){return Gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Gn(t,e)}function Pb(t){var e=$b();return function(){var n=Xt(t),o;if(e){var a=Xt(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Eb(this,o)}}function Eb(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jn(t)}function Jn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xt(t){return Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xt(t)}var Mu=function(t){Ob(r,t);var e=Pb(r);function r(n){var o;return gb(this,r),o=e.call(this,n),o.state={copied:!1},o.onCopy=o.onCopy.bind(Jn(o)),o.handleClose=o.handleClose.bind(Jn(o)),o}return bb(r,[{key:"handleClose",value:function(){var o=this.props.handleClose;o()}},{key:"onCopy",value:function(){this.setState({copied:!0})}},{key:"exportedState",value:function(){var o=this.props.exportableState;return JSON.stringify(o,null,2)}},{key:"render",value:function(){var o=this.props,a=o.children,c=o.classes,l=o.container,u=o.open,s=o.t,f=this.state.copied;return f?i.createElement(Sh,{anchorOrigin:{horizontal:"center",vertical:"top"},open:!0,autoHideDuration:6e3,onClose:this.handleClose,message:s("exportCopied"),action:i.createElement(zr,{size:"small","aria-label":s("dismiss"),color:"inherit",onClick:this.handleClose},i.createElement(qf,{fontSize:"small"}))}):i.createElement(We,{id:"workspace-settings",container:l,open:u,onClose:this.handleClose,scroll:"paper",fullWidth:!0,maxWidth:"sm"},i.createElement(Ne,{id:"form-dialog-title",disableTypography:!0},i.createElement(N,{variant:"h2"},s("downloadExport"))),i.createElement(Gr,null,i.createElement(Hl,{elevation:0},i.createElement(Fl,{classes:{root:c.accordionTitle},expandIcon:i.createElement(El,null)},i.createElement(N,{variant:"h4"},s("viewWorkspaceConfiguration"))),i.createElement(Vl,null,a,i.createElement("pre",null,this.exportedState())))),i.createElement(lt,null,i.createElement(le,{onClick:this.handleClose},s("cancel")),i.createElement(yb.CopyToClipboard,{onCopy:this.onCopy,text:this.exportedState()},i.createElement(le,{variant:"contained",color:"primary"},s("copy")))))}}]),r}(d.Component);Mu.defaultProps={children:null,classes:{},container:null,open:!1,t:function(e){return e}};var Sb=function(e){return{exportableState:Uf(e)}},kb=function(e){return{accordionTitle:{padding:0}}},Tb=M(L(),j(kb),A(Sb,{}),W("WorkspaceExport"));const Cb=Tb(Mu);function Rb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xb(n.key),n)}}function Ib(t,e,r){return e&&Vi(t.prototype,e),r&&Vi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xb(t){var e=jb(t,"string");return typeof e=="symbol"?e:String(e)}function jb(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Db(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xn(t,e)}function Xn(t,e){return Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Xn(t,e)}function Mb(t){var e=Nb();return function(){var n=Yt(t),o;if(e){var a=Yt(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Wb(this,o)}}function Wb(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yn(t)}function Yn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yt(t){return Yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yt(t)}var Wu=function(t){Db(r,t);var e=Mb(r);function r(n){var o;return Rb(this,r),o=e.call(this,n),o.state={configImportValue:""},o.handleImportConfig=o.handleImportConfig.bind(Yn(o)),o.handleChange=o.handleChange.bind(Yn(o)),o}return Ib(r,[{key:"handleChange",value:function(o){o.preventDefault(),this.setState({configImportValue:o.target.value})}},{key:"handleImportConfig",value:function(o){var a=this.props,c=a.handleClose,l=a.importConfig,u=this.state.configImportValue;try{var s=JSON.parse(u);l(s),c()}catch(p){var f=this.props.addError;f(p.toString())}}},{key:"render",value:function(){var o=this.props,a=o.classes,c=o.handleClose,l=o.open,u=o.t;return i.createElement(We,{"aria-labelledby":"workspace-import-title",id:"workspace-import",onEscapeKeyDown:c,onClose:c,open:l,fullWidth:!0,maxWidth:"sm"},i.createElement(Ne,{id:"workspace-import-title",disableTypography:!0},i.createElement(N,{variant:"h2"},u("importWorkspace"))),i.createElement(qt,null,i.createElement($l,{className:a.textField,id:"workspace-import-input",multiline:!0,onChange:this.handleChange,rows:"15",variant:"filled",inputProps:{autoFocus:"autofocus",className:a.textInput},helperText:u("importWorkspaceHint")})),i.createElement(lt,null,i.createElement(le,{className:a.cancelBtn,onClick:c},u("cancel")),i.createElement(le,{color:"primary",onClick:this.handleImportConfig,variant:"contained"},u("import"))))}}]),r}(d.Component);Wu.defaultProps={classes:{},open:!1,t:function(e){return e}};var Bb={addError:Kf,importConfig:Zf},Ab=function(e){return{cancelBtn:{color:e.palette.text.primary},textField:{width:"100%"},textInput:{fontFamily:"monospace"}}},Lb=M(L(),j(Ab),A(null,Bb),W("WorkspaceImport"));const zb=Lb(Wu);function Hb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fb(n.key),n)}}function Vb(t,e,r){return e&&Fi(t.prototype,e),r&&Fi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fb(t){var e=qb(t,"string");return typeof e=="symbol"?e:String(e)}function qb(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ub(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qn(t,e)}function Qn(t,e){return Qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Qn(t,e)}function Kb(t){var e=Gb();return function(){var n=Qt(t),o;if(e){var a=Qt(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Zb(this,o)}}function Zb(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eo(t)}function eo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qt(t){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qt(t)}var Nu=function(t){Ub(r,t);var e=Kb(r);function r(n){var o;return Hb(this,r),o=e.call(this,n),o.state={exportWorkspace:{},importWorkspace:{}},o.handleMenuItemClick=o.handleMenuItemClick.bind(eo(o)),o.handleMenuItemClose=o.handleMenuItemClose.bind(eo(o)),o}return Vb(r,[{key:"handleMenuItemClick",value:function(o){var a={};a[o]={},a[o].open=!0,this.setState(a)}},{key:"handleMenuItemClose",value:function(o){var a=this;return function(c){var l={};l[o]={},l[o].open=!1,a.setState(l)}}},{key:"render",value:function(){var o=this,a=this.props,c=a.anchorEl,l=a.containerId,u=a.handleClose,s=a.t,f=this.state,p=f.exportWorkspace,h=f.importWorkspace,m=document.querySelector("#".concat(l," .").concat(V("viewer")));return i.createElement(i.Fragment,null,i.createElement(ct,{id:"workspace-options-menu",container:m,anchorEl:c,anchorOrigin:{horizontal:"right",vertical:"top"},transformOrigin:{horizontal:"left",vertical:"top"},open:!!c,onClose:u},i.createElement(ne,{"aria-haspopup":"true",onClick:function(){o.handleMenuItemClick("exportWorkspace"),u()},"aria-owns":p.open?"workspace-export":void 0},i.createElement(nt,null,i.createElement(Iu,null)),i.createElement(N,{variant:"body1"},s("downloadExportWorkspace"))),i.createElement(ne,{"aria-haspopup":"true",id:"workspace-menu-import",onClick:function(){o.handleMenuItemClick("importWorkspace"),u()},"aria-owns":p.open?"workspace-import":void 0},i.createElement(nt,null,i.createElement(Ru,null)),i.createElement(N,{variant:"body1"},s("importWorkspace"))),i.createElement(he,this.props)),!!p.open&&i.createElement(Cb,{open:!!p.open,container:m,handleClose:this.handleMenuItemClose("exportWorkspace")}),!!h.open&&i.createElement(zb,{open:!!h.open,container:m,handleClose:this.handleMenuItemClose("importWorkspace")}))}}]),r}(d.Component);Nu.defaultProps={anchorEl:null};var Jb=function(e){return{containerId:Ze(e)}},Xb=M(L(),A(Jb,null));const Yb=Xb(Nu);function Qb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tw(n.key),n)}}function ew(t,e,r){return e&&qi(t.prototype,e),r&&qi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tw(t){var e=rw(t,"string");return typeof e=="symbol"?e:String(e)}function rw(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&to(t,e)}function to(t,e){return to=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},to(t,e)}function ow(t){var e=iw();return function(){var n=er(t),o;if(e){var a=er(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return aw(this,o)}}function aw(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ro(t)}function ro(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function er(t){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},er(t)}var cw=function(t){nw(r,t);var e=ow(r);function r(n){var o;return Qb(this,r),o=e.call(this,n),o.state={anchorEl:null},o.handleMenuClick=o.handleMenuClick.bind(ro(o)),o.handleMenuClose=o.handleMenuClose.bind(ro(o)),o}return ew(r,[{key:"handleMenuClick",value:function(o){this.setState({anchorEl:o.currentTarget})}},{key:"handleMenuClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var o=this.props,a=o.classes,c=o.t,l=this.state.anchorEl;return i.createElement(i.Fragment,null,i.createElement(ue,{"aria-label":c("workspaceOptions"),className:ee(a.ctrlBtn,l?a.ctrlBtnSelected:null),onClick:this.handleMenuClick},i.createElement(Cu,null)),i.createElement(Yb,{anchorEl:l,handleClose:this.handleMenuClose}))}}]),r}(d.Component),lw=function(e){return{ctrlBtn:{margin:e.spacing(1)},ctrlBtnSelected:{backgroundColor:e.palette.action.selected}}},uw=M(j(lw),L(),W("WorkspaceOptionsButton"));const sw=uw(cw);var Da={},fw=J,dw=X;Object.defineProperty(Da,"__esModule",{value:!0});var Bu=Da.default=void 0,pw=dw(d),hw=fw(G()),mw=(0,hw.default)(pw.createElement("path",{d:"M19 18l2 1V1H7v2h12v15zM17 5H3v18l7-3 7 3V5z"}),"BookmarksSharp");Bu=Da.default=mw;function vw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ui(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gw(n.key),n)}}function yw(t,e,r){return e&&Ui(t.prototype,e),r&&Ui(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gw(t){var e=bw(t,"string");return typeof e=="symbol"?e:String(e)}function bw(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ww(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&no(t,e)}function no(t,e){return no=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},no(t,e)}function _w(t){var e=Ew();return function(){var n=tr(t),o;if(e){var a=tr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Ow(this,o)}}function Ow(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pw(t)}function Pw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ew(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tr(t){return tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tr(t)}var Au=function(t){ww(r,t);var e=_w(r);function r(){return vw(this,r),e.apply(this,arguments)}return yw(r,[{key:"titleContent",value:function(o){var a=this.props,c=a.titles,l=a.t;return c[o]||l("untitled")}},{key:"render",value:function(){var o=this,a=this.props,c=a.containerId,l=a.handleClose,u=a.anchorEl,s=a.windowIds,f=a.focusWindow,p=a.t;return i.createElement(ct,{anchorOrigin:{horizontal:"right",vertical:"top"},transformOrigin:{horizontal:"left",vertical:"top"},id:"window-list-menu",container:document.querySelector("#".concat(c," .").concat(V("viewer"))),disableAutoFocusItem:!0,anchorEl:u,open:!!u,onClose:l,TransitionProps:{onEntering:r.focus2ndListIitem}},i.createElement(Fr,{role:"presentation",selected:!1,disabled:!0,tabIndex:"-1"},p("openWindows")),s.map(function(h,m){return i.createElement(ne,{key:h,onClick:function(b){f(h,!0),l(b)}},i.createElement(Vr,{primaryTypographyProps:{variant:"body1"}},o.titleContent(h)))}))}}],[{key:"focus2ndListIitem",value:function(o){!o.querySelectorAll("li")||o.querySelectorAll("li").length<2||o.querySelectorAll("li")[1].focus()}}]),r}(d.Component);Au.defaultProps={anchorEl:null,t:function(e){return e},titles:{}};var $w={focusWindow:la},Sw=function(e){return{containerId:Ze(e),titles:Gf(e),windowIds:it(e)}},kw=M(L(),A(Sw,$w),W("WindowList"));const Tw=kw(Au);function Cw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ki(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Iw(n.key),n)}}function Rw(t,e,r){return e&&Ki(t.prototype,e),r&&Ki(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iw(t){var e=xw(t,"string");return typeof e=="symbol"?e:String(e)}function xw(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oo(t,e)}function oo(t,e){return oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},oo(t,e)}function Dw(t){var e=Ww();return function(){var n=rr(t),o;if(e){var a=rr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Mw(this,o)}}function Mw(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ao(t)}function ao(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ww(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rr(t){return rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rr(t)}var Lu=function(t){jw(r,t);var e=Dw(r);function r(n){var o;return Cw(this,r),o=e.call(this,n),o.state={windowListAnchor:null},o.handleClose=o.handleClose.bind(ao(o)),o.handleOpen=o.handleOpen.bind(ao(o)),o}return Rw(r,[{key:"handleClose",value:function(){this.setState({windowListAnchor:null})}},{key:"handleOpen",value:function(o){this.setState({windowListAnchor:o.currentTarget})}},{key:"render",value:function(){var o=this,a=this.props,c=a.classes,l=a.disabled,u=a.t,s=a.windowCount,f=this.state.windowListAnchor;return i.createElement(i.Fragment,null,i.createElement(ue,{"aria-haspopup":"true","aria-label":u("listAllOpenWindows"),"aria-owns":f?"window-list":null,className:ee(c.ctrlBtn,f?c.ctrlBtnSelected:null),disabled:l,badge:!0,BadgeProps:{badgeContent:s,classes:{badge:c.badge}},onClick:function(h){return o.handleOpen(h)}},i.createElement(Bu,null)),!!f&&i.createElement(Tw,{anchorEl:f,id:"window-list",open:!!f,handleClose:this.handleClose}))}}]),r}(d.Component);Lu.defaultProps={classes:{},disabled:!1};var Nw=function(e){return{disabled:ye(e).isWorkspaceAddVisible,windowCount:it(e).length}},Bw=function(e){return{badge:{paddingLeft:12},ctrlBtn:{margin:e.spacing(1)},ctrlBtnSelected:{backgroundColor:e.palette.action.selected}}},Aw=M(L(),j(Bw),A(Nw,null),W("WindowListButton"));const Lw=Aw(Lu);function zw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vw(n.key),n)}}function Hw(t,e,r){return e&&Zi(t.prototype,e),r&&Zi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vw(t){var e=Fw(t,"string");return typeof e=="symbol"?e:String(e)}function Fw(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&io(t,e)}function io(t,e){return io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},io(t,e)}function Uw(t){var e=Gw();return function(){var n=nr(t),o;if(e){var a=nr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Kw(this,o)}}function Kw(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zw(t)}function Zw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nr(t){return nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nr(t)}var zu=function(t){qw(r,t);var e=Uw(r);function r(){return zw(this,r),e.apply(this,arguments)}return Hw(r,[{key:"render",value:function(){var o=this.props.classes;return i.createElement(i.Fragment,null,i.createElement(Lw,null),i.createElement(Bg,null),i.createElement(sw,null),i.createElement(mu,{className:o.ctrlBtn}),i.createElement(he,this.props))}}]),r}(d.Component);zu.defaultProps={classes:{}};var Jw=function(e){return{ctrlBtn:{margin:e.spacing(1)}}},Xw=M(j(Jw),W("WorkspaceControlPanelButtons"));const Yw=Xw(zu);function Qw(t){return i.createElement(me,Object.assign({viewBox:"0 0 60 55"},t),i.createElement("rect",{width:"18",height:"55"}),i.createElement("rect",{width:"18",height:"55",transform:"translate(42)"}),i.createElement("rect",{width:"18",height:"34",transform:"translate(21)"}))}var e_=["t","variant"];function t_(t,e){if(t==null)return{};var r=r_(t,e),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r_(t,e){if(t==null)return{};var r={},n=Object.keys(t),o,a;for(a=0;a<n.length;a++)o=n[a],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}function n_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a_(n.key),n)}}function o_(t,e,r){return e&&Gi(t.prototype,e),r&&Gi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a_(t){var e=i_(t,"string");return typeof e=="symbol"?e:String(e)}function i_(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&co(t,e)}function co(t,e){return co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},co(t,e)}function l_(t){var e=f_();return function(){var n=or(t),o;if(e){var a=or(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return u_(this,o)}}function u_(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s_(t)}function s_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function or(t){return or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},or(t)}var Hu=function(t){c_(r,t);var e=l_(r);function r(){return n_(this,r),e.apply(this,arguments)}return o_(r,[{key:"render",value:function(){var o=this.props,a=o.t,c=o.variant,l=t_(o,e_);return i.createElement("div",l,c==="wide"&&i.createElement("div",null,i.createElement(N,{align:"center",component:"p",variant:"h3"},a("mirador"))),i.createElement(N,{align:"center"},i.createElement(zr,{component:"a",href:"https://projectmirador.org",target:"_blank",rel:"noopener"},i.createElement(Qw,{"aria-label":a("aboutMirador"),titleAccess:a("aboutMirador"),fontSize:"large"}))))}}]),r}(d.Component);Hu.defaultProps={t:function(e){return e},variant:"default"};const d_=W("Branding")(Hu);function p_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ji(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m_(n.key),n)}}function h_(t,e,r){return e&&Ji(t.prototype,e),r&&Ji(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function m_(t){var e=v_(t,"string");return typeof e=="symbol"?e:String(e)}function v_(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lo(t,e)}function lo(t,e){return lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},lo(t,e)}function g_(t){var e=__();return function(){var n=ar(t),o;if(e){var a=ar(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return b_(this,o)}}function b_(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w_(t)}function w_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function __(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ar(t){return ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ar(t)}var Vu=function(t){y_(r,t);var e=g_(r);function r(){return p_(this,r),e.apply(this,arguments)}return h_(r,[{key:"render",value:function(){var o=this.props,a=o.classes,c=o.t,l=o.variant;return i.createElement(Zr,{className:ee(a.root,V("workspace-control-panel"),l==="wide"?a.wide:null),color:"default",position:"absolute",component:"nav","aria-label":c("workspaceNavigation")},i.createElement(qr,{disableGutters:!0,className:a.toolbar},i.createElement(gv,null),i.createElement("div",{className:a.workspaceButtons},i.createElement(Yw,null))),i.createElement(d_,{className:a.branding,t:c,variant:l}))}}]),r}(d.Component);Vu.defaultProps={variant:"default"};function Ve(t,e,r){return e=O_(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O_(t){var e=P_(t,"string");return typeof e=="symbol"?e:String(e)}function P_(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E_=function(e){var r;return{branding:(r={display:"flex",position:"absolute"},Ve(r,e.breakpoints.up("xs"),{display:"none"}),Ve(r,e.breakpoints.up("sm"),{bottom:0,display:"block",float:"none",right:"auto",width:"100%"}),Ve(r,"right",0),r),ctrlBtn:{margin:e.spacing(1)},drawer:{overflowX:"hidden"},root:Ve({height:64},e.breakpoints.up("sm"),{height:"100%",left:0,right:"auto",width:64}),toolbar:Ve({display:"flex",justifyContent:"space-between"},e.breakpoints.up("sm"),{flexDirection:"column",justifyContent:"flex-start",minHeight:0}),wide:{width:"auto"},workspaceButtons:Ve({},e.breakpoints.up("sm"),{display:"flex",flexDirection:"column"})}},$_=M(L(),j(E_),W("WorkspaceControlPanel"));const S_=$_(Vu);var ce={},k_=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ce,"__esModule",{value:!0});var Fu=ce.MosaicWindowContext=ce.MosaicContext=void 0,qu=k_(d);ce.MosaicContext=qu.default.createContext(void 0);Fu=ce.MosaicWindowContext=qu.default.createContext(void 0);var Ma={},T_=J,C_=X;Object.defineProperty(Ma,"__esModule",{value:!0});var Wa=Ma.default=void 0,R_=C_(d),I_=T_(G()),x_=(0,I_.default)(R_.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"MenuSharp");Wa=Ma.default=x_;var Na={},j_=J,D_=X;Object.defineProperty(Na,"__esModule",{value:!0});var Uu=Na.default=void 0,M_=D_(d),W_=j_(G()),N_=(0,W_.default)(M_.createElement("path",{d:"M21 3H3v18h18V3zm-2 16H5V5h14v14z"}),"CropDinSharp");Uu=Na.default=N_;function B_(t){return i.createElement(me,t,i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("path",{d:"M3,3H21V5H3Z",transform:"translate(0 16)"}),i.createElement("path",{d:"M21,5H3V19H21ZM19,17H5V7H19Z",transform:"translate(0 -2)"})))}function A_(t){return i.createElement(me,t,i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("path",{d:"M0,0H24V24H0Z",transform:"translate(24) rotate(90)",fill:"none"}),i.createElement("path",{d:"M3,3H21V5H3Z",transform:"translate(24) rotate(90)"}),i.createElement("path",{d:"M19,3H5V21H19ZM17,19H7V5H17Z",transform:"translate(-2)"})))}function L_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H_(n.key),n)}}function z_(t,e,r){return e&&Xi(t.prototype,e),r&&Xi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function H_(t){var e=V_(t,"string");return typeof e=="symbol"?e:String(e)}function V_(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uo(t,e)}function uo(t,e){return uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},uo(t,e)}function q_(t){var e=K_();return function(){var n=ir(t),o;if(e){var a=ir(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return U_(this,o)}}function U_(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ku(t)}function Ku(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ir(t){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ir(t)}var Zu=function(t){F_(r,t);var e=q_(r);function r(n){var o;return L_(this,r),o=e.call(this,n),o.handleChange=o.handleChange.bind(Ku(o)),o}return z_(r,[{key:"handleChange",value:function(o,a){var c=this.props,l=c.windowId,u=c.setWindowThumbnailPosition;u(l,o)}},{key:"render",value:function(){var o=this,a=this.props,c=a.classes,l=a.handleClose,u=a.t,s=a.thumbnailNavigationPosition,f=a.direction,p=a.viewType;return i.createElement(i.Fragment,null,i.createElement(Fr,{role:"presentation",disableSticky:!0,tabIndex:"-1"},u("thumbnails")),i.createElement(ne,{className:c.MenuItem,onClick:function(){o.handleChange("off",p),l()}},i.createElement(St,{value:"off",classes:{label:s==="off"?c.selectedLabel:c.label},control:i.createElement(Uu,{color:s==="off"?"secondary":void 0}),label:u("off"),labelPlacement:"bottom"})),i.createElement(ne,{className:c.MenuItem,onClick:function(){o.handleChange("far-bottom",p),l()}},i.createElement(St,{value:"far-bottom",classes:{label:s==="far-bottom"?c.selectedLabel:c.label},control:i.createElement(B_,{color:s==="far-bottom"?"secondary":void 0}),label:u("bottom"),labelPlacement:"bottom"})),i.createElement(ne,{className:c.MenuItem,onClick:function(){o.handleChange("far-right",p),l()}},i.createElement(St,{value:"far-right",classes:{label:s==="far-right"?c.selectedLabel:c.label},control:i.createElement(A_,{color:s==="far-right"?"secondary":void 0,style:f==="rtl"?{transform:"rotate(180deg)"}:{}}),label:u("right"),labelPlacement:"bottom"})))}}]),r}(d.Component);Zu.defaultProps={handleClose:function(){},t:function(e){return e}};var Z_={setWindowThumbnailPosition:Sl},G_=function(e,r){var n=r.windowId;return{direction:ua(e),thumbnailNavigationPosition:kl(e,{windowId:n}),viewType:sa(e,{windowId:n})}},J_=function(e){return{label:{borderBottom:"2px solid transparent"},MenuItem:{display:"inline-block"},selectedLabel:{borderBottom:"2px solid ".concat(e.palette.secondary.main),color:e.palette.secondary.main}}},X_=M(j(J_),L(null,{withRef:!0}),A(G_,Z_,null,{forwardRef:!0}),W("WindowThumbnailSettings"));const Y_=X_(Zu);var Ba={},Q_=J,eO=X;Object.defineProperty(Ba,"__esModule",{value:!0});var Gu=Ba.default=void 0,tO=eO(d),rO=Q_(G()),nO=(0,rO.default)(tO.createElement("path",{d:"M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z"}),"ViewColumn");Gu=Ba.default=nO;function oO(t){return i.createElement(me,t,i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("path",{d:"M19.974,2H2V19.974H19.974V2ZM7.392,18.177H3.8V14.582H7.392Zm0-5.392H3.8V9.19H7.392Zm0-5.392H3.8V3.8H7.392Zm5.392,10.785H9.19V14.582h3.595Zm0-5.392H9.19V9.19h3.595Zm0-5.392H9.19V3.8h3.595Zm5.392,10.785H14.582V14.582h3.595Zm0-5.392H14.582V9.19h3.595Zm0-5.392H14.582V3.8h3.595Z",transform:"translate(1 1)"})))}function aO(t){return i.createElement(me,t,i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("path",{d:"M21 3C21.2652 3 21.5196 3.10536 21.7071 3.29289C21.8946 3.48043 22 3.73478 22 4V20C22 20.2652 21.8946 20.5196 21.7071 20.7071C21.5196 20.8946 21.2652 21 21 21H3C2.73478 21 2.48043 20.8946 2.29289 20.7071C2.10536 20.5196 2 20.2652 2 20V4C2 3.73478 2.10536 3.48043 2.29289 3.29289C2.48043 3.10536 2.73478 3 3 3H21ZM4 16V19H20V16H4ZM4 14H20V5H4V14Z"})))}function iO(t){return i.createElement(me,t,i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("path",{d:"M11 5H5V19H11V5ZM13 5V19H19V5H13ZM4 3H20C20.2652 3 20.5196 3.10536 20.7071 3.29289C20.8946 3.48043 21 3.73478 21 4V20C21 20.2652 20.8946 20.5196 20.7071 20.7071C20.5196 20.8946 20.2652 21 20 21H4C3.73478 21 3.48043 20.8946 3.29289 20.7071C3.10536 20.5196 3 20.2652 3 20V4C3 3.73478 3.10536 3.48043 3.29289 3.29289C3.48043 3.10536 3.73478 3 4 3V3Z"})))}function cO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uO(n.key),n)}}function lO(t,e,r){return e&&Yi(t.prototype,e),r&&Yi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uO(t){var e=sO(t,"string");return typeof e=="symbol"?e:String(e)}function sO(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&so(t,e)}function so(t,e){return so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},so(t,e)}function dO(t){var e=hO();return function(){var n=cr(t),o;if(e){var a=cr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pO(this,o)}}function pO(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ju(t)}function Ju(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cr(t){return cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cr(t)}var Xu=function(t){fO(r,t);var e=dO(r);function r(n){var o;return cO(this,r),o=e.call(this,n),o.handleChange=o.handleChange.bind(Ju(o)),o}return lO(r,[{key:"handleChange",value:function(o){var a=this.props,c=a.windowId,l=a.setWindowViewType,u=a.setWindowThumbnailPosition;o==="gallery"&&u(c,"off"),l(c,o)}},{key:"render",value:function(){var o=this,a=this.props,c=a.classes,l=a.handleClose,u=a.t,s=a.windowViewType,f=a.viewTypes,p={book:iO,gallery:oO,scroll:Gu,single:aO},h=function(v){var b=v.value,O=v.Icon;return i.createElement(ne,{key:b,className:c.MenuItem,autoFocus:s===b,onClick:function(){o.handleChange(b),l()}},i.createElement(St,{value:b,classes:{label:s===b?c.selectedLabel:c.label},control:i.createElement(O,{color:s===b?"secondary":void 0}),label:u(b),labelPlacement:"bottom"}))};return f.length===0?null:i.createElement(i.Fragment,null,i.createElement(Fr,{role:"presentation",disableSticky:!0,tabIndex:"-1"},u("view")),f.map(function(m){return h({Icon:p[m],value:m})}))}}]),r}(d.Component);Xu.defaultProps={handleClose:function(){},t:function(e){return e},viewTypes:[]};var mO={setWindowThumbnailPosition:Sl,setWindowViewType:Jf},vO=function(e,r){var n=r.windowId;return{viewTypes:Xf(e,{windowId:n}),windowViewType:sa(e,{windowId:n})}},yO=function(e){return{label:{borderBottom:"2px solid transparent"},MenuItem:{display:"inline-block"},selectedLabel:{borderBottom:"2px solid ".concat(e.palette.secondary.main),color:e.palette.secondary.main}}},gO=M(j(yO),L(null,{withRef:!0}),A(vO,mO,null,{forwardRef:!0}),W("WindowViewSettings"));const bO=gO(Xu);function wO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OO(n.key),n)}}function _O(t,e,r){return e&&Qi(t.prototype,e),r&&Qi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function OO(t){var e=PO(t,"string");return typeof e=="symbol"?e:String(e)}function PO(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fo(t,e)}function fo(t,e){return fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},fo(t,e)}function $O(t){var e=TO();return function(){var n=lr(t),o;if(e){var a=lr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return SO(this,o)}}function SO(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kO(t)}function kO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lr(t){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lr(t)}function CO(t){var e=t.PluginComponents,r=t.t;return e?i.createElement(i.Fragment,null,i.createElement(Fr,{role:"presentation",disableSticky:!0,tabIndex:"-1"},r("windowPluginButtons")),i.createElement(he,t)):null}var Yu=function(t){EO(r,t);var e=$O(r);function r(){return wO(this,r),e.apply(this,arguments)}return _O(r,[{key:"render",value:function(){var o=this.props,a=o.containerId,c=o.handleClose,l=o.anchorEl,u=o.showThumbnailNavigationSettings,s=o.toggleDraggingEnabled,f=o.windowId;return i.createElement(ct,{id:"window-menu_".concat(f),container:document.querySelector("#".concat(a," .").concat(V("viewer"))),anchorEl:l,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},getContentAnchorEl:null,open:!!l,onClose:c,TransitionProps:{onEntering:s,onExit:s},orientation:"horizontal"},i.createElement(bO,{windowId:f,handleClose:c}),u&&i.createElement(Y_,{windowId:f,handleClose:c}),i.createElement(CO,this.props))}}]),r}(d.Component);Yu.defaultProps={anchorEl:null,showThumbnailNavigationSettings:!0};var RO=function(e){return{containerId:Ze(e),showThumbnailNavigationSettings:Me(e).thumbnailNavigation.displaySettings}},IO=function(e){return{toggleDraggingEnabled:function(){return e(Yf())}}},xO=M(L(),A(RO,IO),W("WindowTopMenu"));const jO=xO(Yu);function DO(t){return i.createElement(me,t,i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("path",{d:"M0,0H24V24H0Z",fill:"none"}),i.createElement("path",{d:"M24.852,17.981,3,18V15.945l21.852-.019Z",transform:"translate(-2 5)"}),i.createElement("path",{d:"M1,4V21H22.853V4.1ZM3,19V6h8V19Zm18,0H13V6h8Z",transform:"translate(0 -2)"})))}function MO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ec(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NO(n.key),n)}}function WO(t,e,r){return e&&ec(t.prototype,e),r&&ec(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NO(t){var e=BO(t,"string");return typeof e=="symbol"?e:String(e)}function BO(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&po(t,e)}function po(t,e){return po=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},po(t,e)}function LO(t){var e=HO();return function(){var n=ur(t),o;if(e){var a=ur(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return zO(this,o)}}function zO(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ho(t)}function ho(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ur(t){return ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ur(t)}var Qu=function(t){AO(r,t);var e=LO(r);function r(n){var o;return MO(this,r),o=e.call(this,n),o.state={anchorEl:null},o.handleMenuClick=o.handleMenuClick.bind(ho(o)),o.handleMenuClose=o.handleMenuClose.bind(ho(o)),o}return WO(r,[{key:"handleMenuClick",value:function(o){this.setState({anchorEl:o.currentTarget})}},{key:"handleMenuClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var o=this.props,a=o.classes,c=o.t,l=o.windowId,u=this.state.anchorEl;return i.createElement(i.Fragment,null,i.createElement(ue,{"aria-haspopup":"true","aria-label":c("windowMenu"),"aria-owns":u?"window-menu_".concat(l):void 0,className:u?a.ctrlBtnSelected:null,onClick:this.handleMenuClick},i.createElement(DO,null)),i.createElement(jO,{windowId:l,anchorEl:u,handleClose:this.handleMenuClose}))}}]),r}(d.Component);Qu.defaultProps={t:function(e){return e}};var VO=function(e){return{ctrlBtnSelected:{backgroundColor:e.palette.action.selected}}},FO=M(L(),j(VO),W("WindowTopMenuButton"));const qO=FO(Qu);function UO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZO(n.key),n)}}function KO(t,e,r){return e&&tc(t.prototype,e),r&&tc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZO(t){var e=GO(t,"string");return typeof e=="symbol"?e:String(e)}function GO(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mo(t,e)}function mo(t,e){return mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},mo(t,e)}function XO(t){var e=e0();return function(){var n=sr(t),o;if(e){var a=sr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return YO(this,o)}}function YO(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QO(t)}function QO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sr(t){return sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sr(t)}var t0=function(t){JO(r,t);var e=XO(r);function r(){return UO(this,r),e.apply(this,arguments)}return KO(r,[{key:"render",value:function(){return i.createElement(i.Fragment,null,i.createElement(he,this.props))}}]),r}(d.Component),r0={},n0=M(L(),j(r0),A(null,null),W("WindowTopBarPluginArea"));const o0=n0(t0);var Aa={},a0=J,i0=X;Object.defineProperty(Aa,"__esModule",{value:!0});var es=Aa.default=void 0,c0=i0(d),l0=a0(G()),u0=(0,l0.default)(c0.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertSharp");es=Aa.default=u0;function s0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d0(n.key),n)}}function f0(t,e,r){return e&&rc(t.prototype,e),r&&rc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d0(t){var e=p0(t,"string");return typeof e=="symbol"?e:String(e)}function p0(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vo(t,e)}function vo(t,e){return vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},vo(t,e)}function m0(t){var e=y0();return function(){var n=fr(t),o;if(e){var a=fr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return v0(this,o)}}function v0(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yo(t)}function yo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fr(t){return fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fr(t)}var ts=function(t){h0(r,t);var e=m0(r);function r(n){var o;return s0(this,r),o=e.call(this,n),o.state={anchorEl:null},o.handleMenuClick=o.handleMenuClick.bind(yo(o)),o.handleMenuClose=o.handleMenuClose.bind(yo(o)),o}return f0(r,[{key:"handleMenuClick",value:function(o){this.setState({anchorEl:o.currentTarget})}},{key:"handleMenuClose",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var o=this,a=this.props,c=a.classes,l=a.containerId,u=a.PluginComponents,s=a.t,f=a.windowId,p=a.menuIcon,h=this.state.anchorEl;return!u||u.length===0?i.createElement(i.Fragment,null):i.createElement(i.Fragment,null,i.createElement(ue,{"aria-haspopup":"true","aria-label":s("windowPluginMenu"),"aria-owns":h?"window-plugin-menu_".concat(f):void 0,className:h?c.ctrlBtnSelected:null,onClick:this.handleMenuClick},p),i.createElement(ct,{id:"window-plugin-menu_".concat(f),container:document.querySelector("#".concat(l," .").concat(V("viewer"))),anchorEl:h,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},getContentAnchorEl:null,open:!!h,onClose:function(){return o.handleMenuClose()}},i.createElement(he,Object.assign({handleClose:function(){return o.handleMenuClose()}},this.props))))}}]),r}(d.Component);ts.defaultProps={classes:{},menuIcon:i.createElement(es,null),PluginComponents:[]};var g0=function(e){return{containerId:Ze(e)}},b0=function(e){return{ctrlBtnSelected:{backgroundColor:e.palette.action.selected}}},w0=M(L(),j(b0),A(g0,null),W("WindowTopBarPluginMenu"));const _0=w0(ts);var La={},O0=J,P0=X;Object.defineProperty(La,"__esModule",{value:!0});var za=La.default=void 0,E0=P0(d),$0=O0(G()),S0=(0,$0.default)(E0.createElement("path",{d:"M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutlineSharp");za=La.default=S0;function k0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C0(n.key),n)}}function T0(t,e,r){return e&&nc(t.prototype,e),r&&nc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function C0(t){var e=R0(t,"string");return typeof e=="symbol"?e:String(e)}function R0(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&go(t,e)}function go(t,e){return go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},go(t,e)}function x0(t){var e=M0();return function(){var n=dr(t),o;if(e){var a=dr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return j0(this,o)}}function j0(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D0(t)}function D0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dr(t){return dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dr(t)}var rs=function(t){I0(r,t);var e=x0(r);function r(){return k0(this,r),e.apply(this,arguments)}return T0(r,[{key:"render",value:function(){var o=this.props,a=o.classes,c=o.error,l=o.hideWindowTitle,u=o.isFetching,s=o.manifestTitle,f=function(m){return i.createElement(N,Object.assign({variant:"h2",noWrap:!0,color:"inherit",className:a.title},m),m.children)},p=null;return u?p=i.createElement(f,null,i.createElement(fe,{variant:"text"})):c?p=i.createElement(i.Fragment,null,i.createElement(za,{color:"error"}),i.createElement(f,{color:"textSecondary"},c)):l?p=i.createElement("div",{className:a.title}):p=i.createElement(f,null,s),p}}]),r}(d.Component);rs.defaultProps={error:null,hideWindowTitle:!1,isFetching:!1,manifestTitle:""};function oc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function ac(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oc(Object(r),!0).forEach(function(n){W0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W0(t,e,r){return e=N0(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N0(t){var e=B0(t,"string");return typeof e=="symbol"?e:String(e)}function B0(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A0=function(e,r){var n=r.windowId;return{error:$n(e,{windowId:n}).error,hideWindowTitle:ot(e,{windowId:n}).hideWindowTitle,isFetching:$n(e,{windowId:n}).isFetching,manifestTitle:Ur(e,{windowId:n})}},L0=function(e){return{title:ac(ac({},e.typography.h6),{},{flexGrow:1,paddingLeft:e.spacing(.5)})}},z0=M(L(),j(L0),A(A0,null),W("WindowTopBarTitle"));const H0=z0(rs);function V0(t){return i.createElement(me,t,i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("path",{d:"M7,14H5v5h5V17H7Zm7-9V7h3v3h2V5Z"}),i.createElement("path",{d:"M22.517,1.524H1.736V22.37H22.517Zm-2,18.845H3.736V3.524H20.517Z"})))}function F0(t){return i.createElement(me,t,i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("path",{d:"M5,16H8v3h2V14H5ZM16,8V5H14v5h5V8Z"}),i.createElement("path",{d:"M22.517,1.524H1.736V22.37H22.517Zm-2,18.845H3.736V3.524H20.517Z"})))}function q0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ic(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K0(n.key),n)}}function U0(t,e,r){return e&&ic(t.prototype,e),r&&ic(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function K0(t){var e=Z0(t,"string");return typeof e=="symbol"?e:String(e)}function Z0(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bo(t,e)}function bo(t,e){return bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},bo(t,e)}function J0(t){var e=Q0();return function(){var n=pr(t),o;if(e){var a=pr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return X0(this,o)}}function X0(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y0(t)}function Y0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pr(t){return pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pr(t)}var ns=function(t){G0(r,t);var e=J0(r);function r(){return q0(this,r),e.apply(this,arguments)}return U0(r,[{key:"render",value:function(){var o=this.props,a=o.removeWindow,c=o.windowId,l=o.classes,u=o.toggleWindowSideBar,s=o.t,f=o.windowDraggable,p=o.maximizeWindow,h=o.maximized,m=o.minimizeWindow,v=o.focused,b=o.allowClose,O=o.allowMaximize,P=o.focusWindow,g=o.allowFullscreen,$=o.allowTopMenuButton,R=o.allowWindowSideBar;return i.createElement(Zr,{position:"relative",color:"default"},i.createElement("nav",{"aria-label":s("windowNavigation")},i.createElement(qr,{disableGutters:!0,onMouseDown:P,className:ee(l.windowTopBarStyle,f?l.windowTopBarStyleDraggable:null,v?l.focused:null,V("window-top-bar")),variant:"dense"},R&&i.createElement(ue,{"aria-label":s("toggleWindowSideBar"),onClick:u},i.createElement(Wa,null)),i.createElement(H0,{windowId:c}),$&&i.createElement(qO,{className:V("window-menu-btn"),windowId:c}),i.createElement(o0,{windowId:c}),i.createElement(_0,{windowId:c}),O&&i.createElement(ue,{"aria-label":s(h?"minimizeWindow":"maximizeWindow"),className:V("window-maximize"),onClick:h?m:p},h?i.createElement(F0,null):i.createElement(V0,null)),g&&i.createElement(mu,null),b&&i.createElement(ue,{"aria-label":s("closeWindow"),className:V("window-close"),onClick:a},i.createElement(aa,null)))))}}]),r}(d.Component);ns.defaultProps={allowClose:!0,allowFullscreen:!1,allowMaximize:!0,allowTopMenuButton:!0,allowWindowSideBar:!0,focused:!1,focusWindow:function(){},maximized:!1,maximizeWindow:function(){},minimizeWindow:function(){},t:function(e){return e},windowDraggable:!0};var eP=function(e,r){var n=r.windowId,o=ot(e,{windowId:n});return{allowClose:o.allowClose,allowFullscreen:o.allowFullscreen,allowMaximize:o.allowMaximize,allowTopMenuButton:o.allowTopMenuButton,allowWindowSideBar:o.allowWindowSideBar,focused:Tl(e,{windowId:n}),maximized:o.maximized}},tP=function(e,r){var n=r.windowId;return{focusWindow:function(){return e(la(n))},maximizeWindow:function(){return e(Qf(n))},minimizeWindow:function(){return e(ed(n))},removeWindow:function(){return e(Cl(n))},toggleWindowSideBar:function(){return e(td(n))}}},rP=function(e){return{focused:{},windowTopBarStyle:{"&$focused":{borderTop:"2px solid ".concat(e.palette.primary.main)},backgroundColor:e.palette.shades.main,borderTop:"2px solid transparent",minHeight:32,paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5)},windowTopBarStyleDraggable:{cursor:"move"}}},nP=M(L(),j(rP),A(eP,tP),W("WindowTopBar"));const oP=nP(ns);var Ha={},aP=J,iP=X;Object.defineProperty(Ha,"__esModule",{value:!0});var os=Ha.default=void 0,cP=iP(d),lP=aP(G()),uP=(0,lP.default)(cP.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"InfoSharp");os=Ha.default=uP;var Va={},sP=J,fP=X;Object.defineProperty(Va,"__esModule",{value:!0});var as=Va.default=void 0,dP=fP(d),pP=sP(G()),hP=(0,pP.default)(dP.createElement("path",{d:"M21.99 2H2v16h16l4 4-.01-20zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"CommentSharp");as=Va.default=hP;var Fa={},mP=J,vP=X;Object.defineProperty(Fa,"__esModule",{value:!0});var is=Fa.default=void 0,yP=vP(d),gP=mP(G()),bP=(0,gP.default)(yP.createElement("path",{d:"M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91c.48.22 1.05.34 1.7.34.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"CopyrightSharp");is=Fa.default=bP;var qa={},wP=J,_P=X;Object.defineProperty(qa,"__esModule",{value:!0});var cs=qa.default=void 0,OP=_P(d),PP=wP(G()),EP=(0,PP.default)(OP.createElement("path",{d:"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"}),"LayersSharp");cs=qa.default=EP;function $P(t){return i.createElement(me,t,i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("path",{d:"M6.924,21H21V19H6.924ZM3,17H21V15H3Zm3.924-4H21V11H6.924Zm0-4H21V7H6.924ZM3,3V5H21V3Z"})))}function SP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TP(n.key),n)}}function kP(t,e,r){return e&&cc(t.prototype,e),r&&cc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TP(t){var e=CP(t,"string");return typeof e=="symbol"?e:String(e)}function CP(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wo(t,e)}function wo(t,e){return wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},wo(t,e)}function IP(t){var e=jP();return function(){var n=hr(t),o;if(e){var a=hr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return xP(this,o)}}function xP(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ls(t)}function ls(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hr(t){return hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hr(t)}var us=function(t){RP(r,t);var e=IP(r);function r(n){var o;return SP(this,r),o=e.call(this,n),o.handleChange=o.handleChange.bind(ls(o)),o}return kP(r,[{key:"handleChange",value:function(o,a){var c=this.props.addCompanionWindow;c(a)}},{key:"render",value:function(){var o=this,a=this.props,c=a.classes,l=a.hasAnnotations,u=a.hasAnyAnnotations,s=a.hasAnyLayers,f=a.hasCurrentLayers,p=a.hasSearchResults,h=a.hasSearchService,m=a.panels,v=a.PluginComponents,b=a.sideBarPanel,O=a.t,P=function($){return i.createElement(_l,{title:O("openCompanionWindow",{context:$.value})},i.createElement(od,Object.assign({},$,{classes:{root:c.tab,selected:c.tabSelected},"aria-label":O("openCompanionWindow",{context:$.value}),disableRipple:!0,onKeyUp:o.handleKeyUp})))};return i.createElement(rd,{classes:{flexContainer:c.tabsFlexContainer,indicator:c.tabsIndicator},value:b==="closed"?!1:b,onChange:this.handleChange,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",orientation:"vertical","aria-orientation":"vertical","aria-label":O("sidebarPanelsNavigation")},m.info&&i.createElement(P,{value:"info",icon:i.createElement(os,null)}),m.attribution&&i.createElement(P,{value:"attribution",icon:i.createElement(is,null)}),m.canvas&&i.createElement(P,{value:"canvas",icon:i.createElement($P,null)}),m.annotations&&(l||u)&&i.createElement(P,{value:"annotations",icon:i.createElement(cn,{classes:{badge:c.badge},invisible:!l,variant:"dot"},i.createElement(as,null))}),m.search&&h&&i.createElement(P,{value:"search",icon:i.createElement(cn,{classes:{badge:c.badge},invisible:!p,variant:"dot"},i.createElement(nd,null))}),m.layers&&s&&i.createElement(P,{value:"layers",icon:i.createElement(cn,{classes:{badge:c.badge},invisible:!f,variant:"dot"},i.createElement(cs,null))}),v&&v.map(function(g){return i.createElement(P,{key:g.value,value:g.value,icon:i.createElement(g,null)})}))}}]),r}(d.Component);us.defaultProps={classes:{},hasAnnotations:!1,hasAnyAnnotations:!1,hasAnyLayers:!1,hasCurrentLayers:!1,hasSearchResults:!1,hasSearchService:!1,panels:[],PluginComponents:null,sideBarPanel:"closed",t:function(e){return e}};var DP=function(e,r){var n=r.windowId;return{addCompanionWindow:function(a){return e(ad(n,{content:a,position:"left"}))}}};function lc(t){return t&&t.some(function(e){return new Rl(e).imageResources.length>1})}function MP(t){return t&&t.some(function(e){var r=new Rl(e);return r.annotationListUris.length>0||r.canvasAnnotationPages.length>0})}var WP=function(e,r){var n=r.windowId;return{hasAnnotations:id(e,{windowId:n}).length>0,hasAnyAnnotations:MP(Sn(e,{windowId:n})),hasAnyLayers:lc(Sn(e,{windowId:n})),hasCurrentLayers:lc(cd(e,{windowId:n})),hasSearchResults:Oe(e,{windowId:n}).suggestedSearches||ld(e,{companionWindowId:(ci(e,{position:"left",windowId:n})[0]||{}).id,windowId:n}),hasSearchService:ud(e,{windowId:n})!==null,panels:ot(e,{windowId:n}).panels,sideBarPanel:(ci(e,{position:"left",windowId:n})[0]||{}).content}},NP=function(e){return{badge:{backgroundColor:e.palette.notification.main},tab:{"&:active":{backgroundColor:e.palette.action.active},"&:focus":{"@media (hover: none)":{backgroundColor:"transparent"},backgroundColor:e.palette.action.hover,textDecoration:"none"},"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"},backgroundColor:e.palette.action.hover,textDecoration:"none"},borderRight:"2px solid transparent",minWidth:"auto"},tabSelected:{borderRight:"2px solid ".concat(e.palette.primary.main)},tabsFlexContainer:{flexDirection:"column"},tabsIndicator:{display:"none"}}},BP=M(L(),j(NP),A(WP,DP),W("WindowSideBarButtons"));const AP=BP(us);function LP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HP(n.key),n)}}function zP(t,e,r){return e&&uc(t.prototype,e),r&&uc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function HP(t){var e=VP(t,"string");return typeof e=="symbol"?e:String(e)}function VP(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_o(t,e)}function _o(t,e){return _o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},_o(t,e)}function qP(t){var e=ZP();return function(){var n=mr(t),o;if(e){var a=mr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return UP(this,o)}}function UP(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KP(t)}function KP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mr(t){return mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mr(t)}var ss=function(t){FP(r,t);var e=qP(r);function r(){return LP(this,r),e.apply(this,arguments)}return zP(r,[{key:"render",value:function(){var o=this.props,a=o.classes,c=o.direction,l=o.t,u=o.windowId,s=o.sideBarOpen;return i.createElement(i.Fragment,null,i.createElement(Zl,{variant:"persistent",className:ee(a.drawer),classes:{paper:ee(a.paper)},anchor:c==="rtl"?"right":"left",PaperProps:{"aria-label":l("sidebarPanelsNavigation"),component:"nav",style:{height:"100%",position:"relative"}},SlideProps:{direction:c==="rtl"?"left":"right",mountOnEnter:!0,unmountOnExit:!0},open:s},i.createElement(AP,{windowId:u})))}}]),r}(d.Component);ss.defaultProps={sideBarOpen:!1};var GP=function(e,r){var n=r.windowId;return{direction:ua(e),sideBarOpen:(Oe(e,{windowId:n})||{}).sideBarOpen,sideBarPanel:(Oe(e,{windowId:n})||{}).sideBarPanel}},JP=function(e){return{drawer:{flexShrink:0,height:"100%",order:-1e3,zIndex:e.zIndex.appBar-1},grow:{flexGrow:1},paper:{borderInlineEnd:"1px solid ".concat(e.palette.divider),overflowX:"hidden",width:48},toolbar:e.mixins.toolbar}},XP=M(j(JP),L(),A(GP,null),W("WindowSideBar"));const YP=XP(ss);var Ua={},QP=J,eE=X;Object.defineProperty(Ua,"__esModule",{value:!0});var Oo=Ua.default=void 0,tE=eE(d),rE=QP(G()),nE=(0,rE.default)(tE.createElement("path",{d:"M14 7l-5 5 5 5V7z"}),"ArrowLeftSharp");Oo=Ua.default=nE;var Ka={},oE=J,aE=X;Object.defineProperty(Ka,"__esModule",{value:!0});var Po=Ka.default=void 0,iE=aE(d),cE=oE(G()),lE=(0,cE.default)(iE.createElement("path",{d:"M10 17l5-5-5-5v10z"}),"ArrowRightSharp");Po=Ka.default=lE;const uE=Kr(d.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),sE=Kr(d.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),fE=Kr(d.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),dE=Kr(d.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}));var pE=function(e){var r=e.palette.type==="light"?kn:Tn,n=e.palette.type==="light"?Tn:kn;return{root:x({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:r(e.palette.success.main,.6),backgroundColor:n(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:r(e.palette.info.main,.6),backgroundColor:n(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:r(e.palette.warning.main,.6),backgroundColor:n(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:r(e.palette.error.main,.6),backgroundColor:n(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:r(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:r(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:r(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:r(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},sc={success:d.createElement(uE,{fontSize:"inherit"}),warning:d.createElement(sE,{fontSize:"inherit"}),error:d.createElement(fE,{fontSize:"inherit"}),info:d.createElement(dE,{fontSize:"inherit"})},hE=d.createElement(sd,{fontSize:"small"}),mE=d.forwardRef(function(e,r){var n=e.action,o=e.children,a=e.classes,c=e.className,l=e.closeText,u=l===void 0?"Close":l,s=e.color,f=e.icon,p=e.iconMapping,h=p===void 0?sc:p,m=e.onClose,v=e.role,b=v===void 0?"alert":v,O=e.severity,P=O===void 0?"success":O,g=e.variant,$=g===void 0?"standard":g,R=Q(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return d.createElement(se,x({role:b,square:!0,elevation:0,className:U(a.root,a["".concat($).concat(pe(s||P))],c),ref:r},R),f!==!1?d.createElement("div",{className:a.icon},f||h[P]||sc[P]):null,d.createElement("div",{className:a.message},o),n!=null?d.createElement("div",{className:a.action},n):null,n==null&&m?d.createElement("div",{className:a.action},d.createElement(zr,{size:"small","aria-label":u,title:u,color:"inherit",onClick:m},hE)):null)});const vE=j(pE,{name:"MuiAlert"})(mE);function yE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bE(n.key),n)}}function gE(t,e,r){return e&&fc(t.prototype,e),r&&fc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bE(t){var e=wE(t,"string");return typeof e=="symbol"?e:String(e)}function wE(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _E(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eo(t,e)}function Eo(t,e){return Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Eo(t,e)}function OE(t){var e=$E();return function(){var n=vr(t),o;if(e){var a=vr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return PE(this,o)}}function PE(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EE(t)}function EE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vr(t){return vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vr(t)}var fs=function(t){_E(r,t);var e=OE(r);function r(){return yE(this,r),e.apply(this,arguments)}return gE(r,[{key:"render",value:function(){var o=this.props,a=o.classes,c=o.error,l=o.metadata,u=o.showJsError,s=o.t;return u?i.createElement(i.Fragment,null,i.createElement(vE,{elevation:6,variant:"filled",severity:"error"},s("errorDialogTitle")),u&&i.createElement(Hl,{square:!0,className:a.alert},i.createElement(Fl,{expandIcon:i.createElement(El,null)},i.createElement(N,null,s("jsError",{message:c.message,name:c.name}))),i.createElement(Vl,{className:a.details},i.createElement("pre",null,s("jsStack",{stack:c.stack})),l&&i.createElement("pre",null,JSON.stringify(l,null,2)))),i.createElement(he,this.props)):null}}]),r}(d.Component);fs.defaultProps={metadata:null,showJsError:!0,t:function(e){return e}};var SE=function(e,r){var n=r.companionWindowId,o=r.windowId;return{metadata:{companionWindow:n&&Il(e,{companionWindowId:n}),manifest:Bt(e,{windowId:o}),viewer:fd(e,{windowId:o}),window:Oe(e,{windowId:o})},showJsError:Me(e).window.showJsError}},kE=function(e){return{alert:{"& $icon":{color:e.palette.error.main},backgroundColor:e.palette.error.main,color:"#fff",fontWeight:e.typography.fontWeightMedium},details:{"& pre":{height:"100px",overflowY:"scroll"},flexDirection:"column"}}},TE=M(L(),j(kE),A(SE),W("ErrorContent"));const $o=TE(fs);function CE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IE(n.key),n)}}function RE(t,e,r){return e&&dc(t.prototype,e),r&&dc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IE(t){var e=xE(t,"string");return typeof e=="symbol"?e:String(e)}function xE(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&So(t,e)}function So(t,e){return So=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},So(t,e)}function DE(t){var e=NE();return function(){var n=yr(t),o;if(e){var a=yr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ME(this,o)}}function ME(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WE(t)}function WE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yr(t){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yr(t)}var ds=function(t){jE(r,t);var e=DE(r);function r(n){var o;return CE(this,r),o=e.call(this,n),o.state={},o}return RE(r,[{key:"componentDidUpdate",value:function(o){var a=this.props.content;a!==o.content&&this.setState({error:null,hasError:!1})}},{key:"render",value:function(){var o=this.props,a=o.content,c=o.windowId,l=o.id,u=o.t,s=this.state,f=s.error,p=s.hasError;if(p)return i.createElement(dd,{title:u("error"),windowId:c,id:l},i.createElement($o,{error:f,windowId:c,companionWindowId:l}));var h=pd[a];return h?i.createElement(h,{id:l,windowId:c}):i.createElement(i.Fragment,null)}}],[{key:"getDerivedStateFromError",value:function(o){return{error:o,hasError:!0}}}]),r}(d.Component);ds.defaultProps={content:null,t:function(e){return e}};var BE=function(e,r){var n=r.id,o=Il(e,{companionWindowId:n});return{content:o.content,id:n}},AE=M(L(),A(BE),W("CompanionWindowFactory"));const LE=AE(ds);function zE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VE(n.key),n)}}function HE(t,e,r){return e&&pc(t.prototype,e),r&&pc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VE(t){var e=FE(t,"string");return typeof e=="symbol"?e:String(e)}function FE(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ko(t,e)}function ko(t,e){return ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ko(t,e)}function UE(t){var e=GE();return function(){var n=gr(t),o;if(e){var a=gr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return KE(this,o)}}function KE(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZE(t)}function ZE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gr(t){return gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gr(t)}var ps=function(t){qE(r,t);var e=UE(r);function r(){return zE(this,r),e.apply(this,arguments)}return HE(r,[{key:"areaLayoutClass",value:function(){var o=this.props,a=o.classes,c=o.position;return c==="bottom"||c==="far-bottom"?a.horizontal:null}},{key:"collapseIcon",value:function(){var o=this.props,a=o.companionAreaOpen,c=o.direction;return c==="rtl"?a?i.createElement(Po,null):i.createElement(Oo,null):a?i.createElement(Oo,null):i.createElement(Po,null)}},{key:"slideDirection",value:function(){var o=this.props,a=o.direction,c=o.position,l=a==="rtl"?"left":"right",u=a==="rtl"?"right":"left";switch(c){case"right":case"far-right":return u;case"bottom":case"far-bottom":return"up";default:return l}}},{key:"render",value:function(){var o=this.props,a=o.classes,c=o.companionWindowIds,l=o.companionAreaOpen,u=o.setCompanionAreaOpen,s=o.position,f=o.sideBarOpen,p=o.t,h=o.windowId;return i.createElement("div",{className:[a.root,this.areaLayoutClass(),V("companion-area-".concat(s))].join(" ")},i.createElement(Ul,{in:l,direction:this.slideDirection()},i.createElement("div",{className:[V("companion-windows"),c.length>0&&a[s],this.areaLayoutClass()].join(" "),style:{display:l?"flex":"none"}},c.map(function(m){return i.createElement(LE,{id:m,key:m,windowId:h})}))),u&&s==="left"&&f&&c.length>0&&i.createElement("div",{className:a.toggle},i.createElement(ue,{"aria-expanded":l,"aria-label":p(l?"collapseSidePanel":"expandSidePanel"),className:a.toggleButton,key:l?"collapse":"expand",onClick:function(){u(h,!l)},TooltipProps:{placement:"right"}},this.collapseIcon())))}}]),r}(d.Component);ps.defaultProps={classes:{},setCompanionAreaOpen:function(){},sideBarOpen:!1};var JE=function(e,r){var n=r.windowId,o=r.position;return{companionAreaOpen:hd(e,{position:o,windowId:n}),companionWindowIds:md(e,{position:o,windowId:n}),direction:ua(e),sideBarOpen:(Oe(e,{windowId:n})||{}).sideBarOpen}},XE={setCompanionAreaOpen:vd},YE=function(e){return{horizontal:{flexDirection:"column",width:"100%"},left:{minWidth:235},root:{display:"flex",minHeight:0,position:"relative",zIndex:e.zIndex.appBar-2},toggle:{backgroundColor:e.palette.background.paper,border:"1px solid ".concat(e.palette.shades.dark),borderRadius:0,height:"48px",left:"100%",marginTop:"1rem",padding:2,position:"absolute",width:"23px",zIndex:e.zIndex.drawer},toggleButton:{marginBottom:12,marginTop:12,padding:0}}},QE=M(L(),j(YE),A(JE,XE),W("CompanionArea"));const et=QE(ps);function pn(t){return n1(t)||r1(t)||t1(t)||e1()}function e1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t1(t,e){if(t){if(typeof t=="string")return To(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return To(t,e)}}function r1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n1(t){if(Array.isArray(t))return To(t)}function To(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i1(n.key),n)}}function a1(t,e,r){return e&&hc(t.prototype,e),r&&hc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i1(t){var e=c1(t,"string");return typeof e=="symbol"?e:String(e)}function c1(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Co(t,e)}function Co(t,e){return Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Co(t,e)}function u1(t){var e=f1();return function(){var n=br(t),o;if(e){var a=br(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return s1(this,o)}}function s1(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hs(t)}function hs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function br(t){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},br(t)}var ms=function(t){l1(r,t);var e=u1(r);function r(n){var o;return o1(this,r),o=e.call(this,n),o.state={filter:null},o.hideDialog=o.hideDialog.bind(hs(o)),o}return a1(r,[{key:"setFilter",value:function(o){this.setState({filter:o})}},{key:"hideDialog",value:function(){var o=this.props,a=o.hideCollectionDialog,c=o.windowId;a(c)}},{key:"selectCollection",value:function(o){var a=this.props,c=a.collectionPath,l=a.manifestId,u=a.showCollectionDialog,s=a.windowId;u(o.id,[].concat(pn(c),[l]),s)}},{key:"goToPreviousCollection",value:function(){var o=this.props,a=o.collectionPath,c=o.showCollectionDialog,l=o.windowId;c(a[a.length-1],a.slice(0,-1),l)}},{key:"selectManifest",value:function(o){var a=this.props,c=a.addWindow,l=a.collectionPath,u=a.manifestId,s=a.setWorkspaceAddVisibility,f=a.updateWindow,p=a.windowId;p?f(p,{canvasId:null,collectionPath:[].concat(pn(l),[u]),manifestId:o.id}):c({collectionPath:[].concat(pn(l),[u]),manifestId:o.id}),this.hideDialog(),s(!1)}},{key:"dialogContainer",value:function(){var o=this.props,a=o.containerId,c=o.windowId;return document.querySelector("#".concat(a," #").concat(c))}},{key:"placeholder",value:function(){var o=this.props.classes;return i.createElement(We,{className:o.dialog,onClose:this.hideDialog,open:!0,container:this.dialogContainer(),BackdropProps:this.backdropProps()},i.createElement(Ne,{id:"select-collection",disableTypography:!0},i.createElement(fe,{className:o.placeholder,variant:"text"})),i.createElement(qt,null,i.createElement(fe,{className:o.placeholder,variant:"text"}),i.createElement(fe,{className:o.placeholder,variant:"text"})))}},{key:"backdropProps",value:function(){var o=this.props.classes;return{classes:{root:o.dialog}}}},{key:"render",value:function(){var o=this,a=this.props,c=a.classes,l=a.collection,u=a.error,s=a.isMultipart,f=a.manifest,p=a.ready,h=a.t,m=this.state.filter;if(u)return null;if(!this.dialogContainer())return this.forceUpdate(),i.createElement(i.Fragment,null);if(!p)return this.placeholder();var v=f&&li(f.getProperty("rights")||f.getProperty("license")),b=f&&li(f.getRequiredStatement()).filter(function(g){return g.getValue()}).map(function(g){return{label:null,values:g.getValues()}}),O=f.getCollections(),P=m||(O.length>0?"collections":"manifests");return i.createElement(We,{className:c.dialog,onClose:this.hideDialog,container:this.dialogContainer(),BackdropProps:this.backdropProps(),open:!0},i.createElement(Ne,{id:"select-collection",disableTypography:!0},i.createElement(N,{component:"div",variant:"overline"},h(s?"multipartCollection":"collection")),i.createElement(N,{variant:"h3"},r.getUseableLabel(f))),i.createElement(qt,{className:c.dialogContent},l&&i.createElement(le,{startIcon:i.createElement(yd,null),onClick:function(){return o.goToPreviousCollection()}},r.getUseableLabel(l)),i.createElement("div",{className:c.collectionMetadata},i.createElement(gd,{manifestId:f.id}),i.createElement(bd,{id:"select-collection-rights",label:h("attributionTitle")},b&&i.createElement(wd,{labelValuePairs:b,defaultLabel:h("attribution")}),v&&v.length>0&&i.createElement(i.Fragment,null,i.createElement(N,{variant:"subtitle2",component:"dt"},h("rights")),v.map(function(g){return i.createElement(N,{variant:"body1",component:"dd",key:g},i.createElement(_d,{target:"_blank",rel:"noopener noreferrer",href:g},g))})))),i.createElement("div",{className:c.collectionFilter},f.getTotalCollections()>0&&i.createElement(ui,{clickable:!0,color:P==="collections"?"primary":"default",onClick:function(){return o.setFilter("collections")},label:h("totalCollections",{count:f.getTotalCollections()})}),f.getTotalManifests()>0&&i.createElement(ui,{clickable:!0,color:P==="manifests"?"primary":"default",onClick:function(){return o.setFilter("manifests")},label:h("totalManifests",{count:f.getTotalManifests()})})),P==="collections"&&i.createElement(Nt,null,O.map(function(g){return i.createElement(ne,{key:g.id,onClick:function(){o.selectCollection(g)},className:c.collectionItem},r.getUseableLabel(g))})),P==="manifests"&&i.createElement(Nt,null,f.getManifests().map(function(g){return i.createElement(ne,{key:g.id,onClick:function(){o.selectManifest(g)},className:c.collectionItem},r.getUseableLabel(g))}))),i.createElement(lt,null,i.createElement(le,{onClick:this.hideDialog},h("close"))))}}],[{key:"getUseableLabel",value:function(o,a){return o&&o.getLabel&&o.getLabel().length>0?o.getLabel().getValue():String(a+1)}}]),r}(d.Component);ms.defaultProps={collection:null,collectionPath:[],containerId:null,error:null,isMultipart:!1,ready:!1,windowId:null};var d1={addWindow:fa,hideCollectionDialog:Od,setWorkspaceAddVisibility:ia,showCollectionDialog:Pd,updateWindow:Ed},p1=function(e,r){var n=r.windowId,o=Oe(e,{windowId:n}),a=o.collectionPath,c=o.collectionManifestId,l=Bt(e,{manifestId:c}),u=a&&a[a.length-1],s=u&&Bt(e,{manifestId:u});return{collection:s&&At(e,{manifestId:s.id}),collectionPath:a,containerId:Ze(e),error:l&&l.error,isMultipart:xl(e,{manifestId:c}).includes("multi-part"),manifest:l&&At(e,{manifestId:c}),manifestId:c,open:e.workspace.collectionDialogOn,ready:l&&!!l.json,windowId:n}},h1=function(e){return{collectionFilter:{padding:"16px",paddingTop:0},collectionItem:{whiteSpace:"normal"},collectionMetadata:{padding:"16px"},dark:{color:"#000000"},dialog:{position:"absolute !important"},dialogContent:{padding:e.spacing(1)},light:{color:e.palette.grey[400]},listitem:{"&:focus":{backgroundColor:e.palette.action.focus},"&:hover":{backgroundColor:e.palette.action.hover},cursor:"pointer"}}},m1=M(L(),j(h1),A(p1,d1),W("CollectionDialog"));const v1=m1(ms);function y1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b1(n.key),n)}}function g1(t,e,r){return e&&mc(t.prototype,e),r&&mc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function b1(t){var e=w1(t,"string");return typeof e=="symbol"?e:String(e)}function w1(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ro(t,e)}function Ro(t,e){return Ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Ro(t,e)}function O1(t){var e=$1();return function(){var n=wr(t),o;if(e){var a=wr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return P1(this,o)}}function P1(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E1(t)}function E1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wr(t){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wr(t)}var S1=d.lazy(function(){return Ge(()=>import("./AudioViewer-641ddfab.js"),["assets/AudioViewer-641ddfab.js","assets/index-a06b0714.js","assets/index-02310aa8.css"])}),k1=d.lazy(function(){return Ge(()=>import("./TranscriptionViewer-1375dc1c.js"),["assets/TranscriptionViewer-1375dc1c.js","assets/index-a06b0714.js","assets/index-02310aa8.css","assets/WindowCanvasNavigationControls-d80a3681.js"])}),vs=d.lazy(function(){return Ge(()=>import("./GalleryView-92c911c5.js"),["assets/GalleryView-92c911c5.js","assets/index-a06b0714.js","assets/index-02310aa8.css"])}),ys=d.lazy(function(){return Ge(()=>import("./SelectCollection-45889ff6.js"),["assets/SelectCollection-45889ff6.js","assets/index-a06b0714.js","assets/index-02310aa8.css"])}),gs=d.lazy(function(){return Ge(()=>import("./WindowViewer-f63b2c99.js"),["assets/WindowViewer-f63b2c99.js","assets/index-a06b0714.js","assets/index-02310aa8.css","assets/WindowCanvasNavigationControls-d80a3681.js"])}),T1=d.lazy(function(){return Ge(()=>import("./VideoViewer-cfe3d4d9.js"),["assets/VideoViewer-cfe3d4d9.js","assets/index-a06b0714.js","assets/index-02310aa8.css"])});vs.displayName="GalleryView";ys.displayName="SelectCollection";gs.displayName="WindowViewer";var bs=function(t){_1(r,t);var e=O1(r);function r(){return y1(this,r),e.apply(this,arguments)}return g1(r,[{key:"renderViewer",value:function(){var o=this.props,a=o.audioResources,c=o.isCollection,l=o.isFetching,u=o.videoResources,s=o.view,f=o.windowId;return c?i.createElement(i.Fragment,null,i.createElement(ys,{windowId:f})):l===!1?s==="gallery"?i.createElement(vs,{windowId:f}):s==="transcription"?i.createElement(k1,{view:s,windowId:f}):u.length>0?i.createElement(T1,{windowId:f}):a.length>0?i.createElement(S1,{windowId:f}):i.createElement(gs,{windowId:f}):null}},{key:"render",value:function(){var o=this.props,a=o.isCollectionDialogVisible,c=o.windowId,l=o.classes,u=o.children;return i.createElement("div",{className:ee(V("primary-window"),l.primaryWindow)},i.createElement(YP,{windowId:c}),i.createElement(et,{windowId:c,position:"left"}),a&&i.createElement(v1,{windowId:c}),i.createElement(d.Suspense,{fallback:i.createElement("div",null)},u||this.renderViewer()))}}]),r}(d.Component);bs.defaultProps={audioResources:[],children:void 0,isCollection:!1,isCollectionDialogVisible:!1,isFetching:!1,videoResources:[],view:void 0};var C1=function(e,r){var n=r.windowId,o=At(e,{windowId:n});return{audioResources:$d(e,{windowId:n})||[],isCollection:o&&o.isCollection(),isCollectionDialogVisible:Oe(e,{windowId:n}).collectionDialogOn,videoResources:Sd(e,{windowId:n})||[]}},R1={primaryWindow:{display:"flex",flex:1,position:"relative"}},I1=M(j(R1),A(C1,null),W("PrimaryWindow"));const x1=I1(bs);function j1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M1(n.key),n)}}function D1(t,e,r){return e&&vc(t.prototype,e),r&&vc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function M1(t){var e=W1(t,"string");return typeof e=="symbol"?e:String(e)}function W1(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Io(t,e)}function Io(t,e){return Io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Io(t,e)}function B1(t){var e=z1();return function(){var n=_r(t),o;if(e){var a=_r(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return A1(this,o)}}function A1(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L1(t)}function L1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _r(t){return _r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_r(t)}var ws=function(t){N1(r,t);var e=B1(r);function r(){return j1(this,r),e.apply(this,arguments)}return D1(r,[{key:"render",value:function(){var o=this.props,a=o.allowClose,c=o.allowWindowSideBar,l=o.ariaLabel,u=o.children,s=o.classes,f=o.label,p=o.removeWindow,h=o.t,m=o.windowId;return i.createElement(se,{component:"section",elevation:1,id:m,className:ee(s.window,V("placeholder-window")),"aria-label":f&&l?h("window",{label:f}):null},i.createElement(Zr,{position:"relative",color:"default"},i.createElement(qr,{disableGutters:!0,className:ee(s.windowTopBarStyle,V("window-top-bar")),variant:"dense"},c&&i.createElement(ue,{"aria-label":h("toggleWindowSideBar"),disabled:!0},i.createElement(Wa,null)),i.createElement(N,{variant:"h2",noWrap:!0,color:"inherit",className:s.title},f),a&&p&&i.createElement(ue,{"aria-label":h("closeWindow"),className:ee(s.button,V("window-close")),onClick:p,TooltipProps:{tabIndex:l?"0":"-1"}},i.createElement(aa,null)))),u)}}]),r}(d.Component);ws.defaultProps={allowClose:!0,allowWindowSideBar:!0,ariaLabel:!0,children:null,classes:{},label:"",removeWindow:function(){},t:function(e){return e}};function yc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function gc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yc(Object(r),!0).forEach(function(n){H1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H1(t,e,r){return e=V1(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V1(t){var e=F1(t,"string");return typeof e=="symbol"?e:String(e)}function F1(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q1=function(e,r){var n=r.windowId;return{allowClose:ot(e,{windowId:n}).allowClose,allowWindowSideBar:ot(e,{windowId:n}).allowWindowSideBar}},U1=function(e,r){var n=r.windowId;return{removeWindow:function(){return e(Cl(n))}}},K1=function(e){return{button:{marginLeft:"auto"},title:gc(gc({},e.typography.h6),{},{flexGrow:1,paddingLeft:e.spacing(.5)}),window:{backgroundColor:e.palette.shades.dark,borderRadius:0,display:"flex",flexDirection:"column",height:"100%",minHeight:0,overflow:"hidden",width:"100%"},windowTopBarStyle:{backgroundColor:e.palette.shades.main,borderTop:"2px solid transparent",minHeight:32,paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5)}}},Z1=M(L(),j(K1),A(q1,U1),W("MinimalWindow"));const _s=Z1(ws);var Os={};Object.defineProperty(Os,"__esModule",{value:!0});var G1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J1=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),X1=d,bc=Ps(X1),Y1=kd,te=Ps(Y1);function Ps(t){return t&&t.__esModule?t:{default:t}}function Q1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function t$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xr=function(t){t$(e,t);function e(r){Q1(this,e);var n=e$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.onReceiveMessage=n.onReceiveMessage.bind(n),n.onLoad=n.onLoad.bind(n),n.sendMessage=n.sendMessage.bind(n),n}return J1(e,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.onReceiveMessage),this._frame&&this._frame.addEventListener("load",this.onLoad)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.onReceiveMessage,!1)}},{key:"componentWillReceiveProps",value:function(n){this.props.postMessageData!==n.postMessageData&&this.sendMessage(n.postMessageData)}},{key:"onReceiveMessage",value:function(n){var o=this.props.handleReceiveMessage;o&&o(n)}},{key:"onLoad",value:function(){var n=this.props.handleReady;n&&n(),this.sendMessage(this.props.postMessageData)}},{key:"sendMessage",value:function(n){this._frame.contentWindow.postMessage(n,this.props.targetOrigin)}},{key:"render",value:function(){var n=this,o=this.props.attributes;return bc.default.createElement("iframe",G1({ref:function(c){n._frame=c}},Object.assign({},e.defaultAttributes,o)))}}]),e}(bc.default.Component);Xr.propTypes={attributes:te.default.shape({frameBorder:te.default.oneOfType([te.default.string,te.default.number]),height:te.default.oneOfType([te.default.string,te.default.number]),name:te.default.string,scrolling:te.default.string,sandbox:te.default.string,srcDoc:te.default.string,src:te.default.string.isRequired,width:te.default.oneOfType([te.default.string,te.default.number])}),handleReceiveMessage:te.default.func,handleReady:te.default.func,postMessageData:te.default.any,targetOrigin:te.default.string};Xr.defaultProps={targetOrigin:"*"};Xr.defaultAttributes={frameBorder:0};var r$=Os.default=Xr;function n$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a$(n.key),n)}}function o$(t,e,r){return e&&wc(t.prototype,e),r&&wc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a$(t){var e=i$(t,"string");return typeof e=="symbol"?e:String(e)}function i$(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xo(t,e)}function xo(t,e){return xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},xo(t,e)}function l$(t){var e=s$();return function(){var n=Or(t),o;if(e){var a=Or(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return u$(this,o)}}function u$(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Es(t)}function Es(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Or(t){return Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Or(t)}var $s=function(t){c$(r,t);var e=l$(r);function r(n){var o;return n$(this,r),o=e.call(this,n),o.onReceiveAccessTokenMessage=o.onReceiveAccessTokenMessage.bind(Es(o)),o}return o$(r,[{key:"onReceiveAccessTokenMessage",value:function(o){var a=this.props,c=a.handleAccessTokenMessage,l=a.url;o.data&&o.data.messageId&&o.data.messageId===l&&c(o.data)}},{key:"render",value:function(){var o=this.props.url;return o?i.createElement(r$,{attributes:{"aria-hidden":!0,height:1,src:"".concat(o,"?origin=").concat(window.origin,"&messageId=").concat(o),style:{visibility:"hidden"},width:1},handleReceiveMessage:this.onReceiveAccessTokenMessage}):i.createElement(i.Fragment,null)}}]),r}(d.Component);$s.defaultProps={url:void 0};function f$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p$(n.key),n)}}function d$(t,e,r){return e&&_c(t.prototype,e),r&&_c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function p$(t){var e=h$(t,"string");return typeof e=="symbol"?e:String(e)}function h$(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jo(t,e)}function jo(t,e){return jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},jo(t,e)}function v$(t){var e=b$();return function(){var n=Pr(t),o;if(e){var a=Pr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return y$(this,o)}}function y$(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g$(t)}function g$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pr(t){return Pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pr(t)}var Ss=function(t){m$(r,t);var e=v$(r);function r(n){var o;return f$(this,r),o=e.call(this,n),o.released=void 0,o.window=null,o.checkIfWindowClosed=null,o}return d$(r,[{key:"componentDidMount",value:function(){this.openWindow()}},{key:"componentWillUnmount",value:function(){this.window&&this.window.close()}},{key:"onClose",value:function(){var o=this.props,a=o.onClose,c=o.url;this.released||(this.released=!0,clearInterval(this.checkIfWindowClosed),a(c))}},{key:"openWindow",value:function(){var o=this,a=this.props,c=a.depWindow,l=a.features,u=a.name,s=a.url;this.window=(c||window).open(s,u,l),this.released=!1,this.checkIfWindowClosed=setInterval(function(){(!o.window||o.window.closed)&&o.onClose()},250)}},{key:"render",value:function(){return null}}]),r}(d.Component);Ss.defaultProps={depWindow:void 0,features:void 0,name:void 0};var Za={},w$=J,_$=X;Object.defineProperty(Za,"__esModule",{value:!0});var Do=Za.default=void 0,O$=_$(d),P$=w$(G()),E$=(0,P$.default)(O$.createElement("path",{d:"M20 8h-3V6.21c0-2.61-1.91-4.94-4.51-5.19C9.51.74 7 3.08 7 6v2H4v14h16V8zm-8 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z"}),"LockSharp");Do=Za.default=E$;function Oc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function Pc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oc(Object(r),!0).forEach(function(n){$$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $$(t,e,r){return e=ks(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ec(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ks(n.key),n)}}function k$(t,e,r){return e&&Ec(t.prototype,e),r&&Ec(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ks(t){var e=T$(t,"string");return typeof e=="symbol"?e:String(e)}function T$(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mo(t,e)}function Mo(t,e){return Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Mo(t,e)}function R$(t){var e=x$();return function(){var n=Er(t),o;if(e){var a=Er(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return I$(this,o)}}function I$(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wo(t)}function Wo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Er(t){return Er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Er(t)}var Ts=function(t){C$(r,t);var e=R$(r);function r(n){var o;return S$(this,r),o=e.call(this,n),o.state={open:!1},o.setOpen=o.setOpen.bind(Wo(o)),o.onSubmit=o.onSubmit.bind(Wo(o)),o}return k$(r,[{key:"onSubmit",value:function(){var o=this.props.onConfirm;this.setOpen(!1),o()}},{key:"setOpen",value:function(o){this.setState(function(a){return Pc(Pc({},a),{},{open:o})})}},{key:"render",value:function(){var o=this,a=this.props,c=a.classes,l=a.confirmButton,u=a.continueLabel,s=a.header,f=a.description,p=a.icon,h=a.label,m=a.t,v=a.ruleSet,b=a.hasLogoutService,O=a.status,P=a.ConfirmProps;if(O==="ok"&&!b)return null;var g=this.state.open,$=i.createElement(le,Object.assign({onClick:this.onSubmit,className:c.buttonInvert,color:"secondary"},P),l||m("login"));return!f&&!s?i.createElement(se,{square:!0,elevation:4,color:"secondary",classes:{root:c.paper}},i.createElement("div",{className:c.topBar},p||i.createElement(Do,{className:c.icon}),i.createElement(N,{className:c.label,component:"h3",variant:"body1",color:"inherit"},v?i.createElement(vt,{htmlString:h,ruleSet:v}):h),i.createElement(he,this.props),$)):i.createElement(se,{square:!0,elevation:4,color:"secondary",classes:{root:c.paper}},i.createElement(le,{fullWidth:!0,className:c.topBar,onClick:function(){return o.setOpen(!0)},component:"div",color:"inherit"},p||i.createElement(Do,{className:c.icon}),i.createElement(N,{className:c.label,component:"h3",variant:"body1",color:"inherit"},v?i.createElement(vt,{htmlString:h,ruleSet:v}):h),i.createElement(he,this.props),i.createElement("span",{className:c.fauxButton},!g&&i.createElement(N,{variant:"button",color:"inherit"},u||m("continue")))),i.createElement(ml,{in:g,onClose:function(){return o.setOpen(!1)}},i.createElement(N,{variant:"body1",color:"inherit",className:c.expanded},v?i.createElement(vt,{htmlString:s,ruleSet:v}):s,s&&f?": ":"",v?i.createElement(vt,{htmlString:f,ruleSet:v}):f),i.createElement(lt,null,i.createElement(le,{onClick:function(){return o.setOpen(!1)},color:"inherit"},m("cancel")),$)))}}]),r}(d.Component);Ts.defaultProps={confirmButton:void 0,ConfirmProps:{},continueLabel:void 0,description:void 0,hasLogoutService:!0,header:void 0,icon:void 0,ruleSet:"iiif",status:void 0,t:function(e){return e}};var j$=function(e){return{buttonInvert:{"&:hover":{backgroundColor:Td(e.palette.secondary.contrastText,1-e.palette.action.hoverOpacity)},backgroundColor:e.palette.secondary.contrastText,marginLeft:e.spacing(5),paddingBottom:0,paddingTop:0},expanded:{paddingLeft:e.spacing(),paddingRight:e.spacing()},failure:{backgroundColor:e.palette.error.dark},fauxButton:{marginLeft:e.spacing(2.5)},icon:{marginRight:e.spacing(1.5),verticalAlign:"text-bottom"},label:{lineHeight:2.25},paper:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,cursor:"pointer"},topBar:{"&:hover":{backgroundColor:e.palette.secondary.main},alignItems:"center",display:"flex",justifyContent:"inherit",padding:e.spacing(1),textTransform:"none"}}},D$=M(L(),j(j$),W("WindowAuthenticationBar"));const hn=D$(Ts);function M$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N$(n.key),n)}}function W$(t,e,r){return e&&$c(t.prototype,e),r&&$c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function N$(t){var e=B$(t,"string");return typeof e=="symbol"?e:String(e)}function B$(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&No(t,e)}function No(t,e){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},No(t,e)}function L$(t){var e=H$();return function(){var n=$r(t),o;if(e){var a=$r(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return z$(this,o)}}function z$(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bo(t)}function Bo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $r(t){return $r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$r(t)}var Cs=function(t){A$(r,t);var e=L$(r);function r(n){var o;return M$(this,r),o=e.call(this,n),o.performLogout=o.performLogout.bind(Bo(o)),o.onReceiveAccessTokenMessage=o.onReceiveAccessTokenMessage.bind(Bo(o)),o}return W$(r,[{key:"onReceiveAccessTokenMessage",value:function(o){var a=this.props,c=a.authServiceId,l=a.accessTokenServiceId,u=a.resolveAccessTokenRequest;u(c,l,o)}},{key:"defaultAuthBarProps",value:function(){var o=this.props,a=o.authServiceId,c=o.windowId,l=o.status,u=o.logoutServiceId;return{authServiceId:a,hasLogoutService:!!u,status:l,windowId:c}}},{key:"performLogout",value:function(){var o=this.props,a=o.accessTokenServiceId,c=o.authServiceId,l=o.features,u=o.logoutServiceId,s=o.resetAuthenticationState,f=o.openWindow;f(u,void 0,l),s({authServiceId:c,tokenServiceId:a})}},{key:"renderLoggedIn",value:function(){var o=this.props,a=o.isInteractive,c=o.logoutConfirm,l=o.t;return a?i.createElement(hn,Object.assign({confirmButton:c||l("logout"),onConfirm:this.performLogout},this.defaultAuthBarProps())):null}},{key:"renderFailure",value:function(){var o=this.props,a=o.handleAuthInteraction,c=o.failureHeader,l=o.failureDescription,u=o.t,s=o.authServiceId,f=o.windowId;return i.createElement(hn,Object.assign({header:c,description:l,confirmButton:u("retry"),onConfirm:function(){return a(f,s)}},this.defaultAuthBarProps()))}},{key:"renderLoggingInCookie",value:function(){var o=this.props,a=o.accessTokenServiceId,c=o.authServiceId,l=o.resolveAuthenticationRequest,u=o.features;return i.createElement(i.Fragment,null,this.renderLogin(),i.createElement(Ss,{name:"IiifLoginSender",url:"".concat(c,"?origin=").concat(window.origin),features:u,onClose:function(){return l(c,a)}}))}},{key:"renderLoggingInToken",value:function(){var o=this.props.accessTokenServiceId;return i.createElement(i.Fragment,null,this.renderLogin(),i.createElement($s,{handleAccessTokenMessage:this.onReceiveAccessTokenMessage,url:o}))}},{key:"renderLogin",value:function(){var o=this.props,a=o.confirm,c=o.description,l=o.handleAuthInteraction,u=o.header,s=o.isInteractive,f=o.label,p=o.authServiceId,h=o.windowId;return s?i.createElement(hn,Object.assign({header:u,description:c,label:f,confirmButton:a,onConfirm:function(){return l(h,p)}},this.defaultAuthBarProps())):null}},{key:"render",value:function(){var o=this.props,a=o.authServiceId,c=o.status;return a?c===null?this.renderLogin():c==="cookie"?this.renderLoggingInCookie():c==="token"?this.renderLoggingInToken():c==="failed"?this.renderFailure():c==="ok"?this.renderLoggedIn():null:null}}]),r}(d.Component);Cs.defaultProps={confirm:void 0,description:void 0,failureDescription:void 0,failureHeader:void 0,features:"centerscreen",header:void 0,isInteractive:!0,label:void 0,logoutConfirm:void 0,logoutServiceId:void 0,openWindow:window.open,status:null,t:function(e){return e}};var V$=function(e,r){var n=r.windowId,o=Cd(e,{windowId:n}),a=o[0],c=a&&(yt.getService(a,"http://iiif.io/api/auth/1/token")||yt.getService(a,"http://iiif.io/api/auth/0/token")),l=a&&(yt.getService(a,"http://iiif.io/api/auth/1/logout")||yt.getService(a,"http://iiif.io/api/auth/0/logout")),u=Rd(e),s=a&&u[a.id],f=Id(e),p=c&&f[c.id],h=null;s?s.isFetching?s.windowId===n&&(h="cookie"):p&&p.isFetching?s.windowId===n&&(h="token"):s.ok?h="ok":s.ok===!1&&(h="failed"):h=null;var m=xd(e),v=a&&a.getProfile(),b=m.some(function(O){return O.profile===v&&!(O.external||O.kiosk)});return{accessTokenServiceId:c&&c.id,authServiceId:a&&a.id,confirm:a&&a.getConfirmLabel(),description:a&&a.getDescription(),failureDescription:a&&a.getFailureDescription(),failureHeader:a&&a.getFailureHeader(),header:a&&a.getHeader(),isInteractive:b,label:a&&a.getLabel()[0].value,logoutConfirm:l&&l.getLabel()[0]&&l.getLabel()[0].value,logoutServiceId:l&&l.id,profile:v,status:h}},F$={handleAuthInteraction:jd,resetAuthenticationState:Dd,resolveAccessTokenRequest:Md,resolveAuthenticationRequest:Wd},q$=M(L(),A(V$,F$),W("IIIFAuthentication"));const U$=q$(Cs);function K$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G$(n.key),n)}}function Z$(t,e,r){return e&&Sc(t.prototype,e),r&&Sc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function G$(t){var e=J$(t,"string");return typeof e=="symbol"?e:String(e)}function J$(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ao(t,e)}function Ao(t,e){return Ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Ao(t,e)}function Y$(t){var e=tS();return function(){var n=Sr(t),o;if(e){var a=Sr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Q$(this,o)}}function Q$(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eS(t)}function eS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sr(t){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sr(t)}var Ga=function(t){X$(r,t);var e=Y$(r);function r(n){var o;return K$(this,r),o=e.call(this,n),o.state={},o}return Z$(r,[{key:"wrappedTopBar",value:function(){var o=this.props,a=o.windowId,c=o.workspaceType,l=o.windowDraggable,u=i.createElement("div",null,i.createElement(oP,{windowId:a,windowDraggable:l}),i.createElement(U$,{windowId:a}));if(c==="mosaic"&&l){var s=this.context.mosaicWindowActions;return s.connectDragSource(u)}return u}},{key:"render",value:function(){var o=this.props,a=o.focusWindow,c=o.label,l=o.isFetching,u=o.maximized,s=o.sideBarOpen,f=o.view,p=o.windowId,h=o.classes,m=o.t,v=o.manifestError,b=this.state,O=b.error,P=b.hasError;return P?i.createElement(_s,{windowId:p},i.createElement($o,{error:O,windowId:p})):i.createElement(se,{onFocus:a,component:"section",elevation:1,id:p,className:ee(h.window,V("window"),u?h.maximized:null),"aria-label":m("window",{label:c})},this.wrappedTopBar(),v&&i.createElement($o,{error:{stack:v},windowId:p}),i.createElement("div",{className:h.middle},i.createElement("div",{className:h.middleLeft},i.createElement("div",{className:h.primaryWindow},i.createElement(x1,{view:f,windowId:p,isFetching:l,sideBarOpen:s})),i.createElement("div",{className:h.companionAreaBottom},i.createElement(et,{windowId:p,position:"bottom"}))),i.createElement("div",{className:h.companionAreaRight},i.createElement(et,{windowId:p,position:"right"}),i.createElement(et,{windowId:p,position:"far-right"}))),i.createElement(et,{windowId:p,position:"far-bottom"}),i.createElement(he,this.props))}}],[{key:"getDerivedStateFromError",value:function(o){return{error:o,hasError:!0}}}]),r}(d.Component);Ga.contextType=Fu;Ga.defaultProps={classes:{},focusWindow:function(){},isFetching:!1,label:null,manifestError:null,maximized:!1,sideBarOpen:!1,view:void 0,windowDraggable:null,workspaceType:null};var rS=function(e,r){var n=r.windowId;return{isFetching:$n(e,{windowId:n}).isFetching,label:Ur(e,{windowId:n}),manifestError:Nd(e,{windowId:n}),maximized:(Oe(e,{windowId:n})||{}).maximized,sideBarOpen:(Oe(e,{windowId:n})||{}).sideBarOpen,thumbnailNavigationPosition:kl(e,{windowId:n}),view:sa(e,{windowId:n}),window:Oe(e,{windowId:n}),windowDraggable:Bd(e,{windowId:n}),workspaceType:ca(e)}},nS=function(e,r){var n=r.windowId;return{focusWindow:function(){return e(la(n))}}},oS=function(e){return{companionAreaBottom:{display:"flex",flex:"0",flexBasis:"auto",minHeight:0},companionAreaRight:{display:"flex",flex:"0 1 auto",minHeight:0},maximized:{},middle:{display:"flex",flex:"1",flexDirection:"row",minHeight:0},middleLeft:{display:"flex",flex:"1",flexDirection:"column",minHeight:0},primaryWindow:{display:"flex",flex:"1",height:"300px",minHeight:0,position:"relative"},thumbnailArea:{backgroundColor:e.palette.shades.dark},thumbnailAreaBottom:{},thumbnailAreaRight:{minWidth:100},window:{"&$maximized":{left:0,position:"absolute",top:0,zIndex:e.zIndex.modal-1},backgroundColor:e.palette.shades.dark,borderRadius:0,display:"flex",flexDirection:"column",height:"100%",minHeight:0,overflow:"hidden",width:"100%"}}},aS=M(L(),j(oS),A(rS,nS),W("Window"));const kr=aS(Ga);var qe={},Ke={},iS=Ad,cS=Ld,lS=Object.prototype,uS=lS.hasOwnProperty,sS=cS(function(t,e,r){uS.call(t,r)?++t[r]:iS(t,r,1)}),fS=sS,dS=Hd,pS=zd(),hS=Vd;function mS(t,e,r){for(var n=-1,o=e.length,a={};++n<o;){var c=e[n],l=dS(t,c);r(l,c)&&pS(a,hS(c,t),l)}return a}var vS=mS,yS=Fd,gS=qd,bS=vS,wS=Ud;function _S(t,e){if(t==null)return{};var r=yS(wS(t),function(n){return[n]});return e=gS(e),bS(t,r,function(n,o){return e(n,o[0])})}var OS=_S;const Yr=jl(Am),PS=jl(Lm);var Lo={exports:{}},kc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(kc){var Tc=new Uint8Array(16);Lo.exports=function(){return kc(Tc),Tc}}else{var Cc=new Array(16);Lo.exports=function(){for(var e=0,r;e<16;e++)e&3||(r=Math.random()*4294967296),Cc[e]=r>>>((e&3)<<3)&255;return Cc}}var Rs=Lo.exports,Is=[];for(var wt=0;wt<256;++wt)Is[wt]=(wt+256).toString(16).substr(1);function ES(t,e){var r=e||0,n=Is;return[n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]]].join("")}var xs=ES,$S=Rs,SS=xs,Rc,mn,vn=0,yn=0;function kS(t,e,r){var n=e&&r||0,o=e||[];t=t||{};var a=t.node||Rc,c=t.clockseq!==void 0?t.clockseq:mn;if(a==null||c==null){var l=$S();a==null&&(a=Rc=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),c==null&&(c=mn=(l[6]<<8|l[7])&16383)}var u=t.msecs!==void 0?t.msecs:new Date().getTime(),s=t.nsecs!==void 0?t.nsecs:yn+1,f=u-vn+(s-yn)/1e4;if(f<0&&t.clockseq===void 0&&(c=c+1&16383),(f<0||u>vn)&&t.nsecs===void 0&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");vn=u,yn=s,mn=c,u+=122192928e5;var p=((u&268435455)*1e4+s)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;var h=u/4294967296*1e4&268435455;o[n++]=h>>>8&255,o[n++]=h&255,o[n++]=h>>>24&15|16,o[n++]=h>>>16&255,o[n++]=c>>>8|128,o[n++]=c&255;for(var m=0;m<6;++m)o[n+m]=a[m];return e||SS(o)}var TS=kS,CS=Rs,RS=xs;function IS(t,e,r){var n=e&&r||0;typeof t=="string"&&(e=t==="binary"?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||CS)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e)for(var a=0;a<16;++a)e[n+a]=o[a];return e||RS(o)}var xS=IS,jS=TS,js=xS,Ja=js;Ja.v1=jS;Ja.v4=js;var DS=Ja,Qr={},en={};function MS(t,e,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),e!==void 0&&(t=t>=e?t:e)),t}var WS=MS,NS=WS,gn=Kd;function BS(t,e,r){return r===void 0&&(r=e,e=void 0),r!==void 0&&(r=gn(r),r=r===r?r:0),e!==void 0&&(e=gn(e),e=e===e?e:0),NS(gn(t),e,r)}var AS=BS,LS=Zd,zS=Gd,HS="Expected a function";function VS(t,e,r){var n=!0,o=!0;if(typeof t!="function")throw new TypeError(HS);return zS(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),LS(t,e,{leading:n,maxWait:e,trailing:o})}var FS=VS,Xa={},tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.assertNever=void 0;function qS(t){throw new Error("Unhandled case: "+JSON.stringify(t))}tn.assertNever=qS;(function(t){var e=T&&T.__assign||function(){return e=Object.assign||function(n){for(var o,a=1,c=arguments.length;a<c;a++){o=arguments[a];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])}return n},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.BoundingBox=void 0;var r=tn;(function(n){function o(){return{top:0,right:0,bottom:0,left:0}}n.empty=o;function a(s,f,p){var h=c(s,f,p);return p==="column"?{first:e(e({},s),{bottom:100-h}),second:e(e({},s),{top:h})}:p==="row"?{first:e(e({},s),{right:100-h}),second:e(e({},s),{left:h})}:r.assertNever(p)}n.split=a;function c(s,f,p){var h=s.top,m=s.right,v=s.bottom,b=s.left;if(p==="column"){var O=100-h-v;return O*f/100+h}else if(p==="row"){var P=100-m-b;return P*f/100+b}else return r.assertNever(p)}n.getAbsoluteSplitPercentage=c;function l(s,f,p){var h=s.top,m=s.right,v=s.bottom,b=s.left;if(p==="column"){var O=100-h-v;return(f-h)/O*100}else if(p==="row"){var P=100-m-b;return(f-b)/P*100}else return r.assertNever(p)}n.getRelativeSplitPercentage=l;function u(s){var f=s.top,p=s.right,h=s.bottom,m=s.left;return{top:f+"%",right:p+"%",bottom:h+"%",left:m+"%"}}n.asStyles=u})(t.BoundingBox||(t.BoundingBox={}))})(Xa);var US=T&&T.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tr=T&&T.__assign||function(){return Tr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Tr.apply(this,arguments)},rn=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(en,"__esModule",{value:!0});en.Split=void 0;var KS=rn(ge),ZS=rn(AS),GS=rn(FS),_t=rn(d),bn=Xa,JS=1e3/30,Ot={capture:!0,passive:!1},XS=function(t){US(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.rootElement=_t.default.createRef(),r.listenersBound=!1,r.onMouseDown=function(n){!Ic(n)&&n.button!==0||(n.preventDefault(),r.bindListeners())},r.onMouseUp=function(n){r.unbindListeners();var o=r.calculateRelativePercentage(n);r.props.onRelease(o)},r.onMouseMove=function(n){n.preventDefault(),n.stopPropagation(),r.throttledUpdatePercentage(n)},r.throttledUpdatePercentage=GS.default(function(n){var o=r.calculateRelativePercentage(n);o!==r.props.splitPercentage&&r.props.onChange(o)},JS),r}return e.prototype.render=function(){var r=this.props.direction;return _t.default.createElement("div",{className:KS.default("mosaic-split",{"-row":r==="row","-column":r==="column"}),ref:this.rootElement,onMouseDown:this.onMouseDown,style:this.computeStyle()},_t.default.createElement("div",{className:"mosaic-split-line"}))},e.prototype.componentDidMount=function(){this.rootElement.current.addEventListener("touchstart",this.onMouseDown,Ot)},e.prototype.componentWillUnmount=function(){this.unbindListeners(),this.rootElement.current&&this.rootElement.current.ownerDocument.removeEventListener("touchstart",this.onMouseDown,Ot)},e.prototype.bindListeners=function(){this.listenersBound||(this.rootElement.current.ownerDocument.addEventListener("mousemove",this.onMouseMove,!0),this.rootElement.current.ownerDocument.addEventListener("touchmove",this.onMouseMove,Ot),this.rootElement.current.ownerDocument.addEventListener("mouseup",this.onMouseUp,!0),this.rootElement.current.ownerDocument.addEventListener("touchend",this.onMouseUp,!0),this.listenersBound=!0)},e.prototype.unbindListeners=function(){this.rootElement.current&&(this.rootElement.current.ownerDocument.removeEventListener("mousemove",this.onMouseMove,!0),this.rootElement.current.ownerDocument.removeEventListener("touchmove",this.onMouseMove,Ot),this.rootElement.current.ownerDocument.removeEventListener("mouseup",this.onMouseUp,!0),this.rootElement.current.ownerDocument.removeEventListener("touchend",this.onMouseUp,!0),this.listenersBound=!1)},e.prototype.computeStyle=function(){var r,n=this.props,o=n.boundingBox,a=n.direction,c=n.splitPercentage,l=a==="column"?"top":"left",u=bn.BoundingBox.getAbsoluteSplitPercentage(o,c,a);return Tr(Tr({},bn.BoundingBox.asStyles(o)),(r={},r[l]=u+"%",r))},e.prototype.calculateRelativePercentage=function(r){var n=this.props,o=n.minimumPaneSizePercentage,a=n.direction,c=n.boundingBox,l=this.rootElement.current.parentElement.getBoundingClientRect(),u=Ic(r)?r.changedTouches[0]:r,s;a==="column"?s=(u.clientY-l.top)/l.height*100:s=(u.clientX-l.left)/l.width*100;var f=bn.BoundingBox.getRelativeSplitPercentage(c,s,a);return ZS.default(f,o,100-o)},e.defaultProps={onChange:function(){},onRelease:function(){},minimumPaneSizePercentage:20},e}(_t.default.PureComponent);en.Split=XS;function Ic(t){return t.changedTouches!=null}var _e={};(function(t){var e=T&&T.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.getAndAssertNodeAtPathExists=t.getNodeAtPath=t.getLeaves=t.getPathToCorner=t.getOtherDirection=t.getOtherBranch=t.createBalancedTreeFromLeaves=t.isParent=t.Corner=void 0;var r=e(Jd),n=e(Xd);function o(v,b){if(b===void 0&&(b="row"),c(v)){var O=s(b);return{direction:b,first:o(v.first,O),second:o(v.second,O)}}else return v}var a;(function(v){v[v.TOP_LEFT=1]="TOP_LEFT",v[v.TOP_RIGHT=2]="TOP_RIGHT",v[v.BOTTOM_LEFT=3]="BOTTOM_LEFT",v[v.BOTTOM_RIGHT=4]="BOTTOM_RIGHT"})(a=t.Corner||(t.Corner={}));function c(v){return v.direction!=null}t.isParent=c;function l(v,b){if(b===void 0&&(b="row"),v.length===0)return null;for(var O=r.default(v),P=[];O.length>1;){for(;O.length>0;)O.length>1?P.push({direction:"row",first:O.shift(),second:O.shift()}):P.unshift(O.shift());O=P,P=[]}return o(O[0],b)}t.createBalancedTreeFromLeaves=l;function u(v){if(v==="first")return"second";if(v==="second")return"first";throw new Error("Branch '"+v+"' not a valid branch")}t.getOtherBranch=u;function s(v){return v==="row"?"column":"row"}t.getOtherDirection=s;function f(v,b){for(var O=v,P=[];c(O);)O.direction==="row"&&(b===a.TOP_LEFT||b===a.BOTTOM_LEFT)||O.direction==="column"&&(b===a.TOP_LEFT||b===a.TOP_RIGHT)?(P.push("first"),O=O.first):(P.push("second"),O=O.second);return P}t.getPathToCorner=f;function p(v){return v==null?[]:c(v)?p(v.first).concat(p(v.second)):[v]}t.getLeaves=p;function h(v,b){return b.length>0?n.default(v,b,null):v}t.getNodeAtPath=h;function m(v,b){if(v==null)throw new Error("Root is empty, cannot fetch path");var O=h(v,b);if(O==null)throw new Error("Path ["+b.join(", ")+"] did not resolve to a node");return O}t.getAndAssertNodeAtPathExists=m})(_e);var YS=T&&T.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cr=T&&T.__assign||function(){return Cr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Cr.apply(this,arguments)},Ds=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.MosaicRoot=void 0;var QS=Ds(Yd),Pt=Ds(d),ek=ce,tk=en,wn=Xa,rk=_e,nk=function(t){YS(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.onResize=function(n,o,a){r.context.mosaicActions.updateTree([{path:o,spec:{splitPercentage:{$set:n}}}],a)},r}return e.prototype.render=function(){var r=this.props.root;return Pt.default.createElement("div",{className:"mosaic-root"},this.renderRecursively(r,wn.BoundingBox.empty(),[]))},e.prototype.renderRecursively=function(r,n,o){if(rk.isParent(r)){var a=r.splitPercentage==null?50:r.splitPercentage,c=wn.BoundingBox.split(n,a,r.direction),l=c.first,u=c.second;return QS.default([this.renderRecursively(r.first,l,o.concat("first")),this.renderSplit(r.direction,n,a,o),this.renderRecursively(r.second,u,o.concat("second"))].filter(ok))}else return Pt.default.createElement("div",{key:r,className:"mosaic-tile",style:Cr({},wn.BoundingBox.asStyles(n))},this.props.renderTile(r,o))},e.prototype.renderSplit=function(r,n,o,a){var c=this,l=this.props.resize;return l!=="DISABLED"?Pt.default.createElement(tk.Split,Cr({key:a.join(",")+"splitter"},l,{boundingBox:n,splitPercentage:o,direction:r,onChange:function(u){return c.onResize(u,a,!0)},onRelease:function(u){return c.onResize(u,a,!1)}})):null},e.contextType=ek.MosaicContext,e}(Pt.default.PureComponent);Qr.MosaicRoot=nk;function ok(t){return t!==null}var ut={},Re={};(function(t){var e=T&&T.__createBinding||(Object.create?function(a,c,l,u){u===void 0&&(u=l),Object.defineProperty(a,u,{enumerable:!0,get:function(){return c[l]}})}:function(a,c,l,u){u===void 0&&(u=l),a[u]=c[l]}),r=T&&T.__setModuleDefault||(Object.create?function(a,c){Object.defineProperty(a,"default",{enumerable:!0,value:c})}:function(a,c){a.default=c}),n=T&&T.__importStar||function(a){if(a&&a.__esModule)return a;var c={};if(a!=null)for(var l in a)Object.hasOwnProperty.call(a,l)&&e(c,a,l);return r(c,a),c};Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalBlueprint=void 0;var o=n(d);(function(a){var c,l,u;try{require.resolve("@blueprintjs/core"),require.resolve("@blueprintjs/icons"),c=require("@blueprintjs/core"),l=c.Classes,a.Icon=c.Icon,u=require("@blueprintjs/icons").IconNames}catch{a.Icon=function(h){var m=h.icon;return o.createElement("span",null,m)}}function s(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];return l?p.map(function(m){return l[m]}).join(" "):""}a.getClasses=s;function f(p){return l&&u?l.iconClass(u[p]):""}a.getIconClass=f})(t.OptionalBlueprint||(t.OptionalBlueprint={}))})(Re);var ak=T&&T.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ya=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ut,"__esModule",{value:!0});ut.MosaicZeroState=void 0;var xc=Ya(ge),ik=Ya(da),je=Ya(d),ck=ce,Fe=Re,lk=function(t){ak(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.replace=function(){return Promise.resolve(r.props.createNode()).then(function(n){return r.context.mosaicActions.replaceWith([],n)}).catch(ik.default)},r}return e.prototype.render=function(){return je.default.createElement("div",{className:xc.default("mosaic-zero-state",Fe.OptionalBlueprint.getClasses("NON_IDEAL_STATE"))},je.default.createElement("div",{className:Fe.OptionalBlueprint.getClasses("NON_IDEAL_STATE_VISUAL")},je.default.createElement(Fe.OptionalBlueprint.Icon,{iconSize:120,icon:"applications"})),je.default.createElement("h4",{className:Fe.OptionalBlueprint.getClasses("HEADING")},"No Windows Present"),je.default.createElement("div",null,this.props.createNode&&je.default.createElement("button",{className:xc.default(Fe.OptionalBlueprint.getClasses("BUTTON"),Fe.OptionalBlueprint.getIconClass("ADD")),onClick:this.replace},"Add New Window")))},e.contextType=ck.MosaicContext,e}(je.default.PureComponent);ut.MosaicZeroState=lk;var nn={},Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.MosaicDropTargetPosition=void 0;Je.MosaicDropTargetPosition={TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"};var st={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.MosaicDragType=void 0;Ae.MosaicDragType={WINDOW:"MosaicWindow"};var uk=T&&T.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ms=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(st,"__esModule",{value:!0});st.MosaicDropTarget=void 0;var sk=Ms(ge),jc=Ms(d),fk=Yr,dk=ce,pk=Ae,hk={drop:function(t,e,r){return r.context.mosaicId===(e.getItem()||{}).mosaicId?{path:t.path,position:t.position}:{}}},mk=function(t){uk(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var r=this.props,n=r.position,o=r.isOver,a=r.connectDropTarget,c=r.draggedMosaicId;return a(jc.default.createElement("div",{className:sk.default("drop-target",n,{"drop-target-hover":o&&c===this.context.mosaicId})}))},e.contextType=dk.MosaicContext,e}(jc.default.PureComponent);st.MosaicDropTarget=fk.DropTarget(pk.MosaicDragType.WINDOW,hk,function(t,e){return{connectDropTarget:t.dropTarget(),isOver:e.isOver(),draggedMosaicId:(e.getItem()||{}).mosaicId}})(mk);var vk=T&&T.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qa=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nn,"__esModule",{value:!0});nn.RootDropTargets=void 0;var yk=Qa(ge),gk=Qa(Dl),_n=Qa(d),bk=Yr,wk=Je,_k=st,Dc=Ae,Ok=function(t){vk(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){return _n.default.createElement("div",{className:yk.default("drop-target-container",{"-dragging":this.props.isDragging})},gk.default(wk.MosaicDropTargetPosition).map(function(r){return _n.default.createElement(_k.MosaicDropTarget,{position:r,path:[],key:r})}))},e}(_n.default.PureComponent),Pk={};nn.RootDropTargets=bk.DropTarget(Dc.MosaicDragType.WINDOW,Pk,function(t,e){return{isDragging:e.getItem()!==null&&e.getItemType()===Dc.MosaicDragType.WINDOW}})(Ok);var ie={},zo={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function r(w){return typeof w=="object"&&!("toString"in w)?Object.prototype.toString.call(w).slice(8,-1):w}var n=typeof process=="object"&&!0;function o(w,y){if(!w)throw n?new Error("Invariant failed"):new Error(y())}e.invariant=o;var a=Object.prototype.hasOwnProperty,c=Array.prototype.splice,l=Object.prototype.toString;function u(w){return l.call(w).slice(8,-1)}var s=Object.assign||function(w,y){return f(y).forEach(function(E){a.call(y,E)&&(w[E]=y[E])}),w},f=typeof Object.getOwnPropertySymbols=="function"?function(w){return Object.keys(w).concat(Object.getOwnPropertySymbols(w))}:function(w){return Object.keys(w)};function p(w){return Array.isArray(w)?s(w.constructor(w.length),w):u(w)==="Map"?new Map(w):u(w)==="Set"?new Set(w):w&&typeof w=="object"?s(Object.create(Object.getPrototypeOf(w)),w):w}var h=function(){function w(){this.commands=s({},m),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(y,E){return y===E},this.update.newContext=function(){return new w().update}}return Object.defineProperty(w.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(y){this.update.isEquals=y},enumerable:!0,configurable:!0}),w.prototype.extend=function(y,E){this.commands[y]=E},w.prototype.update=function(y,E){var S=this,_=typeof E=="function"?{$apply:E}:E;Array.isArray(y)&&Array.isArray(_)||o(!Array.isArray(_),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),o(typeof _=="object"&&_!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys(S.commands).join(", ")+".")});var k=y;return f(_).forEach(function(C){if(a.call(S.commands,C)){var z=y===k;k=S.commands[C](_[C],k,_,y),z&&S.isEquals(k,y)&&(k=y)}else{var D=u(y)==="Map"?S.update(y.get(C),_[C]):S.update(y[C],_[C]),I=u(k)==="Map"?k.get(C):k[C];(!S.isEquals(D,I)||typeof D>"u"&&!a.call(y,C))&&(k===y&&(k=p(y)),u(k)==="Map"?k.set(C,D):k[C]=D)}}),k},w}();e.Context=h;var m={$push:function(w,y,E){return b(y,E,"$push"),w.length?y.concat(w):y},$unshift:function(w,y,E){return b(y,E,"$unshift"),w.length?w.concat(y):y},$splice:function(w,y,E,S){return P(y,E),w.forEach(function(_){g(_),y===S&&_.length&&(y=p(S)),c.apply(y,_)}),y},$set:function(w,y,E){return R(E),w},$toggle:function(w,y){O(w,"$toggle");var E=w.length?p(y):y;return w.forEach(function(S){E[S]=!y[S]}),E},$unset:function(w,y,E,S){return O(w,"$unset"),w.forEach(function(_){Object.hasOwnProperty.call(y,_)&&(y===S&&(y=p(S)),delete y[_])}),y},$add:function(w,y,E,S){return Y(y,"$add"),O(w,"$add"),u(y)==="Map"?w.forEach(function(_){var k=_[0],C=_[1];y===S&&y.get(k)!==C&&(y=p(S)),y.set(k,C)}):w.forEach(function(_){y===S&&!y.has(_)&&(y=p(S)),y.add(_)}),y},$remove:function(w,y,E,S){return Y(y,"$remove"),O(w,"$remove"),w.forEach(function(_){y===S&&y.has(_)&&(y=p(S)),y.delete(_)}),y},$merge:function(w,y,E,S){return H(y,w),f(w).forEach(function(_){w[_]!==y[_]&&(y===S&&(y=p(S)),y[_]=w[_])}),y},$apply:function(w,y){return $(w),w(y)}},v=new h;e.isEquals=v.update.isEquals,e.extend=v.extend,e.default=v.update,e.default.default=t.exports=s(e.default,e);function b(w,y,E){o(Array.isArray(w),function(){return"update(): expected target of "+r(E)+" to be an array; got "+r(w)+"."}),O(y[E],E)}function O(w,y){o(Array.isArray(w),function(){return"update(): expected spec of "+r(y)+" to be an array; got "+r(w)+". Did you forget to wrap your parameter in an array?"})}function P(w,y){o(Array.isArray(w),function(){return"Expected $splice target to be an array; got "+r(w)}),g(y.$splice)}function g(w){o(Array.isArray(w),function(){return"update(): expected spec of $splice to be an array of arrays; got "+r(w)+". Did you forget to wrap your parameters in an array?"})}function $(w){o(typeof w=="function",function(){return"update(): expected spec of $apply to be a function; got "+r(w)+"."})}function R(w){o(Object.keys(w).length===1,function(){return"Cannot have more than one key in an object with $set"})}function H(w,y){o(y&&typeof y=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+r(y)}),o(w&&typeof w=="object",function(){return"update(): $merge expects a target of type 'object'; got "+r(w)})}function Y(w,y){var E=u(w);o(E==="Map"||E==="Set",function(){return"update(): "+r(y)+" expects a target of type Set or Map; got "+r(E)})}})(zo,zo.exports);var Ek=zo.exports,$k=pa,Sk=ha;function kk(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===void 0?1:Sk(e),$k(t,e<0?0:e,n)):[]}var Tk=kk,Ck=pa,Rk=ha;function Ik(t,e,r){var n=t==null?0:t.length;return n?(e=r||e===void 0?1:Rk(e),e=n-e,Ck(t,0,e<0?0:e)):[]}var ei=Ik;const xk=ma(ei);var jk=Qd;function Dk(t,e){return jk(t,e)}var ti=Dk;const Mk=ma(ti);var Wk=pa,Nk=ha;function Bk(t,e,r){return t&&t.length?(e=r||e===void 0?1:Nk(e),Wk(t,0,e<0?0:e)):[]}var Ak=Bk,Le=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ie,"__esModule",{value:!0});ie.createExpandUpdate=ie.createHideUpdate=ie.createDragToUpdates=Ls=ie.createRemoveUpdate=Ho=ie.updateTree=ie.buildSpecFromUpdate=void 0;var Lk=Le(Ek),zk=Le(Tk),Ws=Le(ei),Hk=Le(ti),Ns=Le(ep),Vk=Le(tp()),Mc=Le(Ak),Et=Je,Rr=_e;function Bs(t){return t.path.length>0?Vk.default({},t.path,t.spec):t.spec}ie.buildSpecFromUpdate=Bs;function As(t,e){var r=t;return e.forEach(function(n){r=Lk.default(r,Bs(n))}),r}var Ho=ie.updateTree=As;function Vo(t,e){var r=Ws.default(e),n=Ns.default(e),o=r.concat(Rr.getOtherBranch(n)),a=Rr.getAndAssertNodeAtPathExists(t,o);return{path:r,spec:{$set:a}}}var Ls=ie.createRemoveUpdate=Vo;function Wc(t,e,r){return Hk.default(Mc.default(t,r),Mc.default(e,r))}function Fk(t,e,r,n){var o=Rr.getAndAssertNodeAtPathExists(t,r),a=[],c=Wc(e,r,r.length);if(c)o=As(o,[Vo(o,zk.default(e,r.length))]);else{a.push(Vo(t,e));var l=Wc(e,r,e.length-1);l&&r.splice(e.length-1,1)}var u=Rr.getAndAssertNodeAtPathExists(t,e),s,f;n===Et.MosaicDropTargetPosition.LEFT||n===Et.MosaicDropTargetPosition.TOP?(s=u,f=o):(s=o,f=u);var p="column";return(n===Et.MosaicDropTargetPosition.LEFT||n===Et.MosaicDropTargetPosition.RIGHT)&&(p="row"),a.push({path:r,spec:{$set:{first:s,second:f,direction:p}}}),a}ie.createDragToUpdates=Fk;function qk(t){var e=Ws.default(t),r=Ns.default(t),n;return r==="first"?n=0:n=100,{path:e,spec:{splitPercentage:{$set:n}}}}ie.createHideUpdate=qk;function Uk(t,e){for(var r,n={},o=t.length-1;o>=0;o--){var a=t[o],c=a==="first"?e:100-e;n=(r={splitPercentage:{$set:c}},r[a]=n,r)}return{spec:n,path:[]}}ie.createExpandUpdate=Uk;var zs=T&&T.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fo=T&&T.__assign||function(){return Fo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Fo.apply(this,arguments)},ze=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.Mosaic=Ke.MosaicWithoutDragDropContext=void 0;var Kk=ze(ge);ze(fS);ze(rp);ze(OS);var Se=ze(d),Zk=Yr,Gk=ze(PS),Jk=ze(np),Xk=DS,Yk=ce,Qk=Qr,eT=ut,tT=nn,$t=ie,rT=70;function On(t){return t.initialValue!=null}var Hs=function(t){zs(e,t);function e(){var r,n=t.apply(this,arguments)||this;return n.state={currentNode:null,lastInitialValue:null,mosaicId:(r=n.props.mosaicId)!==null&&r!==void 0?r:Xk.v4()},n.updateRoot=function(o,a){a===void 0&&(a=!1);var c=n.getRoot()||{};n.replaceRoot($t.updateTree(c,o),a)},n.replaceRoot=function(o,a){a===void 0&&(a=!1),n.props.onChange(o),!a&&n.props.onRelease&&n.props.onRelease(o),On(n.props)&&n.setState({currentNode:o})},n.actions={updateTree:n.updateRoot,remove:function(o){o.length===0?n.replaceRoot(null):n.updateRoot([$t.createRemoveUpdate(n.getRoot(),o)])},expand:function(o,a){return a===void 0&&(a=rT),n.updateRoot([$t.createExpandUpdate(o,a)])},getRoot:function(){return n.getRoot()},hide:function(o){return n.updateRoot([$t.createHideUpdate(o)])},replaceWith:function(o,a){return n.updateRoot([{path:o,spec:{$set:a}}])}},n.childContext={mosaicActions:n.actions,mosaicId:n.state.mosaicId},n}return e.getDerivedStateFromProps=function(r,n){return r.mosaicId&&(n.mosaicId,r.mosaicId),On(r)&&r.initialValue!==n.lastInitialValue?{lastInitialValue:r.initialValue,currentNode:r.initialValue}:null},e.prototype.render=function(){var r=this.props.className;return Se.default.createElement(Yk.MosaicContext.Provider,{value:this.childContext},Se.default.createElement("div",{className:Kk.default(r,"mosaic mosaic-drop-target")},this.renderTree(),Se.default.createElement(tT.RootDropTargets,null)))},e.prototype.getRoot=function(){return On(this.props)?this.state.currentNode:this.props.value},e.prototype.renderTree=function(){var r=this.getRoot();if(this.validateTree(r),r==null)return this.props.zeroStateView;var n=this.props,o=n.renderTile,a=n.resize;return Se.default.createElement(Qk.MosaicRoot,{root:r,renderTile:o,resize:a})},e.prototype.validateTree=function(r){},e.defaultProps={onChange:function(){},zeroStateView:Se.default.createElement(eT.MosaicZeroState,null),className:"mosaic-blueprint-theme"},e}(Se.default.PureComponent);Ke.MosaicWithoutDragDropContext=Hs;var nT=function(t){zs(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){return Se.default.createElement(Zk.DndProvider,{backend:Gk.default,options:Jk.default},Se.default.createElement(Hs,Fo({},this.props)))},e}(Se.default.PureComponent);Ke.Mosaic=nT;var Vs={},oT="Expected a function";function aT(t,e,r){if(typeof t!="function")throw new TypeError(oT);return setTimeout(function(){t.apply(void 0,r)},e)}var iT=aT,cT=iT,lT=Ml,uT=lT(function(t,e){return cT(t,1,e)}),sT=uT,Be={},ft={},Ie={},Fs=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.createDefaultToolbarButton=void 0;var fT=Fs(ge),Nc=Fs(d),dT=Re;function pT(t,e,r,n){return Nc.default.createElement("button",{title:t,onClick:r,className:fT.default("mosaic-default-control",dT.OptionalBlueprint.getClasses("BUTTON","MINIMAL"),e)},n&&Nc.default.createElement("span",{className:"control-text"},n))}Ie.createDefaultToolbarButton=pT;var hT=T&&T.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qs=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ft,"__esModule",{value:!0});ft.ExpandButton=void 0;var mT=qs(ge),Bc=qs(d),Ac=ce,vT=Re,yT=Ie,gT=function(t){hT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var r=this;return Bc.default.createElement(Ac.MosaicContext.Consumer,null,function(n){var o=n.mosaicActions;return yT.createDefaultToolbarButton("Expand",mT.default("expand-button",vT.OptionalBlueprint.getIconClass("MAXIMIZE")),r.createExpand(o))})},e.prototype.createExpand=function(r){var n=this;return function(){r.expand(n.context.mosaicWindowActions.getPath()),n.props.onClick&&n.props.onClick()}},e.contextType=Ac.MosaicWindowContext,e}(Bc.default.PureComponent);ft.ExpandButton=gT;var dt={},bT=T&&T.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Us=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dt,"__esModule",{value:!0});dt.RemoveButton=void 0;var wT=Us(ge),Lc=Us(d),zc=ce,_T=Re,OT=Ie,PT=function(t){bT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var r=this;return Lc.default.createElement(zc.MosaicContext.Consumer,null,function(n){var o=n.mosaicActions;return OT.createDefaultToolbarButton("Close Window",wT.default("close-button",_T.OptionalBlueprint.getIconClass("CROSS")),r.createRemove(o))})},e.prototype.createRemove=function(r){var n=this;return function(){r.remove(n.context.mosaicWindowActions.getPath()),n.props.onClick&&n.props.onClick()}},e.contextType=zc.MosaicWindowContext,e}(Lc.default.PureComponent);dt.RemoveButton=PT;var pt={},ET=T&&T.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ri=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pt,"__esModule",{value:!0});pt.ReplaceButton=void 0;var $T=ri(ge),ST=ri(da),kT=ri(d),TT=ce,CT=Re,RT=Ie,IT=function(t){ET(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.replace=function(){r.context.mosaicWindowActions.replaceWithNew().then(function(){r.props.onClick&&r.props.onClick()}).catch(ST.default)},r}return e.prototype.render=function(){return RT.createDefaultToolbarButton("Replace Window",$T.default("replace-button",CT.OptionalBlueprint.getIconClass("EXCHANGE")),this.replace)},e.contextType=TT.MosaicWindowContext,e}(kT.default.PureComponent);pt.ReplaceButton=IT;var ht={},xT=T&&T.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ni=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ht,"__esModule",{value:!0});ht.SplitButton=void 0;var jT=ni(ge),DT=ni(da),MT=ni(d),WT=ce,NT=Re,BT=Ie,AT=function(t){xT(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.split=function(){r.context.mosaicWindowActions.split().then(function(){r.props.onClick&&r.props.onClick()}).catch(DT.default)},r}return e.prototype.render=function(){return BT.createDefaultToolbarButton("Split Window",jT.default("split-button",NT.OptionalBlueprint.getIconClass("ADD_COLUMN_RIGHT")),this.split)},e.contextType=WT.MosaicWindowContext,e}(MT.default.PureComponent);ht.SplitButton=AT;var LT=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Be,"__esModule",{value:!0});Be.DEFAULT_CONTROLS_WITHOUT_CREATION=Be.DEFAULT_CONTROLS_WITH_CREATION=void 0;var Ce=LT(d),Ks=ft,Zs=dt,zT=pt,HT=ht;Be.DEFAULT_CONTROLS_WITH_CREATION=Ce.default.Children.toArray([Ce.default.createElement(zT.ReplaceButton,null),Ce.default.createElement(HT.SplitButton,null),Ce.default.createElement(Ks.ExpandButton,null),Ce.default.createElement(Zs.RemoveButton,null)]);Be.DEFAULT_CONTROLS_WITHOUT_CREATION=Ce.default.Children.toArray([Ce.default.createElement(Ks.ExpandButton,null),Ce.default.createElement(Zs.RemoveButton,null)]);var mt={},VT=T&&T.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FT=T&&T.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mt,"__esModule",{value:!0});mt.Separator=void 0;var Hc=FT(d),qT=function(t){VT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){return Hc.default.createElement("div",{className:"separator"})},e}(Hc.default.PureComponent);mt.Separator=qT;(function(t){var e=T&&T.__extends||function(){var E=function(S,_){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,C){k.__proto__=C}||function(k,C){for(var z in C)C.hasOwnProperty(z)&&(k[z]=C[z])},E(S,_)};return function(S,_){E(S,_);function k(){this.constructor=S}S.prototype=_===null?Object.create(_):(k.prototype=_.prototype,new k)}}(),r=T&&T.__assign||function(){return r=Object.assign||function(E){for(var S,_=1,k=arguments.length;_<k;_++){S=arguments[_];for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(E[C]=S[C])}return E},r.apply(this,arguments)},n=T&&T.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(t,"__esModule",{value:!0}),t.MosaicWindow=t.SourceDropConnectedInternalMosaicWindow=t.SourceConnectedInternalMosaicWindow=t.InternalMosaicWindow=void 0;var o=n(ge),a=n(sT),c=n(ei),l=n(op),u=n(ti),s=n(Dl),f=n(d),p=Yr,h=Be,m=mt,v=ce,b=Je,O=st,P=Ae,g=ie,$=_e,R=Re,H=function(E){e(S,E);function S(){var _=E!==null&&E.apply(this,arguments)||this;return _.state={additionalControlsOpen:!1},_.rootElement=null,_.renderDropTarget=function(k){var C=_.props.path;return f.default.createElement(O.MosaicDropTarget,{position:k,path:C,key:k})},_.split=function(){for(var k=[],C=0;C<arguments.length;C++)k[C]=arguments[C];_.checkCreateNode();var z=_.props,D=z.createNode,I=z.path,B=_.context.mosaicActions,Z=B.getRoot(),oe=_.rootElement.offsetWidth>_.rootElement.offsetHeight?"row":"column";return Promise.resolve(D.apply(void 0,k)).then(function(ae){return B.replaceWith(I,{direction:oe,second:ae,first:$.getAndAssertNodeAtPathExists(Z,I)})})},_.swap=function(){for(var k=[],C=0;C<arguments.length;C++)k[C]=arguments[C];_.checkCreateNode();var z=_.context.mosaicActions,D=_.props,I=D.createNode,B=D.path;return Promise.resolve(I.apply(void 0,k)).then(function(Z){return z.replaceWith(B,Z)})},_.setAdditionalControlsOpen=function(k){_.setState({additionalControlsOpen:k})},_.getPath=function(){return _.props.path},_.connectDragSource=function(k){var C=_.props.connectDragSource;return C(k)},_.childContext={mosaicWindowActions:{split:_.split,replaceWithNew:_.swap,setAdditionalControlsOpen:_.setAdditionalControlsOpen,getPath:_.getPath,connectDragSource:_.connectDragSource}},_}return S.prototype.render=function(){var _=this,k=this.props,C=k.className,z=k.isOver,D=k.renderPreview,I=k.additionalControls,B=k.connectDropTarget,Z=k.connectDragPreview,oe=k.draggedMosaicId;return f.default.createElement(v.MosaicWindowContext.Provider,{value:this.childContext},B(f.default.createElement("div",{className:o.default("mosaic-window mosaic-drop-target",C,{"drop-target-hover":z&&oe===this.context.mosaicId,"additional-controls-open":this.state.additionalControlsOpen}),ref:function(ae){return _.rootElement=ae}},this.renderToolbar(),f.default.createElement("div",{className:"mosaic-window-body"},this.props.children),f.default.createElement("div",{className:"mosaic-window-body-overlay",onClick:function(){return _.setAdditionalControlsOpen(!1)}}),f.default.createElement("div",{className:"mosaic-window-additional-actions-bar"},I),Z(D(this.props)),f.default.createElement("div",{className:"drop-target-container"},s.default(b.MosaicDropTargetPosition).map(this.renderDropTarget)))))},S.prototype.getToolbarControls=function(){var _=this.props,k=_.toolbarControls,C=_.createNode;return k||(C?h.DEFAULT_CONTROLS_WITH_CREATION:h.DEFAULT_CONTROLS_WITHOUT_CREATION)},S.prototype.renderToolbar=function(){var _,k=this,C=this.props,z=C.title,D=C.draggable,I=C.additionalControls,B=C.additionalControlButtonText,Z=C.path,oe=C.renderToolbar,ae=this.state.additionalControlsOpen,ve=this.getToolbarControls(),be=D&&Z.length>0,Ee=be?this.props.connectDragSource:function(Xe){return Xe};if(oe){var xe=Ee(oe(this.props,D));return f.default.createElement("div",{className:o.default("mosaic-window-toolbar",{draggable:be})},xe)}var we=Ee(f.default.createElement("div",{title:z,className:"mosaic-window-title"},z)),He=!l.default(I);return f.default.createElement("div",{className:o.default("mosaic-window-toolbar",{draggable:be})},we,f.default.createElement("div",{className:o.default("mosaic-window-controls",R.OptionalBlueprint.getClasses("BUTTON_GROUP"))},He&&f.default.createElement("button",{onClick:function(){return k.setAdditionalControlsOpen(!ae)},className:o.default(R.OptionalBlueprint.getClasses("BUTTON","MINIMAL"),R.OptionalBlueprint.getIconClass("MORE"),(_={},_[R.OptionalBlueprint.getClasses("ACTIVE")]=ae,_))},f.default.createElement("span",{className:"control-text"},B)),He&&f.default.createElement(m.Separator,null),ve))},S.prototype.checkCreateNode=function(){if(this.props.createNode==null)throw new Error("Operation invalid unless `createNode` is defined")},S.defaultProps={additionalControlButtonText:"More",draggable:!0,renderPreview:function(_){var k=_.title;return f.default.createElement("div",{className:"mosaic-preview"},f.default.createElement("div",{className:"mosaic-window-toolbar"},f.default.createElement("div",{className:"mosaic-window-title"},k)),f.default.createElement("div",{className:"mosaic-window-body"},f.default.createElement("h4",null,k),f.default.createElement(R.OptionalBlueprint.Icon,{iconSize:72,icon:"application"})))},renderToolbar:null},S.contextType=v.MosaicContext,S}(f.default.Component);t.InternalMosaicWindow=H;var Y={beginDrag:function(E,S,_){E.onDragStart&&E.onDragStart();var k=a.default(function(){return _.context.mosaicActions.hide(_.props.path)});return{mosaicId:_.context.mosaicId,hideTimer:k}},endDrag:function(E,S,_){var k=S.getItem().hideTimer;window.clearTimeout(k);var C=_.props.path,z=S.getDropResult()||{},D=_.context.mosaicActions,I=z.position,B=z.path;I!=null&&B!=null&&!u.default(B,C)?(D.updateTree(g.createDragToUpdates(D.getRoot(),C,B,I)),E.onDragEnd&&E.onDragEnd("drop")):(D.updateTree([{path:c.default(C),spec:{splitPercentage:{$set:null}}}]),E.onDragEnd&&E.onDragEnd("reset"))}},w={};t.SourceConnectedInternalMosaicWindow=p.DragSource(P.MosaicDragType.WINDOW,Y,function(E,S){return{connectDragSource:E.dragSource(),connectDragPreview:E.dragPreview()}})(H),t.SourceDropConnectedInternalMosaicWindow=p.DropTarget(P.MosaicDragType.WINDOW,w,function(E,S){return{connectDropTarget:E.dropTarget(),isOver:S.isOver(),draggedMosaicId:(S.getItem()||{}).mosaicId}})(t.SourceConnectedInternalMosaicWindow);var y=function(E){e(S,E);function S(){return E!==null&&E.apply(this,arguments)||this}return S.prototype.render=function(){return f.default.createElement(t.SourceDropConnectedInternalMosaicWindow,r({},this.props))},S}(f.default.PureComponent);t.MosaicWindow=y})(Vs);(function(t){Object.defineProperty(t,"__esModule",{value:!0});/**
 * @license
 * Copyright 2019 Kevin Verdieck, originally developed at Palantir Technologies, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e=Ke;Object.defineProperty(t,"Mosaic",{enumerable:!0,get:function(){return e.Mosaic}}),Object.defineProperty(t,"MosaicWithoutDragDropContext",{enumerable:!0,get:function(){return e.MosaicWithoutDragDropContext}});var r=Ae;Object.defineProperty(t,"MosaicDragType",{enumerable:!0,get:function(){return r.MosaicDragType}});var n=ce;Object.defineProperty(t,"MosaicContext",{enumerable:!0,get:function(){return n.MosaicContext}}),Object.defineProperty(t,"MosaicWindowContext",{enumerable:!0,get:function(){return n.MosaicWindowContext}});var o=ie;Object.defineProperty(t,"buildSpecFromUpdate",{enumerable:!0,get:function(){return o.buildSpecFromUpdate}}),Object.defineProperty(t,"createDragToUpdates",{enumerable:!0,get:function(){return o.createDragToUpdates}}),Object.defineProperty(t,"createExpandUpdate",{enumerable:!0,get:function(){return o.createExpandUpdate}}),Object.defineProperty(t,"createHideUpdate",{enumerable:!0,get:function(){return o.createHideUpdate}}),Object.defineProperty(t,"createRemoveUpdate",{enumerable:!0,get:function(){return o.createRemoveUpdate}}),Object.defineProperty(t,"updateTree",{enumerable:!0,get:function(){return o.updateTree}});var a=_e;Object.defineProperty(t,"createBalancedTreeFromLeaves",{enumerable:!0,get:function(){return a.createBalancedTreeFromLeaves}}),Object.defineProperty(t,"Corner",{enumerable:!0,get:function(){return a.Corner}}),Object.defineProperty(t,"getAndAssertNodeAtPathExists",{enumerable:!0,get:function(){return a.getAndAssertNodeAtPathExists}}),Object.defineProperty(t,"getLeaves",{enumerable:!0,get:function(){return a.getLeaves}}),Object.defineProperty(t,"getNodeAtPath",{enumerable:!0,get:function(){return a.getNodeAtPath}}),Object.defineProperty(t,"getOtherBranch",{enumerable:!0,get:function(){return a.getOtherBranch}}),Object.defineProperty(t,"getOtherDirection",{enumerable:!0,get:function(){return a.getOtherDirection}}),Object.defineProperty(t,"getPathToCorner",{enumerable:!0,get:function(){return a.getPathToCorner}}),Object.defineProperty(t,"isParent",{enumerable:!0,get:function(){return a.isParent}});var c=Vs;Object.defineProperty(t,"MosaicWindow",{enumerable:!0,get:function(){return c.MosaicWindow}});var l=Ie;Object.defineProperty(t,"createDefaultToolbarButton",{enumerable:!0,get:function(){return l.createDefaultToolbarButton}});var u=ut;Object.defineProperty(t,"MosaicZeroState",{enumerable:!0,get:function(){return u.MosaicZeroState}});var s=mt;Object.defineProperty(t,"Separator",{enumerable:!0,get:function(){return s.Separator}});var f=ft;Object.defineProperty(t,"ExpandButton",{enumerable:!0,get:function(){return f.ExpandButton}});var p=pt;Object.defineProperty(t,"ReplaceButton",{enumerable:!0,get:function(){return p.ReplaceButton}});var h=ht;Object.defineProperty(t,"SplitButton",{enumerable:!0,get:function(){return h.SplitButton}});var m=dt;Object.defineProperty(t,"RemoveButton",{enumerable:!0,get:function(){return m.RemoveButton}});var v=Be;Object.defineProperty(t,"DEFAULT_CONTROLS_WITH_CREATION",{enumerable:!0,get:function(){return v.DEFAULT_CONTROLS_WITH_CREATION}}),Object.defineProperty(t,"DEFAULT_CONTROLS_WITHOUT_CREATION",{enumerable:!0,get:function(){return v.DEFAULT_CONTROLS_WITHOUT_CREATION}})})(qe);var UT=ap,KT=ip,ZT=Ml,Vc=cp,GT=ZT(function(t,e){return Vc(t)?UT(t,KT(e,1,Vc,!0)):[]}),JT=GT;const Fc=ma(JT);function Gs(t){var e=t.t,r=t.title,n=t.windowId;return i.createElement(_s,{windowId:"".concat(n,"-preview"),label:e("previewWindowTitle",{title:r}),ariaLabel:!1})}Gs.defaultProps={t:function(e){return e},title:""};function qc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function XT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qc(Object(r),!0).forEach(function(n){YT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YT(t,e,r){return e=QT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QT(t){var e=eC(t,"string");return typeof e=="symbol"?e:String(e)}function eC(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tC=function(e,r){var n=r.windowId;return{title:Ur(e,{windowId:n})}},rC=function(e){return{preview:XT({},e.typography.h4)}},nC=M(j(rC),L(),A(tC,null),W("MosaicRenderPreview"));const oC=nC(Gs);function aC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cC(n.key),n)}}function iC(t,e,r){return e&&Uc(t.prototype,e),r&&Uc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cC(t){var e=lC(t,"string");return typeof e=="symbol"?e:String(e)}function lC(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kc=function(){function t(e){aC(this,t),this.layout=e}return iC(t,[{key:"pathToCorner",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_e.Corner.TOP_RIGHT;return _e.getPathToCorner(this.layout,r)}},{key:"pathToParent",value:function(r){return _e.getNodeAtPath(this.layout,xk(r))}},{key:"nodeAtPath",value:function(r){return _e.getNodeAtPath(this.layout,r)}},{key:"addWindows",value:function(r){var n=this;r.forEach(function(o,a){var c=n.pathToCorner(),l=n.pathToParent(c),u=n.nodeAtPath(c),s=l?_e.getOtherDirection(l.direction):"row",f,p;s==="row"?(f=u,p=r[a]):(f=r[a],p=u);var h={path:c,spec:{$set:{direction:s,first:f,second:p}}};n.layout=Ho(n.layout,[h])})}},{key:"removeWindows",value:function(r,n){var o=this,a=r.map(function(c){return Ls(o.layout,n[c])});this.layout=Ho(this.layout,a)}}]),t}();function uC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fC(n.key),n)}}function sC(t,e,r){return e&&Zc(t.prototype,e),r&&Zc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fC(t){var e=dC(t,"string");return typeof e=="symbol"?e:String(e)}function dC(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qo(t,e)}function qo(t,e){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},qo(t,e)}function hC(t){var e=vC();return function(){var n=Ir(t),o;if(e){var a=Ir(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return mC(this,o)}}function mC(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xt(t)}function xt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ir(t){return Ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ir(t)}var Js=function(t){pC(r,t);var e=hC(r);function r(n){var o;return uC(this,r),o=e.call(this,n),o.tileRenderer=o.tileRenderer.bind(xt(o)),o.mosaicChange=o.mosaicChange.bind(xt(o)),o.determineWorkspaceLayout=o.determineWorkspaceLayout.bind(xt(o)),o.zeroStateView=i.createElement("div",null),o.windowPaths={},o.toolbarControls=[],o.additionalControls=[],o}return sC(r,[{key:"componentDidMount",value:function(){var o=this.props.updateWorkspaceMosaicLayout,a=this.determineWorkspaceLayout();a&&o(a)}},{key:"componentDidUpdate",value:function(o){var a=this.props,c=a.windowIds,l=a.layout,u=a.updateWorkspaceMosaicLayout,s=o.windowIds;if(!c.every(function(m){return s.includes(m)})){var f=this.determineWorkspaceLayout();Mk(f,l)||u(f);return}if(!s.every(function(m){return c.includes(m)})){if(c.length===0){u(null);return}var p=Fc(s,c),h=new Kc(l);h.removeWindows(p,this.windowPaths),u(h.layout)}}},{key:"bookkeepPath",value:function(o,a){this.windowPaths[o]=a}},{key:"determineWorkspaceLayout",value:function(){var o=this.props,a=o.windowIds,c=o.layout,l=qe.getLeaves(c);if(!a.every(function(f){return l.includes(f)})){if(l.length<2)return qe.createBalancedTreeFromLeaves(a);var u=Fc(a,l),s=new Kc(c);return s.addWindows(u),s.layout}return l.every(function(f){return a.includes(f)})?c:qe.createBalancedTreeFromLeaves(a)}},{key:"tileRenderer",value:function(o,a){var c=this.props,l=c.windowIds,u=c.workspaceId;return l.includes(o)?(this.bookkeepPath(o,a),i.createElement(qe.MosaicWindow,{toolbarControls:this.toolbarControls,additionalControls:this.additionalControls,path:a,windowId:o,renderPreview:r.renderPreview},i.createElement(kr,{key:"".concat(o,"-").concat(u),windowId:o}))):null}},{key:"mosaicChange",value:function(o){var a=this.props.updateWorkspaceMosaicLayout;a(o)}},{key:"render",value:function(){var o=this.props,a=o.layout,c=o.classes;return i.createElement(qe.MosaicWithoutDragDropContext,{renderTile:this.tileRenderer,initialValue:a||this.determineWorkspaceLayout(),onChange:this.mosaicChange,className:ee("mirador-mosaic",c.root),zeroStateView:this.zeroStateView})}}],[{key:"renderPreview",value:function(o){return i.createElement("div",{className:"mosaic-preview","aria-hidden":!0},i.createElement(oC,{windowId:o.windowId}))}}]),r}(i.Component);Js.defaultProps={layout:void 0,windowIds:[]};var yC={"@global":{".mosaic":{height:"100%",width:"100%"},".mosaic, .mosaic > *":{boxSizing:"border-box"},".mosaic .mosaic-zero-state":{position:"absolute",top:6,right:6,bottom:6,left:6,width:"auto",height:"auto",zIndex:"1"},".mosaic-root":{position:"absolute",top:3,right:3,bottom:3,left:3},".mosaic-split":{position:"absolute",zIndex:"1",touchAction:"none"},".mosaic-split:hover":{background:"black"},".mosaic-split .mosaic-split-line":{position:"absolute"},".mosaic-split.-row":{marginLeft:-3,width:6,cursor:"ew-resize"},".mosaic-split.-row .mosaic-split-line":{top:"0",bottom:"0",left:3,right:3},".mosaic-split.-column":{marginTop:-3,height:6,cursor:"ns-resize"},".mosaic-split.-column .mosaic-split-line":{top:3,bottom:3,left:"0",right:"0"},".mosaic-tile":{position:"absolute",margin:3},".mosaic-tile > *":{height:"100%",width:"100%"},".mosaic-drop-target":{position:"relative"},".mosaic-drop-target.drop-target-hover .drop-target-container":{display:"block"},".mosaic-drop-target.mosaic > .drop-target-container .drop-target.left":{right:"calc(100% -  10px )"},".mosaic-drop-target.mosaic > .drop-target-container .drop-target.right":{left:"calc(100% -  10px )"},".mosaic-drop-target.mosaic > .drop-target-container .drop-target.bottom":{top:"calc(100% -  10px )"},".mosaic-drop-target.mosaic > .drop-target-container .drop-target.top":{bottom:"calc(100% -  10px )"},".mosaic-drop-target .drop-target-container":{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"none"},".mosaic-drop-target .drop-target-container.-dragging":{display:"block"},".mosaic-drop-target .drop-target-container .drop-target":{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",background:"rgba(0, 0, 0, 0.2)",border:"2px solid black",opacity:"0",zIndex:"5"},".mosaic-drop-target .drop-target-container .drop-target.left":{right:"calc(100% -  30% )"},".mosaic-drop-target .drop-target-container .drop-target.right":{left:"calc(100% -  30% )"},".mosaic-drop-target .drop-target-container .drop-target.bottom":{top:"calc(100% -  30% )"},".mosaic-drop-target .drop-target-container .drop-target.top":{bottom:"calc(100% -  30% )"},".mosaic-drop-target .drop-target-container .drop-target.drop-target-hover":{opacity:"1"},".mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.left":{right:"calc(100% -  50% )"},".mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.right":{left:"calc(100% -  50% )"},".mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.bottom":{top:"calc(100% -  50% )"},".mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.top":{bottom:"calc(100% -  50% )"},".mosaic-window, .mosaic-preview":{position:"relative",display:"flex",fallbacks:[{display:"-webkit-box"}],webkitBoxOrient:"vertical",webkitBoxDirection:"normal",flexDirection:"column",overflow:"hidden",boxShadow:"0 0 1px rgba(0, 0, 0, 0.2)"},".mosaic-window .mosaic-window-toolbar, .mosaic-preview .mosaic-window-toolbar":{zIndex:"4",display:"flex",fallbacks:[{display:"-webkit-box"}],webkitBoxPack:"justify",justifyContent:"space-between",webkitBoxAlign:"center",alignItems:"center",flexShrink:"0",height:30,background:"white",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.2)"},".mosaic-window .mosaic-window-toolbar.draggable, .mosaic-preview .mosaic-window-toolbar.draggable":{cursor:"move"},".mosaic-window .mosaic-window-title, .mosaic-preview .mosaic-window-title":{paddingLeft:15,webkitBoxFlex:"1",flex:"1",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",minHeight:18},".mosaic-window .mosaic-window-controls, .mosaic-preview .mosaic-window-controls":{display:"flex",fallbacks:[{display:"-webkit-box"}],height:"100%"},".mosaic-window .mosaic-window-controls .separator, .mosaic-preview .mosaic-window-controls .separator":{height:20,borderLeft:"1px solid black",margin:"5px 4px"},".mosaic-window .mosaic-window-body, .mosaic-preview .mosaic-window-body":{position:"relative",webkitBoxFlex:"1",flex:"1",height:"0",background:"white",zIndex:"1",overflow:"hidden"},".mosaic-window .mosaic-window-additional-actions-bar, .mosaic-preview .mosaic-window-additional-actions-bar":{position:"absolute",top:30,right:"0",bottom:"initial",left:"0",height:"0",overflow:"hidden",background:"white",webkitBoxPack:"end",justifyContent:"flex-end",display:"flex",fallbacks:[{display:"-webkit-box"}],zIndex:"3"},".mosaic-window .mosaic-window-additional-actions-bar .bp3-button, .mosaic-preview .mosaic-window-additional-actions-bar .bp3-button":{margin:"0"},".mosaic-window .mosaic-window-additional-actions-bar .bp3-button:after, .mosaic-preview .mosaic-window-additional-actions-bar .bp3-button:after":{display:"none"},".mosaic-window .mosaic-window-body-overlay, .mosaic-preview .mosaic-window-body-overlay":{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",opacity:"0",background:"white",display:"none",zIndex:"2"},".mosaic-window.additional-controls-open .mosaic-window-additional-actions-bar, .mosaic-preview.additional-controls-open .mosaic-window-additional-actions-bar":{height:30},".mosaic-window.additional-controls-open .mosaic-window-body-overlay, .mosaic-preview.additional-controls-open .mosaic-window-body-overlay":{display:"block"},".mosaic-window .mosaic-preview, .mosaic-preview .mosaic-preview":{height:"100%",width:"100%",position:"absolute",zIndex:"0",border:"1px solid black",maxHeight:400},".mosaic-window .mosaic-preview .mosaic-window-body, .mosaic-preview .mosaic-preview .mosaic-window-body":{display:"flex",fallbacks:[{display:"-webkit-box"}],webkitBoxOrient:"vertical",webkitBoxDirection:"normal",flexDirection:"column",webkitBoxAlign:"center",alignItems:"center",webkitBoxPack:"center",justifyContent:"center"},".mosaic-window .mosaic-preview h4, .mosaic-preview .mosaic-preview h4":{marginBottom:10},".mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.close-button:before":{content:"'Close'"},".mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.split-button:before":{content:"'Split'"},".mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.replace-button:before":{content:"'Replace'"},".mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.expand-button:before":{content:"'Expand'"}}};const gC=yC;function Gc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function bC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gc(Object(r),!0).forEach(function(n){wC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wC(t,e,r){return e=_C(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _C(t){var e=OC(t,"string");return typeof e=="symbol"?e:String(e)}function OC(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PC=function(e){return{layout:ye(e).layout,windowIds:ye(e).windowIds,workspaceId:ye(e).id}},EC={updateWorkspaceMosaicLayout:lp},$C=bC({root:{"& .mosaic-preview":{boxShadow:"none"},"& .mosaic-tile":{boxShadow:"0 1px 3px 0 rgba(0, 0, 0, .2), 0 1px 1px 0 rgba(0, 0, 0, .2), 0 2px 1px -1px rgba(0, 0, 0, .2)"},"& .mosaic-window":{boxShadow:"none"},"& .mosaic-window-toolbar":{display:"none !important"}}},gC),SC=M(j($C),A(PC,EC),W("WorkspaceMosaic"));const kC=SC(Js);var oi={};Object.defineProperty(oi,"__esModule",{value:!0});var Xs=oi.default=void 0,De=TC(d);function TC(t){return t&&t.__esModule?t:{default:t}}function jt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jt=function(r){return typeof r}:jt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jt(t)}function Jc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){re(t,o,r[o])})}return t}function CC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");xr(t.prototype,e&&e.prototype),e&&xr(t,e)}function xr(t,e){return xr=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},xr(t,e)}function Xc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IC(t,e,r){return e&&Xc(t.prototype,e),r&&Xc(t,r),t}function Yc(t,e){return e&&(jt(e)==="object"||typeof e=="function")?e:F(t)}function Uo(t){return Uo=Object.getPrototypeOf||function(r){return r.__proto__},Uo(t)}function F(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function re(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Pn={position:"absolute",left:0,top:0,right:0,bottom:0,overflow:"hidden",zIndex:-1,visibility:"hidden",pointerEvents:"none"},Qc={position:"absolute",left:0,top:0,transition:"0s"};function xC(t,e){for(var r=t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}var Ys=function(t){function e(){var r,n,o;CC(this,e);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return Yc(o,(n=o=Yc(this,(r=Uo(e)).call.apply(r,[this].concat(c))),re(F(F(o)),"_expandRef",null),re(F(F(o)),"_shrinkRef",null),re(F(F(o)),"_node",null),re(F(F(o)),"_lastWidth",void 0),re(F(F(o)),"_lastHeight",void 0),re(F(F(o)),"_lastRect",void 0),re(F(F(o)),"_hasResize",!1),re(F(F(o)),"_handleScroll",function(u){(o.props.onPosition||o.props.onReflow||o.props.onResize)&&(o._globalScollTarget(u.target)||o._refScrollTarget(u.target)||o._ancestorScollTarget(u.target))&&o._reflow()}),re(F(F(o)),"_globalScollTarget",function(u){return u instanceof Node&&(o.props.onPosition||o.props.onReflow)&&(u===document||u===document.documentElement||u===document.body)}),re(F(F(o)),"_refScrollTarget",function(u){if(u instanceof HTMLElement&&(u===o._expandRef||u===o._shrinkRef)){var s=u.offsetWidth,f=u.offsetHeight;if(s!==o._lastWidth||f!==o._lastHeight)return o._lastWidth=s,o._lastHeight=f,o._reset(o._expandRef),o._reset(o._shrinkRef),!0}return!1}),re(F(F(o)),"_ancestorScollTarget",function(u){return u instanceof Node&&(o.props.onPosition||o.props.onReflow)&&o._node&&xC(o._node,u)}),re(F(F(o)),"_reflow",function(){if(!(!o._node||!(o._node.parentNode instanceof Element))){var u=o._node.parentNode.getBoundingClientRect(),s=!0,f=!0;o._lastRect&&(s=u.width!==o._lastRect.width||u.height!==o._lastRect.height,f=u.top!==o._lastRect.top||u.left!==o._lastRect.left),o._lastRect=u,s&&o.props.onResize&&o.props.onResize(u),f&&o.props.onPosition&&o.props.onPosition(u),(s||f)&&o.props.onReflow&&o.props.onReflow(u)}}),re(F(F(o)),"_handleRef",function(u){o._node=u}),re(F(F(o)),"_handleExpandRef",function(u){o._reset(u),o._expandRef=u}),re(F(F(o)),"_handleShrinkRef",function(u){o._reset(u),o._shrinkRef=u}),n))}return IC(e,[{key:"componentDidMount",value:function(){this._reflow(),window.addEventListener("scroll",this._handleScroll,!0),(this.props.onPosition||this.props.onReflow)&&(window.addEventListener("resize",this._reflow,!0),this._hasResize=!0)}},{key:"componentDidUpdate",value:function(){(this.props.onPosition||this.props.onReflow)&&!this._hasResize?(window.addEventListener("resize",this._reflow,!0),this._hasResize=!0):!(this.props.onPosition||this.props.onReflow)&&this._hasResize&&(window.removeEventListener("resize",this._reflow,!0),this._hasResize=!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this._handleScroll,!0),this._hasResize&&window.removeEventListener("resize",this._reflow,!0)}},{key:"_reset",value:function(n){n&&(n.scrollLeft=1e5,n.scrollTop=1e5)}},{key:"render",value:function(){return this.props.onResize||this.props.onReflow?De.default.createElement("div",{style:Pn,ref:this._handleRef},De.default.createElement("div",{ref:this._handleExpandRef,style:Pn},De.default.createElement("div",{style:Jc({},Qc,{width:1e5,height:1e5})})),De.default.createElement("div",{ref:this._handleShrinkRef,style:Pn},De.default.createElement("div",{style:Jc({},Qc,{width:"200%",height:"200%"})}))):De.default.createElement("noscript",{ref:this._handleRef})}}]),RC(e,t),e}(De.default.Component);re(Ys,"displayName","ResizeObserver");var jC=Ys;Xs=oi.default=jC;function DC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function el(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WC(n.key),n)}}function MC(t,e,r){return e&&el(t.prototype,e),r&&el(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WC(t){var e=NC(t,"string");return typeof e=="symbol"?e:String(e)}function NC(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ko(t,e)}function Ko(t,e){return Ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Ko(t,e)}function AC(t){var e=HC();return function(){var n=jr(t),o;if(e){var a=jr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return LC(this,o)}}function LC(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zC(t)}function zC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jr(t){return jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jr(t)}var Qs=function(t){BC(r,t);var e=AC(r);function r(){return DC(this,r),e.apply(this,arguments)}return MC(r,[{key:"render",value:function(){var o=this.props,a=o.classes,c=o.companionWindowDimensions,l=o.focused,u=o.layout,s=o.workspace,f=o.updateElasticWindowLayout,p=s.width/2,h=s.height/2;return i.createElement(Wl,{key:"".concat(u.windowId,"-").concat(s.id),size:{height:u.height+c.height,width:u.width+c.width},position:{x:u.x+p,y:u.y+h},bounds:"parent",onDragStop:function(v,b){f(u.windowId,{x:b.x-p,y:b.y-h})},onResize:function(v,b,O,P,g){f(u.windowId,{height:Number.parseInt(O.style.height,10)-c.height,width:Number.parseInt(O.style.width,10)-c.width,x:g.x-p,y:g.y-h})},dragHandleClassName:V("window-top-bar"),className:l?a.focused:null},i.createElement(kr,{windowId:u.windowId}))}}]),r}(i.Component);Qs.defaultProps={classes:{},companionWindowDimensions:{height:0,width:0},focused:!1};const VC=Qs;var FC=function(e,r){var n=r.windowId;return{companionWindowDimensions:up(e,{windowId:n}),focused:Tl(e,{windowId:n}),layout:Nl(e)[n],workspace:ye(e)}},qC=function(e,r){return{updateElasticWindowLayout:function(o,a){e(Bl(o,a))}}},UC=function(e){return{focused:{zIndex:e.zIndex.modal-1}}},KC=M(j(UC),A(FC,qC));const ZC=KC(VC);function GC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XC(n.key),n)}}function JC(t,e,r){return e&&tl(t.prototype,e),r&&tl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XC(t){var e=YC(t,"string");return typeof e=="symbol"?e:String(e)}function YC(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zo(t,e)}function Zo(t,e){return Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Zo(t,e)}function eR(t){var e=nR();return function(){var n=Dr(t),o;if(e){var a=Dr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return tR(this,o)}}function tR(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rR(t)}function rR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dr(t){return Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dr(t)}var oR=function(t){QC(r,t);var e=eR(r);function r(){return GC(this,r),e.apply(this,arguments)}return JC(r,[{key:"render",value:function(){var o=this.props,a=o.classes,c=o.workspace,l=o.elasticLayout,u=o.setWorkspaceViewportDimensions,s=o.setWorkspaceViewportPosition,f=c.viewportPosition,p=c.width/2,h=c.height/2;return i.createElement("div",{style:{height:"100%",position:"relative",width:"100%"}},i.createElement(Xs,{onResize:function(v){u(v)}}),i.createElement(Wl,{size:{height:c.height,width:c.width},position:{x:-1*f.x-p,y:-1*f.y-h},enableResizing:{bottom:!1,bottomLeft:!1,bottomRight:!1,left:!1,right:!1,top:!1,topLeft:!1,topRight:!1},onDragStop:function(v,b){s({x:-1*b.x-p,y:-1*b.y-h})},cancel:".".concat(V("window")),className:ee(a.workspace,V("workspace")),disableDragging:!c.draggingEnabled},Object.keys(l).map(function(m){return i.createElement(ZC,{key:m,windowId:m})})))}}]),r}(i.Component);const aR=oR;var iR=function(e){return{elasticLayout:Nl(e),workspace:ye(e)}},cR=function(e,r){return{setWorkspaceViewportDimensions:function(o){e(sp(o))},setWorkspaceViewportPosition:function(o){e(fp(o))},updateElasticWindowLayout:function(o,a){e(Bl(o,a))}}},lR={workspace:{boxSizing:"border-box",margin:0,position:"absolute",transitionDuration:".7s","& .react-draggable-dragging":{transitionDuration:"unset"}}},uR=M(j(lR),A(iR,cR),W("WorkspaceElastic"));const sR=uR(aR);var ai={},fR=J,dR=X;Object.defineProperty(ai,"__esModule",{value:!0});var ef=ai.default=void 0,pR=dR(d),hR=fR(G()),mR=(0,hR.default)(pR.createElement("path",{d:"M4.01 2L4 22h16V8l-6-6H4.01zM13 9V3.5L18.5 9H13z"}),"InsertDriveFileSharp");ef=ai.default=mR;function vR(t){return new Promise(function(e,r){var n=new FileReader;n.addEventListener("load",function(){var o=new Image;o.addEventListener("load",function(){e({height:o.height,name:t.name,type:t.type,url:n.result,width:o.width})}),o.src=n.result}),n.readAsDataURL(t)})}function yR(t,e){return wR(t)||bR(t,e)||tf(t,e)||gR()}function gR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bR(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,o,a,c,l=[],u=!0,s=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){s=!0,o=f}finally{try{if(!u&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw o}}return l}}function wR(t){if(Array.isArray(t))return t}function _R(t){return ER(t)||PR(t)||tf(t)||OR()}function OR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tf(t,e){if(t){if(typeof t=="string")return Go(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Go(t,e)}}function PR(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ER(t){if(Array.isArray(t))return Go(t)}function Go(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var rl=function(e,r,n){var o=n.onDrop;if(e.urls&&e.urls.forEach(function(p){var h=new URL(p),m=h.searchParams.get("manifest"),v=h.searchParams.get("canvas");m&&o({canvasId:v,manifestId:m},n,r)}),e.files){var a=e.files.filter(function(p){return p.type==="application/json"}),c=a.map(function(p){return new Promise(function(h,m){var v=new FileReader;v.addEventListener("load",function(){var b=v.result,O=ln();b&&o({manifestId:O,manifestJson:b},n,r),h()}),v.readAsText(p)})}),l=e.files.filter(function(p){var h=p.type;return h.startsWith("image/")}),u;if(l.length>0){var s=ln(),f=l.map(function(p){return vR(p)});u=Promise.all(f).then(function(p){var h={"@context":"http://iiif.io/api/presentation/3/context.json",id:s,items:p.map(function(v,b){var O=v.name,P=v.type,g=v.width,$=v.height,R=v.url;return{height:$,id:"".concat(s,"/canvas/").concat(b),items:[{id:"".concat(s,"/canvas/").concat(b,"/1"),items:[{body:{format:P,id:R,type:"Image"},height:$,id:"".concat(s,"/canvas/").concat(b,"/1/image"),motivation:"painting",target:"".concat(s,"/canvas/").concat(b,"/1"),type:"Annotation",width:g}],type:"AnnotationPage"}],label:O,type:"Canvas",width:g}}),label:p[0].name,type:"Manifest"},m=ln();h&&o({manifestId:m,manifestJson:h},n,r)})}return Promise.all([].concat(_R(c),[u]))}},rf=function(e){var r=e.children,n=e.onDrop,o=au({accept:[pp,hp],collect:function(m){return{canDrop:m.canDrop(),isOver:m.isOver()}},drop:function(m,v){n&&rl(m,v,e)}}),a=yR(o,2),c=a[0],l=c.canDrop,u=c.isOver,s=a[1],f=function(m){if(!(!window.safari||!n||!m.dataTransfer)&&m.dataTransfer.types.includes("Files")&&m.dataTransfer.types.includes("text/uri-list")){var v=m.dataTransfer.getData("text/uri-list");if(!v)return;rl({urls:[v]},null,e)}},p=l&&u;return i.createElement("div",{ref:s,onDrop:f,style:{height:"100%",width:"100%"}},r,i.createElement(va,{open:p,style:{zIndex:9999}},i.createElement(ef,{style:{color:dp[400],fontSize:256}})))};function $R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kR(n.key),n)}}function SR(t,e,r){return e&&nl(t.prototype,e),r&&nl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kR(t){var e=TR(t,"string");return typeof e=="symbol"?e:String(e)}function TR(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jo(t,e)}function Jo(t,e){return Jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Jo(t,e)}function RR(t){var e=xR();return function(){var n=Mr(t),o;if(e){var a=Mr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return IR(this,o)}}function IR(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nf(t)}function nf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mr(t){return Mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mr(t)}var of=function(t){CR(r,t);var e=RR(r);function r(n){var o;return $R(this,r),o=e.call(this,n),o.handleDrop=o.handleDrop.bind(nf(o)),o}return SR(r,[{key:"handleDrop",value:function(o,a,c){var l=o.canvasId,u=o.manifestId,s=o.manifestJson,f=this.props,p=f.addWindow,h=f.allowNewWindows;h&&p({canvasId:l,manifest:s,manifestId:u})}},{key:"workspaceByType",value:function(){var o=this.props,a=o.workspaceId,c=o.workspaceType,l=o.windowIds;if(this.maximizedWindows())return this.maximizedWindows();if(l.length===0)return this.zeroWindows();switch(c){case"elastic":return i.createElement(sR,null);case"mosaic":return i.createElement(kC,null);default:return l.map(function(u){return i.createElement(kr,{key:"".concat(u,"-").concat(a),windowId:u})})}}},{key:"zeroWindows",value:function(){var o=this.props.t;return i.createElement(q,{alignItems:"center",container:!0,style:{height:"100%"}},i.createElement(q,{xs:12,item:!0},i.createElement(N,{variant:"h1",component:"div",align:"center"},o("welcome"))))}},{key:"maximizedWindows",value:function(){var o=this.props,a=o.maximizedWindowIds,c=o.workspaceId;return a.length>0?a.map(function(l){return i.createElement(kr,{key:"".concat(l,"-").concat(c),windowId:l,className:ee(V("workspace-maximized-window"))})}):!1}},{key:"render",value:function(){var o=this.props,a=o.classes,c=o.isWorkspaceControlPanelVisible,l=o.t;return i.createElement(rf,{onDrop:this.handleDrop},i.createElement("div",{className:ee(V("workspace-viewport"),c&&V("workspace-with-control-panel"),c&&a.workspaceWithControlPanel,a.workspaceViewport)},i.createElement(N,{variant:"srOnly",component:"h1"},l("miradorViewer")),this.workspaceByType()))}}]),r}(i.Component);of.defaultProps={addWindow:function(){},allowNewWindows:!0,maximizedWindowIds:[],windowIds:[]};var jR=function(e){return{allowNewWindows:Me(e).workspace.allowNewWindows,isWorkspaceControlPanelVisible:Me(e).workspaceControlPanel.enabled,maximizedWindowIds:mp(e),windowIds:it(e),workspaceId:ye(e).id,workspaceType:ca(e)}},DR={addWindow:fa},MR=function(e){return{workspaceViewport:{bottom:0,left:0,margin:0,overflow:"hidden",position:"absolute",right:0,top:0},workspaceWithControlPanel:{paddingTop:74},"@media (min-width: 600px)":{workspaceWithControlPanel:{paddingLeft:68,paddingTop:0}}}},WR=M(L(),j(MR),A(jR,DR),W("Workspace"));const NR=WR(of);function BR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ol(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LR(n.key),n)}}function AR(t,e,r){return e&&ol(t.prototype,e),r&&ol(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LR(t){var e=zR(t,"string");return typeof e=="symbol"?e:String(e)}function zR(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xo(t,e)}function Xo(t,e){return Xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Xo(t,e)}function VR(t){var e=qR();return function(){var n=Wr(t),o;if(e){var a=Wr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return FR(this,o)}}function FR(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dt(t)}function Dt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wr(t){return Wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wr(t)}var af=function(t){HR(r,t);var e=VR(r);function r(n){var o;return BR(this,r),o=e.call(this,n),o.state={formValue:""},o.formSubmit=o.formSubmit.bind(Dt(o)),o.handleCancel=o.handleCancel.bind(Dt(o)),o.handleInputChange=o.handleInputChange.bind(Dt(o)),o}return AR(r,[{key:"handleCancel",value:function(){var o=this.props.onCancel;o(),this.setState({formValue:""})}},{key:"handleInputChange",value:function(o){var a=this;o.preventDefault(),a.setState({formValue:o.target.value})}},{key:"formSubmit",value:function(o){var a=this.props,c=a.addResource,l=a.onSubmit,u=this.state.formValue;o.preventDefault(),l(),c(u),this.setState({formValue:""})}},{key:"render",value:function(){var o=this.state.formValue,a=this.props,c=a.addResourcesOpen,l=a.classes,u=a.onCancel,s=a.t;return c?i.createElement("form",{onSubmit:this.formSubmit},i.createElement(q,{container:!0,spacing:2},i.createElement(q,{item:!0,xs:12,sm:8,md:9},i.createElement($l,{autoFocus:!0,fullWidth:!0,value:o,id:"manifestURL",type:"text",onChange:this.handleInputChange,variant:"filled",label:s("addManifestUrl"),helperText:s("addManifestUrlHelp"),InputLabelProps:{shrink:!0},InputProps:{className:l.input}})),i.createElement(q,{item:!0,xs:12,sm:4,md:3,className:l.buttons},u&&i.createElement(le,{onClick:this.handleCancel},s("cancel")),i.createElement(le,{id:"fetchBtn",type:"submit",variant:"contained",color:"primary"},s("fetchManifest"))))):null}}]),r}(d.Component);af.defaultProps={classes:{},onCancel:null,onSubmit:function(){},t:function(e){return e}};function al(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function UR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?al(Object(r),!0).forEach(function(n){cf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):al(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cf(t,e,r){return e=KR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KR(t){var e=ZR(t,"string");return typeof e=="symbol"?e:String(e)}function ZR(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GR={addResource:Al},JR=function(e){return{buttons:cf({textAlign:"right"},e.breakpoints.up("sm"),{textAlign:"inherit"}),input:UR({},e.typography.body1)}},XR=M(j(JR),L(),A(null,GR),W("ManifestForm"));const YR=XR(af);function QR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function il(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tI(n.key),n)}}function eI(t,e,r){return e&&il(t.prototype,e),r&&il(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tI(t){var e=rI(t,"string");return typeof e=="symbol"?e:String(e)}function rI(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yo(t,e)}function Yo(t,e){return Yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Yo(t,e)}function oI(t){var e=cI();return function(){var n=Nr(t),o;if(e){var a=Nr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return aI(this,o)}}function aI(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iI(t)}function iI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nr(t){return Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nr(t)}var lI=function(t){nI(r,t);var e=oI(r);function r(){return QR(this,r),e.apply(this,arguments)}return eI(r,[{key:"render",value:function(){var o=this.props,a=o.classes,c=o.manifestId,l=o.onDismissClick,u=o.onTryAgainClick,s=o.t;return i.createElement(q,{container:!0},i.createElement(q,{container:!0},i.createElement(q,{container:!0,item:!0,xs:12,sm:6},i.createElement(q,{item:!0,xs:4,sm:3},i.createElement(q,{container:!0,justifyContent:"center"},i.createElement(za,{className:a.errorIcon}))),i.createElement(q,{item:!0,xs:8,sm:9},i.createElement(N,null,s("manifestError")),i.createElement(N,{className:a.manifestIdText},c)))),i.createElement(q,{container:!0},i.createElement(q,{container:!0,item:!0,xs:12,sm:6,justifyContent:"flex-end"},i.createElement(q,{item:!0},i.createElement(le,{onClick:function(){l(c)}},s("dismiss")),i.createElement(le,{onClick:function(){u(c)}},s("tryAgain"))))))}}]),r}(d.Component),uI={onDismissClick:vp,onTryAgainClick:Ll},sI=function(e){return{errorIcon:{color:e.palette.error.main,height:"2rem",width:"2rem"},manifestIdText:{wordBreak:"break-all"}}},fI=M(L(),j(sI),A(null,uI),W("ManifestListItemError"));const dI=fI(lI);function pI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mI(n.key),n)}}function hI(t,e,r){return e&&cl(t.prototype,e),r&&cl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mI(t){var e=vI(t,"string");return typeof e=="symbol"?e:String(e)}function vI(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qo(t,e)}function Qo(t,e){return Qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Qo(t,e)}function gI(t){var e=wI();return function(){var n=Br(t),o;if(e){var a=Br(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return bI(this,o)}}function bI(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lf(t)}function lf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Br(t){return Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Br(t)}var uf=function(t){yI(r,t);var e=gI(r);function r(n){var o;return pI(this,r),o=e.call(this,n),o.handleOpenButtonClick=o.handleOpenButtonClick.bind(lf(o)),o}return hI(r,[{key:"componentDidMount",value:function(){var o=this.props,a=o.fetchManifest,c=o.manifestId,l=o.ready,u=o.isFetching,s=o.error,f=o.provider;!l&&!s&&!u&&f!=="file"&&a(c)}},{key:"handleOpenButtonClick",value:function(){var o=this.props,a=o.addWindow,c=o.handleClose,l=o.manifestId;a({manifestId:l}),c()}},{key:"render",value:function(){var o=this.props,a=o.active,c=o.buttonRef,l=o.manifestId,u=o.ready,s=o.title,f=o.thumbnail,p=o.manifestLogo,h=o.size,m=o.classes,v=o.provider,b=o.t,O=o.error,P=o.isCollection,g=o.isMultipart,$=i.createElement(q,{container:!0,className:V("manifest-list-item"),spacing:2},i.createElement(q,{item:!0,xs:3,sm:2},i.createElement(fe,{className:m.placeholder,variant:"rect",height:80,width:120})),i.createElement(q,{item:!0,xs:9,sm:6},i.createElement(fe,{className:m.placeholder,variant:"text"})),i.createElement(q,{item:!0,xs:8,sm:2},i.createElement(fe,{className:m.placeholder,variant:"text"}),i.createElement(fe,{className:m.placeholder,variant:"text"})),i.createElement(q,{item:!0,xs:4,sm:2},i.createElement(fe,{className:m.placeholder,variant:"rect",height:60,width:60})));return O?i.createElement(si,{divider:!0,className:m.root,"data-manifestid":l},i.createElement(dI,{manifestId:l})):i.createElement(si,{divider:!0,className:[m.root,a?m.active:""].join(" "),"data-manifestid":l},u?i.createElement(q,{container:!0,className:V("manifest-list-item"),spacing:2},i.createElement(q,{item:!0,xs:12,sm:6,className:m.buttonGrid},i.createElement(ra,{ref:c,className:V("manifest-list-item-title"),style:{width:"100%"},onClick:this.handleOpenButtonClick},i.createElement(q,{container:!0,spacing:2,className:m.label,component:"span"},i.createElement(q,{item:!0,xs:4,sm:3,component:"span"},f?i.createElement(fi,{className:[m.thumbnail,V("manifest-list-item-thumb")].join(" "),src:[f],alt:"",height:"80",unloader:i.createElement(fe,{variant:"rect",animation:!1,className:m.placeholder,height:80,width:120})}):i.createElement(fe,{className:m.placeholder,variant:"rect",height:80,width:120})),i.createElement(q,{item:!0,xs:8,sm:9,component:"span"},P&&i.createElement(N,{component:"div",variant:"overline"},b(g?"multipartCollection":"collection")),i.createElement(N,{component:"span",variant:"h6"},s||l))))),i.createElement(q,{item:!0,xs:8,sm:4},i.createElement(N,{className:V("manifest-list-item-provider")},v),i.createElement(N,null,b("numItems",{count:h,number:h}))),i.createElement(q,{item:!0,xs:4,sm:2},p&&i.createElement(fi,{src:[p],alt:"",role:"presentation",className:m.logo,unloader:i.createElement(fe,{variant:"rect",animation:!1,className:m.placeholder,height:60,width:60})}))):$)}}]),r}(i.Component);uf.defaultProps={active:!1,buttonRef:void 0,classes:{},error:null,handleClose:function(){},isCollection:!1,isFetching:!1,isMultipart:!1,manifestLogo:null,provider:null,ready:!1,size:0,t:function(e){return e},thumbnail:null,title:null};function ll(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function ul(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ll(Object(r),!0).forEach(function(n){_I(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ll(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _I(t,e,r){return e=OI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OI(t){var e=PI(t,"string");return typeof e=="symbol"?e:String(e)}function PI(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EI=function(e,r){var n=r.manifestId,o=r.provider,a=Bt(e,{manifestId:n})||{},c=At(e,{manifestId:n}),l=(c||{isCollection:function(){return!1}}).isCollection(),u=l?c.getTotalItems():Sn(e,{manifestId:n}).length;return{active:yp(e).includes(n),error:a.error,isCollection:l,isFetching:a.isFetching,isMultipart:l&&xl(e,{manifestId:n}).includes("multi-part"),manifestLogo:gp(e,{manifestId:n}),provider:o||bp(e,{manifestId:n}),ready:!!a.json,size:u,thumbnail:wp(e,{manifestId:n}),title:Ur(e,{manifestId:n})}},$I={addWindow:fa,fetchManifest:Ll},SI=function(e){return{active:{},buttonGrid:{},label:{textAlign:"left",textTransform:"initial"},logo:{height:"2.5rem",maxWidth:"100%",objectFit:"contain",paddingRight:8},placeholder:{backgroundColor:e.palette.grey[300]},root:ul(ul({},e.mixins.gutters()),{},{"&$active":{borderLeft:"4px solid ".concat(e.palette.primary.main)},"&:hover,&:focus-within":{"&$active":{borderLeft:"4px solid ".concat(e.palette.primary.main)},backgroundColor:e.palette.action.hover,borderLeft:"4px solid ".concat(e.palette.action.hover)},borderLeft:"4px solid transparent"}),thumbnail:{maxWidth:"100%",objectFit:"contain"}}},kI=M(L(),j(SI),A(EI,$I),W("ManifestListItem"));const TI=kI(uf);function CI(t,e,r){return e=sf(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sf(n.key),n)}}function II(t,e,r){return e&&sl(t.prototype,e),r&&sl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sf(t){var e=xI(t,"string");return typeof e=="symbol"?e:String(e)}function xI(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ea(t,e)}function ea(t,e){return ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ea(t,e)}function DI(t){var e=WI();return function(){var n=Ar(t),o;if(e){var a=Ar(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return MI(this,o)}}function MI(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mt(t)}function Mt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ar(t){return Ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ar(t)}var ff=function(t){jI(r,t);var e=DI(r);function r(n){var o;return RI(this,r),o=e.call(this,n),o.state={addResourcesOpen:!1},o.ref=i.createRef(),o.onSubmit=o.onSubmit.bind(Mt(o)),o.setAddResourcesVisibility=o.setAddResourcesVisibility.bind(Mt(o)),o.handleDrop=o.handleDrop.bind(Mt(o)),o}return II(r,[{key:"handleDrop",value:function(o,a,c){var l=o.manifestId,u=o.manifestJson,s=this.props.addResource;u?s(l,u,{provider:"file"}):s(l),this.scrollToTop()}},{key:"onSubmit",value:function(){this.setAddResourcesVisibility(!1),this.scrollToTop()}},{key:"setAddResourcesVisibility",value:function(o){this.setState({addResourcesOpen:o})}},{key:"scrollToTop",value:function(){if(this.ref.current){var o=this.ref.current;o.scrollTo({behavior:"smooth",left:0,top:0})}}},{key:"render",value:function(){var o=this,a=this.props,c=a.catalog,l=a.setWorkspaceAddVisibility,u=a.t,s=a.classes,f=this.state.addResourcesOpen,p=c.map(function(h,m){return i.createElement(TI,Object.assign({},m===0&&{buttonRef:function(b){return b&&b.focus()}},{key:h.manifestId,manifestId:h.manifestId,provider:h.provider,handleClose:function(){return l(!1)}}))});return i.createElement(rf,{onDrop:this.handleDrop},i.createElement("div",{ref:this.ref,className:ee(V("workspace-add"),s.workspaceAdd)},c.length<1?i.createElement(q,{alignItems:"center",container:!0,style:{height:"100%"}},i.createElement(q,{xs:12,item:!0},i.createElement(N,{variant:"h1",component:"div",align:"center"},u("emptyResourceList")))):i.createElement(se,{className:s.list},i.createElement(N,{variant:"srOnly",component:"h1"},u("miradorResources")),i.createElement(he,this.props),i.createElement(_p,{disablePadding:!0},p)),i.createElement(Gl,{variant:"extended",disabled:f,className:ee(s.fab,V("add-resource-button")),color:"primary",onClick:function(){return o.setAddResourcesVisibility(!0)}},i.createElement(_a,null),u("addResource")),i.createElement(Zl,{className:ee(CI({},s.displayNone,!f)),classes:{paper:s.paper},variant:"persistent",anchor:"bottom",open:f,ModalProps:{disablePortal:!0,hideBackdrop:!0,style:{position:"absolute"}}},i.createElement(se,{className:s.form},i.createElement(Zr,{position:"absolute",color:"primary",onClick:function(){return o.setAddResourcesVisibility(!1)}},i.createElement(qr,{variant:"dense"},i.createElement(ue,{"aria-label":u("closeAddResourceForm"),className:s.menuButton,color:"inherit"},i.createElement(Ta,null)),i.createElement(N,{variant:"h2",noWrap:!0,color:"inherit",className:s.typographyBody},u("addResource")))),i.createElement(YR,{addResourcesOpen:f,onSubmit:this.onSubmit,onCancel:function(){return o.setAddResourcesVisibility(!1)}})))))}}]),r}(i.Component);ff.defaultProps={addResource:function(){},catalog:[],classes:{},t:function(e){return e}};function fl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function dl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fl(Object(r),!0).forEach(function(n){df(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fl(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function df(t,e,r){return e=NI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NI(t){var e=BI(t,"string");return typeof e=="symbol"?e:String(e)}function BI(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AI=function(e){return{catalog:Op(e)}},LI={addResource:Al,setWorkspaceAddVisibility:ia},zI=function(e){return{displayNone:{display:"none"},fab:{bottom:e.spacing(2),position:"absolute",right:e.spacing(2)},form:dl(dl({},e.mixins.gutters()),{},{left:"0",marginTop:48,paddingBottom:e.spacing(2),paddingTop:e.spacing(2),right:"0"}),list:{margin:"16px"},menuButton:{marginLeft:-12,marginRight:20},paper:df({borderTop:"0",left:"0"},e.breakpoints.up("sm"),{left:"65px"}),typographyBody:{flexGrow:1},workspaceAdd:{boxSizing:"border-box",height:"100%",overflowX:"hidden",overflowY:"auto",paddingTop:68},"@media (min-width: 600px)":{workspaceAdd:{paddingLeft:68,paddingTop:0}}}},HI=M(L(),j(zI),A(AI,LI),W("WorkspaceAdd"));const VI=HI(ff);var pf=function(e){return i.createElement("div",{className:V("background-plugin-area"),style:{display:"none"}},i.createElement(he,e))};pf.defaultProps={PluginComponents:[]};const FI=W("BackgroundPluginArea")(pf);function qI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KI(n.key),n)}}function UI(t,e,r){return e&&pl(t.prototype,e),r&&pl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function KI(t){var e=ZI(t,"string");return typeof e=="symbol"?e:String(e)}function ZI(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ta(t,e)}function ta(t,e){return ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ta(t,e)}function JI(t){var e=QI();return function(){var n=Lr(t),o;if(e){var a=Lr(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return XI(this,o)}}function XI(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YI(t)}function YI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lr(t){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lr(t)}var hf=function(t){GI(r,t);var e=JI(r);function r(){return qI(this,r),e.apply(this,arguments)}return UI(r,[{key:"render",value:function(){var o=this.props,a=o.classes,c=o.controlPanelVariant,l=o.isWorkspaceAddVisible,u=o.isWorkspaceControlPanelVisible,s=o.lang,f=o.t;return i.createElement(i.Fragment,null,u&&i.createElement(S_,{variant:c}),i.createElement("main",{className:ee(a.viewer,V("viewer")),lang:s,"aria-label":f("workspace")},l?i.createElement(VI,null):i.createElement(NR,null),i.createElement(Qm,null),i.createElement(FI,null)))}}]),r}(d.Component);hf.defaultProps={controlPanelVariant:void 0,isWorkspaceAddVisible:!1,lang:void 0};var e2=function(e){return{controlPanelVariant:ye(e).isWorkspaceAddVisible||it(e).length>0?void 0:"wide",isWorkspaceAddVisible:ye(e).isWorkspaceAddVisible,isWorkspaceControlPanelVisible:Me(e).workspaceControlPanel.enabled,lang:Me(e).language}},t2=function(e){var r=e.palette.type==="light"?kn:Tn;return{viewer:{background:r(e.palette.shades.light,.1),bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0}}},r2=M(L(),j(t2),A(e2),W("WorkspaceArea"));const n2=r2(hf),a2=Object.freeze(Object.defineProperty({__proto__:null,default:n2},Symbol.toStringTag,{value:"Module"}));export{q as G,a2 as W,as as d,Mk as i};
